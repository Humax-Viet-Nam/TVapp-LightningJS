!function(){function e(n){var r="function"==typeof Map?new Map:void 0;return e=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return t(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},e(n)}function t(e,n,r){return t=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o},t.apply(null,arguments)}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},n.apply(this,arguments)}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new B(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",g="executing",v="completed",y={};function m(){}function x(){}function A(){}var w={};c(w,s,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(_([])));C&&C!==n&&o.call(C,s)&&(w=C);var I=A.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,i,a,s){var u=f(e[r],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}})}function S(t,n,r){var o=h;return function(i,a){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?v:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function _(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return x.prototype=A,i(I,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:x,configurable:!0}),x.displayName=c(A,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,c(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},k(E.prototype),c(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(I),c(I,l,"Generator"),c(I,s,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=d();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||y(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function b(e,t){return I(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||E(e,t)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e){if(Array.isArray(e))return e}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./CoreExtension-legacy-9c321c51.js"],(function(t,o){"use strict";var s,d,h,m;return{setters:[function(e){s=e.E,d=e.T,h=e.W,m=e.C}],execute:function(){var t,w=document.createElement("style");function S(e,t){for(var n=function(){var n=t[r];if("string"!=typeof n&&!Array.isArray(n)){var o=function(t){if("default"!==t&&!(t in e)){var r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}};for(var i in n)o(i)}},r=0;r<t.length;r++)n();return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}w.textContent="*,html{padding:0;margin:0;box-sizing:border-box}#app{width:max-content;height:max-content;overflow:hidden;line-height:0}#player{top:20px;right:0;left:0;width:80%;margin:0 auto}#player{position:absolute;display:block}video{position:relative;float:left;width:100%;object-fit:inherit}.controls{position:absolute;z-index:999;float:left;overflow:hidden;width:100%;height:100%;margin:0;padding:0;opacity:0;background:transparent}.controls button,.controls .dropbtn{overflow:hidden;cursor:pointer;text-align:center;white-space:nowrap;text-overflow:ellipsis;border:none;background:transparent;background-repeat:no-repeat;background-size:contain;-webkit-appearance:none;-moz-appearance:none}.controls button:focus,.controls .dropbtn:focus{outline:none}.controls button::-moz-focus-inner{border:0}.controls button[data-state=back]{position:absolute;top:92%;left:44%;width:40px;height:40px;margin:-25px}.controls button[data-state=next]{position:absolute;top:92%;left:56%;width:40px;height:40px;margin:-25px}.controls button[data-state=max]{position:absolute;top:92%;right:10%;width:40px;height:40px;margin:-25px}#time{position:absolute;top:89%;left:5%;font-weight:700;color:#fff}#time span{font-weight:700;color:#fff}.controls button[data-state=play],.controls button[data-state=pause]{position:absolute;top:92%;left:50%;width:40px;height:40px;margin:-25px}@media (max-width: 568px){.controls button[data-state=play],.controls button[data-state=pause]{width:25px;height:25px;margin:-12.5px}}.controls button[data-state=mute],.controls button[data-state=unmute]{position:absolute;top:30px;right:75px;width:30px;height:30px;margin:-15px}@media (max-width: 568px){.controls button[data-state=mute],.controls button[data-state=unmute]{width:15px;height:15px;margin:-7.5px}}@media (max-width: 568px){.controls button[data-state=mute],.controls button[data-state=unmute]{top:15px;right:37.5px}}.controls .dropbtn{position:absolute;width:30px;height:30px;margin:-15px}@media (max-width: 568px){.controls .dropbtn{width:15px;height:15px;margin:-7.5px}}.controls .dropdown{position:absolute;top:30px;right:30px;display:inline-block}@media (max-width: 568px){.controls .dropdown{top:15px;right:15px}}.controls .dropdown-content{font-size:10px;position:absolute;z-index:1;top:15px;right:-24px;display:none;overflow:auto;background-color:#000}@media (max-width: 568px){.controls .dropdown-content{font-size:6px;top:7.5px;right:-12px}}.controls .dropdown-content button{display:block;padding:.8em 1em;cursor:pointer;width:100%;text-decoration:none;color:#fff}.controls .show{display:block}.controls .progress{position:absolute;top:77%;width:100%;margin:0;padding:0;cursor:pointer}.controls .progress progress{width:90%;opacity:.5;margin:auto;display:block}.controls button:focus{border:2px solid #000}.controls progress:focus{border:2px solid #000}.controls button[data-state=max]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yIDlWNi41QzIgNC4wMSA0LjAxIDIgNi41IDJIOSIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0xNSAySDE3LjVDMTkuOTkgMiAyMiA0LjAxIDIyIDYuNVY5IiBzdHJva2U9IiMyOTJEMzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjxwYXRoIGQ9Ik0yMiAxNlYxNy41QzIyIDE5Ljk5IDE5Ljk5IDIyIDE3LjUgMjJIMTYiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggb3BhY2l0eT0iMC40IiBkPSJNOSAyMkg2LjVDNC4wMSAyMiAyIDE5Ljk5IDIgMTcuNVYxNSIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8L3N2Zz4=)}.controls button[data-state=back]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIG9wYWNpdHk9IjAuNCIgZD0iTTkuNTM5MDYgMTUuOTJWMTAuNTgwMUw4LjAzOTA2IDEyLjI1MDEiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTEwLjAxOTUgNC40Njk5N0wxMS45OTk1IDIiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTQuOTA5MzkgNy43OTk3NEMzLjc5OTM5IDkuMjc5NzQgMy4xMDkzOCAxMS4xMDk3IDMuMTA5MzggMTMuMTA5N0MzLjEwOTM4IDE4LjAxOTcgNy4wODkzOSAyMS45OTk4IDExLjk5OTQgMjEuOTk5OEMxNi45MDk0IDIxLjk5OTggMjAuODg5NCAxOC4wMTk3IDIwLjg4OTQgMTMuMTA5N0MyMC44ODk0IDguMTk5NzQgMTYuOTA5NCA0LjIxOTczIDExLjk5OTQgNC4yMTk3M0MxMS4zMTk0IDQuMjE5NzMgMTAuNjU5NCA0LjMwOTc4IDEwLjAxOTQgNC40NTk3OCIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0xNCAxMC41ODAxQzE1LjEgMTAuNTgwMSAxNiAxMS40ODAxIDE2IDEyLjU4MDFWMTMuOTMwMUMxNiAxNS4wMzAxIDE1LjEgMTUuOTMwMSAxNCAxNS45MzAxQzEyLjkgMTUuOTMwMSAxMiAxNS4wMzAxIDEyIDEzLjkzMDFWMTIuNTgwMUMxMiAxMS40NzAxIDEyLjkgMTAuNTgwMSAxNCAxMC41ODAxWiIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8L3N2Zz4=)}.controls button[data-state=next]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMy45OCA0LjQ2OTk3TDEyIDIiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTE5LjA4OTQgNy43OTk3NEMyMC4xOTk0IDkuMjc5NzQgMjAuODg5NCAxMS4xMDk3IDIwLjg4OTQgMTMuMTA5N0MyMC44ODk0IDE4LjAxOTcgMTYuOTA5NCAyMS45OTk4IDExLjk5OTQgMjEuOTk5OEM3LjA4OTM5IDIxLjk5OTggMy4xMDkzOCAxOC4wMTk3IDMuMTA5MzggMTMuMTA5N0MzLjEwOTM4IDguMTk5NzQgNy4wODkzOSA0LjIxOTczIDExLjk5OTQgNC4yMTk3M0MxMi42Nzk0IDQuMjE5NzMgMTMuMzM5NCA0LjMwOTc4IDEzLjk3OTQgNC40NTk3OCIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik05LjUzOTA2IDE1LjkyVjEwLjU4MDFMOC4wMzkwNiAxMi4yNTAxIiBzdHJva2U9IiMyOTJEMzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjxwYXRoIG9wYWNpdHk9IjAuNCIgZD0iTTE0IDEwLjU4MDFDMTUuMSAxMC41ODAxIDE2IDExLjQ4MDEgMTYgMTIuNTgwMVYxMy45MzAxQzE2IDE1LjAzMDEgMTUuMSAxNS45MzAxIDE0IDE1LjkzMDFDMTIuOSAxNS45MzAxIDEyIDE1LjAzMDEgMTIgMTMuOTMwMVYxMi41ODAxQzEyIDExLjQ3MDEgMTIuOSAxMC41ODAxIDE0IDEwLjU4MDFaIiBzdHJva2U9IiMyOTJEMzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjwvc3ZnPg==)}.controls button[data-state=play]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDgwMCA4MDAiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgwMCA4MDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJMYXllcl8xIj48cGF0aCBkPSJNNzcxLjksNDAwYzAsMjA1LjMtMTY2LjYsMzcxLjktMzcxLjksMzcxLjlTMjguMSw2MDUuMywyOC4xLDQwMFMxOTQuNywyOC4xLDQwMCwyOC4xICAgUzc3MS45LDE5NC43LDc3MS45LDQwMHoiIGZpbGw9IiM0REI2QUMiLz48L2c+PGcgaWQ9IkxheWVyXzIiPjxnPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTYiIHgxPSIzMjMuMyIgeDI9IjMyMy4zIiB5MT0iMjM1LjkiIHkyPSI1NjQuMSIvPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTYiIHgxPSIzMjMuMyIgeDI9IjU1MC40IiB5MT0iMjM1LjkiIHkyPSI0MDAiLz48bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjE2IiB4MT0iNTUwLjQiIHgyPSIzMjMuMyIgeTE9IjQwMCIgeTI9IjU2NC4xIi8+PC9nPjwvZz48L3N2Zz4=)}.controls button[data-state=pause]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48bGluZWFyR3JhZGllbnQgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJTVkdJRF8xXyIgeDE9IjI1NiIgeDI9IjI1NiIgeTE9IjUxMiIgeTI9Ii05LjA5NDk0N2UtMDEzIj48c3RvcCBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGODU3QTYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRjU4NTgiLz48L2xpbmVhckdyYWRpZW50PjxjaXJjbGUgY3g9IjI1NiIgY3k9IjI1NiIgZmlsbD0idXJsKCNTVkdJRF8xXykiIHI9IjI1NiIvPjxnPjxwYXRoIGQ9Ik0yMTMuMiwxMjloLTU5LjFjLTkuMiwwLTE2LjYsNy41LTE2LjYsMTYuNnYyMjAuN2MwLDkuMiw3LjUsMTYuNiwxNi42LDE2LjZoNTkuMWM5LjIsMCwxNi42LTcuNSwxNi42LTE2LjYgICBWMTQ1LjdDMjI5LjksMTM2LjUsMjIyLjQsMTI5LDIxMy4yLDEyOXogTTIxNy40LDM2Ni4zYzAsMi4zLTEuOSw0LjItNC4yLDQuMmgtNTkuMWMtMi4zLDAtNC4yLTEuOS00LjItNC4yVjE0NS43ICAgYzAtMi4zLDEuOS00LjIsNC4yLTQuMmg1OS4xYzIuMywwLDQuMiwxLjksNC4yLDQuMlYzNjYuM3oiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMzU3LjgsMTI5aC01OS4xYy05LjIsMC0xNi42LDcuNS0xNi42LDE2LjZ2MjIwLjdjMCw5LjIsNy41LDE2LjYsMTYuNiwxNi42aDU5LjFjOS4yLDAsMTYuNi03LjUsMTYuNi0xNi42ICAgVjE0NS43QzM3NC41LDEzNi41LDM2NywxMjksMzU3LjgsMTI5eiBNMzYyLDM2Ni4zYzAsMi4zLTEuOSw0LjItNC4yLDQuMmgtNTkuMWMtMi4zLDAtNC4yLTEuOS00LjItNC4yVjE0NS43ICAgYzAtMi4zLDEuOS00LjIsNC4yLTQuMmg1OS4xYzIuMywwLDQuMiwxLjksNC4yLDQuMlYzNjYuM3oiIGZpbGw9IiNGRkZGRkYiLz48L2c+PC9zdmc+)}.controls button[data-state=mute]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyOCAxMjg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPjxnPjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjY0Ii8+PC9nPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02MC41LDM4TDM4LDUySDI4Yy0yLjIsMC00LDEuOC00LDR2MTZjMCwyLjIsMS44LDQsNCw0aDEwbDIyLjUsMTRjMC42LDAuNSwxLjUsMCwxLjUtMC44VjM4LjggIEM2MiwzOC4xLDYxLjIsMzcuNiw2MC41LDM4eiIvPjxnPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04Ny43LDk2LjhsLTEuMy0xLjVjLTAuNC0wLjQtMC4zLTEsMC4xLTEuNEM5NS4xLDg2LjMsMTAwLDc1LjUsMTAwLDY0YzAtMTEuOC01LjEtMjIuOS0xNC4xLTMwLjUgICBjLTAuMi0wLjEtMC41LTAuNC0wLjktMC43cy0wLjUtMC45LTAuMi0xLjNsMS4xLTEuN2MwLjMtMC41LDEtMC42LDEuNC0wLjJjMC41LDAuNCwxLDAuOCwxLDAuOEM5OC4zLDM4LjgsMTA0LDUxLDEwNCw2NCAgIGMwLDEyLjYtNS40LDI0LjYtMTQuOCwzM0M4OC43LDk3LjMsODguMSw5Ny4zLDg3LjcsOTYuOHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjEsODguM2wtMS4yLTEuNmMtMC4zLTAuNC0wLjMtMSwwLjItMS40Qzg0LjQsODAsODgsNzIuMyw4OCw2NHMtMy42LTE2LTEwLTIxLjNjLTAuNC0wLjMtMC41LTEtMC4yLTEuNCAgIGwxLjItMS42YzAuMy0wLjQsMS0wLjUsMS40LTAuMkM4Ny44LDQ1LjcsOTIsNTQuNSw5Miw2NHMtNC4yLDE4LjMtMTEuNSwyNC40QzgwLjEsODguOCw3OS41LDg4LjcsNzkuMSw4OC4zeiIvPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjkuNiw3OC4yYy0wLjQtMC40LTAuMy0xLjEsMC4xLTEuNGM0LTMuMSw2LjMtNy44LDYuMy0xMi43YzAtNS4xLTIuMy05LjgtNi4zLTEyLjdjLTAuNC0wLjMtMC41LTEtMC4yLTEuNCAgIGwxLjMtMS41YzAuMy0wLjQsMC45LTAuNSwxLjQtMC4yQzc3LjEsNTEuOCw4MCw1Ny43LDgwLDY0YzAsNi4xLTIuOSwxMS45LTcuNywxNS44Yy0wLjQsMC4zLTEsMC4zLTEuNC0wLjFMNjkuNiw3OC4yeiIvPjwvZz48L3N2Zz4=)}.controls button[data-state=unmute]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAMNUlEQVR4Xu2dO5IUSRJAo08wsyeY5gQwJ5jeEzRSqwUKGjaMhoAZhYCANIwhIdEjYijsCXY4Ac0JtpcLLJygxl5tRVtWVmbGx90jI7I6zcraMPIX7i88/BMZceKWd/zknDt1zp055350zt3bNZG//Dvm+Oacu9qdyF/+/Zdz7to599+YG7RyzkkrLzrxnr/slI3CU5Sc23QPB0Dw+5R7oxquaxEAevj93Q+l13AAwsfdrykL0QoAXukPOia9BsUPvQNDxmUrMNQOwMo5h9Jr6emp0GEZgOHP1AtLnV8jAD84557sFI8zt4QD5xEQXjvnvtfUoJoA8IpH+bHeek2yjHkXHEggqAaEGgA4BsX34agGhLkBYIxf7+L2mB60tHMYGmj/bD7CXADg1TMmturcaYOIs4izWzyEnAOA5zvqtYW4hPthDV6UbEhJAOj1JEt8arZkO1t6FnkEEl1FrEEpABjr8XyX6t1rA4aTSDRk7huUAOD3XWO0hXQM98NPemjZUEsACO9wbmow+b6ih9fNb+og+cSvW0m01EHo3rw7zrJJAskKgLu78X6OTB7QITRfvv0SknDg/2mLLy8D8xyRC9DiF0jbctBUCwAQGMIvNd4zXvpKHM816SkdyWHZgMBXJEu2k+eqQqANQCnld5X+L2EPl15+XhAG2q0KgSYATMygJ1r2CEwh0QTOkXVPTwUDy0AyB+/deujjOSoRghYA1j1/9pRpIg0lUtz4I+LhQAMAS+W3pvg+J5YgqAwHUgDMlP/48ePrN2/eQHltpj7RGDhf7STNq32IIZAAQMMIt1THu7t377rLy0t37942fXB5cnJimgjR1sjE/egs+C7aeRGsZHZHkQDwWbsxz58/d+v1QUdZEgTwYVEMoyP+nANzLgDvdh5vzjNHr1mtVtveP3C0CAEWEpox0/0Kn0WiLCttnAMAjs2gljRoWAgE5AaQESHxWInXIlWeHB6mAkBJF3NjGeu7hiEYmugSqvFrWlOsDf5AdCk5FQD1cX/MajQIwa+73t7vHCEAEIFmxTTJH0gBwMJ5mRw1GoEg5N3HAIAcNIfW2Ge6WAAwbaEyqoYLcHCPiiGIje+jlaEMAeF5cCiIBeDfM5VBt0BUCAF1D5y8mBxICgCawwGV0X+GemUMAJqmKfQ+tYeI9HqKUXjbsUcqANxXyzEMRgUhAEyyfbGS6583syXohnYpTcgBgPtrWN1gljAEQHHHLyTZGSCQfsOQC4BW55t8/hQAvAAEiWL+d+/euSdPnrjv3/VqOgUhGAvtQpx2/z8XAO5BhOFXKkl5ZvdccgP4KoMKmAJA3Pt9bv/q6sqdnZ21BEEotEtRhgQAniPWw0Q2cjQMFPd+qnoo3h+NQBAb2pUEQMMfGLUCYxZATN3nz599SbcVCFJCu9IAaAwFg5ZoDID/RMa4Y4JYbzYbvyjC3jkVWoKc0K40ABpDAfq403/xIQCkcf9N6LHZbAbvVREEJT5Zk/oAXmcaUcFBXmAIAGn8ufeQSiGQhnZzWACeKe2cB9nBPgDSnP+gmakMAvybksvQaFkAD510eN6rEfQBIO4l1Zl7jKYea4Dgw4cP3y4uLkR5jQzBaAMgtQLA/4dvRx8ASb1/sPd3BVYDBEw5e/iw6DxTbQAQqcQK7M0X6AIgNf97ZI31lCOEwAIAqRW4GQa6AEjM/2S6sQ/DkUFgAYA0UXfTWbsASLz/5BmpRwSBBQD0KUnJ+CYa6AKwyXBw/CV8sZq8avaRQGAFAJlLFJl7bHXvAZDcLOj8Tb3hEUBgBYDUGdx2Wg+AJPefbP6PzCewBEAym3j7Xh4AyfjPShniRRoWbAksAWCWEmsy5BxbP8AD8D/BxI/QrKLol1soBJYAINtc343I7R8oTxL/R808jSbg/zOAN0PfB5YsICkni6wBkFjvUwCQOIAWjduMTflqFAILGXX7lMR/OwMAyQ1Uxv+ehdiatAVBYA2AxA9YA4DEk4z6+iRlCOiOaQuBwBoAyRD+GgAkY4iaA9iBZM+pWQAE1gBIHMG/JAAkfYWaYAUOvNrGISgBQG4VdwtAbgioHgHsIBkMaxqGoAQAuVb8GwDkxpFMHPktoWfHnjr6Po1CUAKAbD9OAoBVwyaBbBACKzmphILNAdBgiHgLQKztn/IB+vdoyBLcAmABQEOW4BYAKwAageAWAEsAaoHg48eP7sGDB0NfQN8CYA1ALRCMFKtuASgBQMUQLBaA4omgGJBqiA56lqAEAKJEUBOp4Bjl+3Mqg6AEAKJUcO7FxYpBKcqvDYLz8/P1169frfcDFhWDcgFA1ubl4Bzl1wTBbpGns5OTE71Vsg6FklvP2VYDs8eP3SoiweVIE5WY25jBx9QwHBhDIJ4QUuWUsERoJk9fOATiKWHVTQrVVP4RDAeSDrydFCoxIRaTQlSHgC5MC7UEEh9uOy2cIzcUtHAEzQCoJVmk7BPkyuvmwxDkIqFIe2p4boOiR44FWQLJ+L/3aZhkHBF/HNrTnDkAC7IEkghu7+NQiSMo+jx8oNsWAWAhEEjWCtr7PBx5SASftUDEiM2WvEf0MLCA6EDSaW98t9mWiJnQFA2THHytRKEqejm4Rn0C9SViii0SJdFu5LUsooRvgoMadTQGgckiUZJ8AEKOWiYuSht6JyWtAN4QBCbLxCH23KoS12o7g1oY+D18ATR4NAKBxPkbXSgS4UiGAa4P7lIV1IDdCdG7gFQOgbT3Ty4VKx0GarUCXayi9gGqGAJJ70cOk4tFc4IkK1i7FfAgRC0XXyEE0t4fXC4eAUkfEtyrzs7KJ985uBdgLRA8e/bs/suXL1FgzG6lY4KI2jCCi6VmpsQ8uGRtj1wQ3DKmBgiePn367dWrV9G5jYG2Rm8Zw7WS2oB/NvvYf9HSUoH7TIaMc0JwfX3t7tw52O4nVSSDnXJsTp800cDLWU0aTW14yvmT28bNBQF7Ln76lLwUc7fdydvGaVmBloaCrsBGQ8bSEJyenroXL8STikf1MDWrV8MKINTWhoJgyFgSghTzNXJu9taxWlagpahgSIaDIWNDEExa4dC8fo296lr1B/owHISMDUAQ7HwhADTyAl6Q2jOHFKxj8i0O6gqVQxBMzccAgJSk2UEvaasPSpM1KbxgL2SsFIKoGduxAEhrBF15B6kUKqfk5Tf5kgohiFrGNxYALYfQK2dJEBAyYtnOKoIgOvxOAQDlSeYL9HvmUoYD365tlXG1Wv1Yar+DEVOXlIBLBYChgAdIctLd916CY9htD/J5vVqt7s8EATE/eZfoD3ZTAdCMCrzgAIpZxZafT5f0C3jW+aNHjy7fvn170FEsNr3oNC55aM0BgOdJZqQOKYN4lQmcLRWPQlD98P79+/XFxcXBVDTlLWlEYXYuANr+gG9EtPMSkn4t/9/fCGu9Xmvk9vvNSxr3uxdLANDKEg41BlO2GGsABFdXV5esI/jli3qzgtm+qc4gAYD7EgKRcNByCrvvijUgUmjdN5gsMQstFU4f/lM2VVIArCGAbkD4UyiouS5neh3vL5nGNfbuYuVzYw0ArCHg/q2BYKl45KGifE0ASkDgQWBYIH9Q29CAqcd3weu36PFdS5Ac7o2ZES0L4O9v6RN020APYM9cfuJ9i4XjA2ViQlh+Fr5Qv92iMb/fVm0ASlmCMRhwSK0tAz0dJZRSum+rmtnXCgOnOg6WgN5pbQqH3gEIiIv5i++Q7SHvbk5baAdKJ83K39KHWaLMwgJ44dBTUAJCm/sACHoQguQ3daBsfpjzWt7dLFVuCYAXsmQdm7nBmfv55sWyEgAgRMKipFU75pb8zM/HWhFNmOc/SgGAPCmV4hfUYFZn1u/k4xmucDCjS7qSxpQEwL+nxmdnkjbXfG3xYtgcAHhrwPg2h0ddIwA4yyR3ivT6EmFgrJCtU6ax7zHXebOnuOeyAF2B+2oZTo91Jm0uRfefi5OHUzx7tbMGALp5AyBYMgjVKN4LvSYA+iAwJs6RSbSwEph6fJ7Ze3y/cTUC0H1HfARAaNVZxLlD8ebxfC61tQPg20UOgdgYGGrPIxDHo3RyHsW9+lQQWgGg2y4PA0DUYhno6b48Xb3SawoDU4EdOp8PNQHBV+usIwkcOV9tRPGitVs0BCC5R4sWINReLIQv33YregwdsXB4JfMsX0n05eWmenhIWH8D9nKGg9Me8hEAAAAASUVORK5CYII=)}.controls .btn-settings{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyOCAxMjg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjY0Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMyw1N2gtOS4xYy0wLjUsMC0wLjgtMC4zLTEtMC43Yy0wLjctMi42LTEuNy01LTMtNy4zYy0wLjItMC40LTAuMi0wLjksMC4xLTEuMmw2LjQtNi40YzAuNC0wLjQsMC40LTEsMC0xLjQgIEw4OCwzMS41Yy0wLjQtMC40LTEtMC40LTEuNCwwbC02LjQsNi40Yy0wLjMsMC4zLTAuOCwwLjQtMS4yLDAuMmMtMi4zLTEuMy00LjctMi4zLTcuMy0zYy0wLjQtMC4xLTAuNy0wLjUtMC43LTFWMjUgIGMwLTAuNi0wLjQtMS0xLTFINThjLTAuNiwwLTEsMC40LTEsMXY5LjFjMCwwLjUtMC4zLDAuOC0wLjcsMWMtMi42LDAuNy01LDEuNy03LjMsM2MtMC40LDAuMi0wLjksMC4yLTEuMi0wLjEgIGMtMS40LTEuNC00LjktNC45LTYuNC02LjRjLTAuNC0wLjQtMS0wLjQtMS40LDBMMzEuNSw0MGMtMC40LDAuNC0wLjQsMSwwLDEuNGw2LjQsNi40YzAuMywwLjMsMC40LDAuOCwwLjIsMS4yICBjLTEuMywyLjMtMi4zLDQuNy0zLDcuM2MtMC4xLDAuNC0wLjUsMC43LTEsMC43SDI1Yy0wLjYsMC0xLDAuNC0xLDF2MTJjMCwwLjYsMC40LDEsMSwxaDkuMWMwLjUsMCwwLjgsMC4zLDEsMC43ICBjMC43LDIuNiwxLjcsNSwzLDcuM2MwLjIsMC40LDAuMiwwLjktMC4xLDEuMmMtMS40LDEuNC00LjksNC45LTYuNCw2LjRjLTAuNCwwLjQtMC40LDEsMCwxLjRsOC41LDguNWMwLjQsMC40LDEsMC40LDEuNCwwbDYuNC02LjQgIGMwLjMtMC4zLDAuOC0wLjQsMS4yLTAuMmMyLjMsMS4zLDQuNywyLjMsNy4zLDNDNTYuOCw5Myw1Nyw5My41LDU3LDk0djljMCwwLjYsMC41LDEsMS4xLDFoMTJjMC42LDAsMC45LTAuNCwwLjktMXYtOSAgYzAtMC41LDAuNC0wLjksMC44LTEuMWMyLjYtMC43LDUtMS43LDcuMy0zYzAuNC0wLjIsMC45LTAuMiwxLjIsMC4xYzEuNCwxLjQsNC45LDQuOSw2LjQsNi40YzAuNCwwLjQsMSwwLjQsMS40LDBsOC41LTguNSAgYzAuNC0wLjQsMC40LTEsMC0xLjRsLTYuNC02LjRjLTAuMy0wLjMtMC40LTAuOC0wLjItMS4yYzEuMy0yLjMsMi4zLTQuNiwzLTcuMmMwLjEtMC40LDAuNS0wLjcsMS0wLjdoOS4xYzAuNSwwLjEsMC45LTAuNCwwLjktMVY1OCAgQzEwNCw1Ny40LDEwMy42LDU3LDEwMyw1N3ogTTY0LDgyYy05LjksMC0xOC04LjEtMTgtMThzOC4xLTE4LDE4LTE4czE4LDguMSwxOCwxOFM3My45LDgyLDY0LDgyeiIvPjwvc3ZnPg==)}.display-control{opacity:1;background:transparent}.show{display:block}.active{background:green!important}#live-indicator{display:flex;align-items:center;position:absolute;top:89%;left:5%}#red-dot{height:10px;width:10px;background-color:red;border-radius:50%;display:inline-block;margin-right:5px}#live-text{font-size:16px;font-weight:700;color:#fff}.display_none{display:none!important}.quality:focus{background-color:#53a653}\n",document.head.appendChild(w);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("app"),t=document.createElement("div");t.id="player",t.innerHTML='<video id="video" tabindex="0" poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAEsCAYAAAAhNGCdAAAAAXNSR0IArs4c6QAAELlJREFUeF7t1kERAAAIAkHpX9oeN2sDFh/sHAECBAgQIECAAIGwwMLZRCNAgAABAgQIECBwBq8nIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAgQf4tAEt5FxRQwAAAABJRU5ErkJggg==" hidden></video><div id="video-controls" class="controls display-control"><button id="playpause" tabindex="0" type="button" data-state="play"></button><button id="back" tabindex="0" type="button" data-state="back"></button><button id="next" tabindex="0" type="button" data-state="next"></button><button id="max" tabindex="0" type="button" data-state="max"></button><button id="mute" type="button" data-state="mute">Mute/Unmute</button><div class="dropdown"><button id="quality-btn" class="dropbtn btn-settings"></button><div id="quality" class="dropdown-content"></div></div><div data-type="video" id="live-indicator" class="display_none"><span id="red-dot"></span><span id="live-text">Live</span></div><div id="time"><span id="current-time">10:11</span>/<span id="end-time">11:23</span></div><div class="progress"><progress id="progress" tabindex="0" value="0" min="0"><span id="progress-bar"></span></progress></div></div>'.trim(),e.parentNode.insertBefore(t,e.nextSibling)}));var T,L=function(e,t){return e===t},M=Symbol("solid-proxy"),B=Symbol("solid-track"),_={equals:L},N=he,R=1,D=2,j={owned:null,cleanups:null,context:null,owner:null},O={},P=null,Q=null,z=null,F=null,U=null,W=0;function Y(e,t){var n=z,r=P,o=0===e.length,i=void 0===t?r:t,a=o?j:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=o?e:function(){return e((function(){return q((function(){return ye(a)}))}))};P=a,z=null;try{return fe(s,!0)}finally{z=n,P=r}}function H(e,t){var n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},_,t):_).equals||void 0};return[se.bind(n),function(e){return"function"==typeof e&&(e=e(n.value)),ue(n,e)}]}function G(e,t,n){le(ce(e,t,!0,R))}function X(e,t,n){le(ce(e,t,!1,R))}function V(e,t,n){N=pe;var r=ce(e,t,!1,R),o=T&&ie(T);o&&(r.suspense=o),n&&n.render||(r.user=!0),U?U.push(r):le(r)}function Z(e,t,n){n=n?Object.assign({},_,n):_;var r=ce(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,le(r),se.bind(r)}function J(e,t,n){var r,o,i;2===arguments.length&&"object"==typeof t||1===arguments.length?(r=!0,o=e,i=t||{}):(r=e,o=t,i=n||{});var a=null,s=O,u=!1,l="initialValue"in i,c="function"==typeof r&&Z(r),d=new Set,f=b((i.storage||H)(i.initialValue),2),h=f[0],p=f[1],g=b(H(void 0),2),v=g[0],y=g[1],m=b(H(void 0,{equals:!1}),2),x=m[0],A=m[1],w=b(H(l?"ready":"unresolved"),2),C=w[0],I=w[1];function E(e,t,n,r){return a===e&&(a=null,void 0!==r&&(l=!0),e!==s&&t!==s||!i.onHydrated||queueMicrotask((function(){return i.onHydrated(r,{value:t})})),s=O,function(e,t){fe((function(){void 0===t&&p((function(){return e})),I(void 0!==t?"errored":l?"ready":"unresolved"),y(t);var n,r=k(d.keys());try{for(r.s();!(n=r.n()).done;){n.value.decrement()}}catch(t){r.e(t)}finally{r.f()}d.clear()}),!1)}(t,n)),t}function S(){var e=T,t=h(),n=v();if(void 0!==n&&!a)throw n;return z&&!z.user&&e&&G((function(){x(),a&&(e.resolved||d.has(e)||(e.increment(),d.add(e)))})),t}function L(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===e||!u){u=!1;var t=c?c():r;if(null!=t&&!1!==t){var n,i=s!==O?s:q((function(){return o(t,{value:h(),refetching:e})}));return(n=i)&&"object"==typeof n&&"then"in n?(a=i,"value"in i?("success"===i.status?E(a,i.value,void 0,t):E(a,void 0,void 0,t),i):(u=!0,queueMicrotask((function(){return u=!1})),fe((function(){I(l?"refreshing":"pending"),A()}),!1),i.then((function(e){return E(i,e,void 0,t)}),(function(e){return E(i,void 0,me(e),t)})))):(E(a,i,void 0,t),i)}E(a,q(h))}}return Object.defineProperties(S,{state:{get:function(){return C()}},error:{get:function(){return v()}},loading:{get:function(){var e=C();return"pending"===e||"refreshing"===e}},latest:{get:function(){if(!l)return S();var e=v();if(e&&!a)throw e;return h()}}}),c?G((function(){return L(!1)})):L(!1),[S,{refetch:L,mutate:p}]}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,n=new Map,r=ce((function(r){var o,i=e(),a=k(n.entries());try{for(a.s();!(o=a.n()).done;){var s=b(o.value,2),u=s[0],l=s[1];if(t(u,i)!==t(u,r)){var c,d=k(l.values());try{for(d.s();!(c=d.n()).done;){var f=c.value;f.state=R,f.pure?F.push(f):U.push(f)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){a.e(h)}finally{a.f()}return i}),void 0,!0,R);return le(r),function(e){var o,i=z;i&&((o=n.get(e))?o.add(i):n.set(e,o=new Set([i])),te((function(){o.delete(i),!o.size&&n.delete(e)})));return t(e,r.value)}}function q(e){if(null===z)return e();var t=z;z=null;try{return e()}finally{z=t}}function $(e,t,n){var r,o=Array.isArray(e),i=n&&n.defer;return function(n){var a;if(o){a=Array(e.length);for(var s=0;s<e.length;s++)a[s]=e[s]()}else a=e();if(!i){var u=q((function(){return t(a,r,n)}));return r=a,u}i=!1}}function ee(e){V((function(){return q(e)}))}function te(e){return null===P||(null===P.cleanups?P.cleanups=[e]:P.cleanups.push(e)),e}function ne(){return P}function re(e){var t=z,n=P;return Promise.resolve().then((function(){z=t,P=n,fe(e,!1),z=P=null}))}function oe(e,t){var n=Symbol("context");return{id:n,Provider:we(n),defaultValue:e}}function ie(e){return P&&P.context&&void 0!==P.context[e.id]?P.context[e.id]:e.defaultValue}function ae(e){var t=Z(e),n=Z((function(){return Ae(t())}));return n.toArray=function(){var e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function se(){var e=this;if(this.sources&&this.state)if(this.state===R)le(this);else{var t=F;F=null,fe((function(){return ge(e)}),!1),F=t}if(z){var n=this.observers?this.observers.length:0;z.sources?(z.sources.push(this),z.sourceSlots.push(n)):(z.sources=[this],z.sourceSlots=[n]),this.observers?(this.observers.push(z),this.observerSlots.push(z.sources.length-1)):(this.observers=[z],this.observerSlots=[z.sources.length-1])}return this.value}function ue(e,t,n){var r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&fe((function(){for(var t=0;t<e.observers.length;t+=1){var n=e.observers[t],r=Q&&Q.running;r&&Q.disposed.has(n),(r?n.tState:n.state)||(n.pure?F.push(n):U.push(n),n.observers&&ve(n)),r||(n.state=R)}if(F.length>1e6)throw F=[],new Error}),!1)),t}function le(e){if(e.fn){ye(e);var t=W;!function(e,t,n){var r,o=P,i=z;z=P=e;try{r=e.fn(t)}catch(a){return e.pure&&(e.state=R,e.owned&&e.owned.forEach(ye),e.owned=null),e.updatedAt=n+1,xe(a)}finally{z=i,P=o}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?ue(e,r):e.value=r,e.updatedAt=n)}(e,e.value,t)}}function ce(e,t,n){var r={fn:e,state:arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:P?P.context:null,pure:n};return null===P||P!==j&&(P.owned?P.owned.push(r):P.owned=[r]),r}function de(e){if(0!==e.state){if(e.state===D)return ge(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);for(var t=[e];(e=e.owner)&&(!e.updatedAt||e.updatedAt<W);)e.state&&t.push(e);for(var n=t.length-1;n>=0;n--)if((e=t[n]).state===R)le(e);else if(e.state===D){var r=F;F=null,fe((function(){return ge(e,t[0])}),!1),F=r}}}function fe(e,t){if(F)return e();var n=!1;t||(F=[]),U?n=!0:U=[],W++;try{var r=e();return function(e){F&&(he(F),F=null);if(e)return;var t=U;U=null,t.length&&fe((function(){return N(t)}),!1)}(n),r}catch(o){n||(U=null),F=null,xe(o)}}function he(e){for(var t=0;t<e.length;t++)de(e[t])}function pe(e){var t,n=0;for(t=0;t<e.length;t++){var r=e[t];r.user?e[n++]=r:de(r)}for(t=0;t<n;t++)de(e[t])}function ge(e,t){e.state=0;for(var n=0;n<e.sources.length;n+=1){var r=e.sources[n];if(r.sources){var o=r.state;o===R?r!==t&&(!r.updatedAt||r.updatedAt<W)&&de(r):o===D&&ge(r,t)}}}function ve(e){for(var t=0;t<e.observers.length;t+=1){var n=e.observers[t];n.state||(n.state=D,n.pure?F.push(n):U.push(n),n.observers&&ve(n))}}function ye(e){var t;if(e.sources)for(;e.sources.length;){var n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){var i=o.pop(),a=n.observerSlots.pop();r<o.length&&(i.sourceSlots[a]=r,o[r]=i,n.observerSlots[r]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ye(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function me(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function xe(e){throw me(e)}function Ae(e){if("function"==typeof e&&!e.length)return Ae(e());if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=Ae(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function we(e,t){return function(t){var n;return X((function(){return n=q((function(){return P.context=x(x({},P.context),{},A({},e,t.value)),ae((function(){return t.children}))}))}),void 0),n}}var be=Symbol("fallback");function Ce(e){for(var t=0;t<e.length;t++)e[t]()}function Ie(e,t){return q((function(){return e(t||{})}))}function ke(){return!0}var Ee={get:function(e,t,n){return t===M?n:e.get(t)},has:function(e,t){return t===M||e.has(t)},set:ke,deleteProperty:ke,getOwnPropertyDescriptor:function(e,t){return{configurable:!0,enumerable:!0,get:function(){return e.get(t)},set:ke,deleteProperty:ke}},ownKeys:function(e){return e.keys()}};function Se(e){return(e="function"==typeof e?e():e)?e:{}}function Te(){for(var e=0,t=this.length;e<t;++e){var n=this[e]();if(void 0!==n)return n}}function Le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=!1,o=0;o<t.length;o++){var i=t[o];r=r||!!i&&M in i,t[o]="function"==typeof i?(r=!0,Z(i)):i}if(r)return new Proxy({get:function(e){for(var n=t.length-1;n>=0;n--){var r=Se(t[n])[e];if(void 0!==r)return r}},has:function(e){for(var n=t.length-1;n>=0;n--)if(e in Se(t[n]))return!0;return!1},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push.apply(e,v(Object.keys(Se(t[n]))));return v(new Set(e))}},Ee);for(var a={},s={},u=new Set,l=t.length-1;l>=0;l--){var c=t[l];if(c)for(var d=Object.getOwnPropertyNames(c),f=function(){var e=d[h];if("__proto__"===e||"constructor"===e)return 1;var t=Object.getOwnPropertyDescriptor(c,e);if(u.has(e)){var n=s[e];n?t.get?n.push(t.get.bind(c)):void 0!==t.value&&n.push((function(){return t.value})):void 0===a[e]&&(a[e]=t.value)}else t.get?(u.add(e),Object.defineProperty(a,e,{enumerable:!0,configurable:!0,get:Te.bind(s[e]=[t.get.bind(c)])})):(void 0!==t.value&&u.add(e),a[e]=t.value)},h=0,p=d.length;h<p;h++)f()}return a}var Me=function(e){return"Stale read from <".concat(e,">.")};function Be(e){var t="fallback"in e&&{fallback:function(){return e.fallback}};return Z(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],o=[],i=[],a=0,s=t.length>1?[]:null;return te((function(){return Ce(i)})),function(){var u,l,c=e()||[];return c[B],q((function(){var e,t,f,h,p,g,v,y,m,x=c.length;if(0===x)0!==a&&(Ce(i),i=[],r=[],o=[],a=0,s&&(s=[])),n.fallback&&(r=[be],o[0]=Y((function(e){return i[0]=e,n.fallback()})),a=1);else if(0===a){for(o=new Array(x),l=0;l<x;l++)r[l]=c[l],o[l]=Y(d);a=x}else{for(f=new Array(x),h=new Array(x),s&&(p=new Array(x)),g=0,v=Math.min(a,x);g<v&&r[g]===c[g];g++);for(v=a-1,y=x-1;v>=g&&y>=g&&r[v]===c[y];v--,y--)f[y]=o[v],h[y]=i[v],s&&(p[y]=s[v]);for(e=new Map,t=new Array(y+1),l=y;l>=g;l--)m=c[l],u=e.get(m),t[l]=void 0===u?-1:u,e.set(m,l);for(u=g;u<=v;u++)m=r[u],void 0!==(l=e.get(m))&&-1!==l?(f[l]=o[u],h[l]=i[u],s&&(p[l]=s[u]),l=t[l],e.set(m,l)):i[u]();for(l=g;l<x;l++)l in f?(o[l]=f[l],i[l]=h[l],s&&(s[l]=p[l],s[l](l))):o[l]=Y(d);o=o.slice(0,a=x),r=c.slice(0)}return o}));function d(e){if(i[l]=e,s){var n=b(H(l),2),r=n[0],o=n[1];return s[l]=o,t(c[l],r)}return t(c[l])}}}((function(){return e.each}),e.children,t||void 0))}function _e(e){var t=e.keyed,n=Z((function(){return e.when}),void 0,{equals:function(e,n){return t?e===n:!e==!n}});return Z((function(){var r=n();if(r){var o=e.children;return"function"==typeof o&&o.length>0?q((function(){return o(t?r:function(){if(!q(n))throw Me("Show");return e.when})})):o}return e.fallback}),void 0,void 0)}var Ne=b(H(null),2),Re=Ne[0],De=Ne[1];function je(e,t){if(!e)throw new Error(t||"Assertion failed")}function Oe(e,t,n){var r=Math.trunc(e>>>24),o=Math.trunc(e>>>16&255),i=Math.trunc(e>>>8&255),a=Math.trunc(255&e),s=Math.trunc(t>>>24),u=Math.trunc(t>>>16&255),l=Math.trunc(t>>>8&255),c=Math.trunc(255&t);return(Math.round(s*n+r*(1-n))<<24|Math.round(u*n+o*(1-n))<<16|Math.round(l*n+i*(1-n))<<8|Math.round(c*n+a*(1-n)))>>>0}function Pe(e,t){return(e>>>24<<24|(e>>>16&255)<<16|(e>>>8&255)<<8|Math.trunc((255&e)*t))>>>0}function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(255&e)/255*t,o=Math.trunc((e>>>24)*r),i=Math.trunc((e>>>16&255)*r),a=Math.trunc((e>>>8&255)*r),s=Math.trunc(255*r);return n?(s<<24|a<<16|i<<8|o)>>>0:(o<<24|i<<16|a<<8|s)>>>0}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Fe=p((function e(t){g(this,e),A(this,"releaseCallback",void 0),this.releaseCallback=t})),Ue=function(e){a(n,e);var t=u(n);function n(e,r){var o,i,a;return g(this,n),A(c(a=t.call(this,e)),"textureMap",new Map),A(c(a),"zeroReferenceTextureSet",new Set),A(c(a),"options",void 0),a.options={textureCleanupIntervalMs:null!==(o=r.textureCleanupIntervalMs)&&void 0!==o?o:1e4,textureCleanupAgeThreadholdMs:null!==(i=r.textureCleanupAgeThreadholdMs)&&void 0!==i?i:6e4},setInterval((function(){var e,t=Date.now(),n=a.options.textureCleanupAgeThreadholdMs,r=k(a.zeroReferenceTextureSet);try{for(r.s();!(e=r.n()).done;){var o=e.value;t-o.lastUpdate>n&&(a.releaseCallback(o.id),a.textureMap.delete(o.id),a.zeroReferenceTextureSet.delete(o))}}catch(i){r.e(i)}finally{r.f()}}),a.options.textureCleanupIntervalMs),a}return p(n,[{key:"registerTexture",value:function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.id;if(je(n,"Texture must have an id to be registered"),!this.textureMap.has(n)){var r={id:n,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(n,r),this.zeroReferenceTextureSet.add(r)}}},{key:"incrementTextureRefCount",value:function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.id;je(n,"Texture must have an id to be registered");var r=this.textureMap.get(n);r||(this.registerTexture(e),r=this.textureMap.get(n)),je(r,"Texture must have been registered"),"SubTexture"===e.txType&&this.incrementTextureRefCount(e.props.texture),r.nodeRefCount++,r.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(r)&&this.zeroReferenceTextureSet.delete(r)}},{key:"decrementTextureRefCount",value:function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.id;je(n,"Texture must have an id to be registered");var r=this.textureMap.get(n);je(r,"Texture must have been registered"),r.nodeRefCount--,r.lastUpdate=Date.now(),0===r.nodeRefCount&&this.zeroReferenceTextureSet.add(r),"SubTexture"===e.txType&&this.decrementTextureRefCount(e.props.texture)}}]),n}(Fe),We=function(e){a(n,e);var t=u(n);function n(e){var r;return g(this,n),A(c(r=t.call(this,e)),"registry",void 0),r.registry=new FinalizationRegistry(e),r}return p(n,[{key:"registerTexture",value:function(e){var t,n;je(null===(t=e.options)||void 0===t?void 0:t.id,"Texture must have an ID to be registered"),this.registry.register(e,null===(n=e.options)||void 0===n?void 0:n.id)}},{key:"incrementTextureRefCount",value:function(){}},{key:"decrementTextureRefCount",value:function(){}}]),n}(Fe),Ye=function(e){a(o,e);var t,n=u(o);function o(e,t,r){var i,a,s;g(this,o),A(c(s=n.call(this)),"root",null),A(c(s),"driver",void 0),A(c(s),"canvas",void 0),A(c(s),"settings",void 0),A(c(s),"nodes",new Map),A(c(s),"nextTextureId",1),A(c(s),"textureTracker",void 0);var u={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:null!==(i=e.clearColor)&&void 0!==i?i:0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:null!==(a=e.experimental_FinalizationRegistryTextureUsageTracker)&&void 0!==a&&a,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0};s.settings=u;var l=u.appWidth,d=u.appHeight,f=u.deviceLogicalPixelRatio,h=u.devicePhysicalPixelRatio,p=function(e){s.driver.releaseTexture(e)},v=u.experimental_FinalizationRegistryTextureUsageTracker&&"function"==typeof FinalizationRegistry;s.textureTracker=v?new We(p):new Ue(p,s.settings.textureCleanupOptions);var y=l*f,m=d*f;s.driver=r;var x,w=document.createElement("canvas");if(s.canvas=w,w.width=y*h,w.height=m*h,w.style.width="".concat(y,"px"),w.style.height="".concat(m,"px"),!(x="string"==typeof t?document.getElementById(t):t))throw new Error("Could not find target element");return r.onCreateNode=function(e){s.nodes.set(e.id,e)},r.onBeforeDestroyNode=function(e){s.nodes.delete(e.id)},r.onFpsUpdate=function(e){s.emit("fpsUpdate",e)},x.appendChild(w),s}return p(o,[{key:"init",value:(t=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.init(this,this.settings,this.canvas);case 2:this.root=this.driver.getRootNode();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"createNode",value:function(e){return this.driver.createNode(this.resolveNodeDefaults(e))}},{key:"createTextNode",value:function(e){var t,n,r,o,i,a,s,u,l,c,d,f,h,p;return this.driver.createTextNode(x(x({},this.resolveNodeDefaults(e)),{},{text:null!==(t=e.text)&&void 0!==t?t:"",textRendererOverride:null!==(n=e.textRendererOverride)&&void 0!==n?n:null,fontSize:null!==(r=e.fontSize)&&void 0!==r?r:16,fontFamily:null!==(o=e.fontFamily)&&void 0!==o?o:"sans-serif",fontStyle:null!==(i=e.fontStyle)&&void 0!==i?i:"normal",fontWeight:null!==(a=e.fontWeight)&&void 0!==a?a:"normal",fontStretch:null!==(s=e.fontStretch)&&void 0!==s?s:"normal",textAlign:null!==(u=e.textAlign)&&void 0!==u?u:"left",contain:null!==(l=e.contain)&&void 0!==l?l:"none",scrollable:null!==(c=e.scrollable)&&void 0!==c&&c,scrollY:null!==(d=e.scrollY)&&void 0!==d?d:0,offsetY:null!==(f=e.offsetY)&&void 0!==f?f:0,letterSpacing:null!==(h=e.letterSpacing)&&void 0!==h?h:0,debug:null!==(p=e.debug)&&void 0!==p?p:{}}))}},{key:"resolveNodeDefaults",value:function(e){var t,n,r,o,i,a,s,u,l,c,d,f,h,p,g,v,y,m,x,A,w,b,C,I,k,E,S,T,L,M,B,_,N,R,D,j,O,P,Q,z,F,U,W,Y,H,G=null!==(t=e.color)&&void 0!==t?t:4294967295,X=null!==(n=null!==(r=null!==(o=e.colorTl)&&void 0!==o?o:e.colorTop)&&void 0!==r?r:e.colorLeft)&&void 0!==n?n:G,V=null!==(i=null!==(a=null!==(s=e.colorTr)&&void 0!==s?s:e.colorTop)&&void 0!==a?a:e.colorRight)&&void 0!==i?i:G,Z=null!==(u=null!==(l=null!==(c=e.colorBl)&&void 0!==c?c:e.colorBottom)&&void 0!==l?l:e.colorLeft)&&void 0!==u?u:G,J=null!==(d=null!==(f=null!==(h=e.colorBr)&&void 0!==h?h:e.colorBottom)&&void 0!==f?f:e.colorRight)&&void 0!==d?d:G;return{x:null!==(p=e.x)&&void 0!==p?p:0,y:null!==(g=e.y)&&void 0!==g?g:0,width:null!==(v=e.width)&&void 0!==v?v:0,height:null!==(y=e.height)&&void 0!==y?y:0,alpha:null!==(m=e.alpha)&&void 0!==m?m:1,clipping:null!==(x=e.clipping)&&void 0!==x&&x,color:G,colorTop:null!==(A=e.colorTop)&&void 0!==A?A:G,colorBottom:null!==(w=e.colorBottom)&&void 0!==w?w:G,colorLeft:null!==(b=e.colorLeft)&&void 0!==b?b:G,colorRight:null!==(C=e.colorRight)&&void 0!==C?C:G,colorBl:Z,colorBr:J,colorTl:X,colorTr:V,zIndex:null!==(I=e.zIndex)&&void 0!==I?I:0,zIndexLocked:null!==(k=e.zIndexLocked)&&void 0!==k?k:0,parent:null!==(E=e.parent)&&void 0!==E?E:null,texture:null!==(S=e.texture)&&void 0!==S?S:null,shader:null!==(T=e.shader)&&void 0!==T?T:null,src:null!==(L=e.src)&&void 0!==L?L:"",scale:null!==(M=e.scale)&&void 0!==M?M:null,scaleX:null!==(B=null!==(_=e.scaleX)&&void 0!==_?_:e.scale)&&void 0!==B?B:1,scaleY:null!==(N=null!==(R=e.scaleY)&&void 0!==R?R:e.scale)&&void 0!==N?N:1,mount:null!==(D=e.mount)&&void 0!==D?D:0,mountX:null!==(j=null!==(O=e.mountX)&&void 0!==O?O:e.mount)&&void 0!==j?j:0,mountY:null!==(P=null!==(Q=e.mountY)&&void 0!==Q?Q:e.mount)&&void 0!==P?P:0,pivot:null!==(z=e.pivot)&&void 0!==z?z:.5,pivotX:null!==(F=null!==(U=e.pivotX)&&void 0!==U?U:e.pivot)&&void 0!==F?F:.5,pivotY:null!==(W=null!==(Y=e.pivotY)&&void 0!==Y?Y:e.pivot)&&void 0!==W?W:.5,rotation:null!==(H=e.rotation)&&void 0!==H?H:0}}},{key:"destroyNode",value:function(e){return this.driver.destroyNode(e)}},{key:"createTexture",value:function(e,t,n){var r=this.nextTextureId++,o={descType:"texture",txType:e,props:t,options:x(x({},n),{},{id:r})};return this.textureTracker.registerTexture(o),o}},{key:"createShader",value:function(e,t){return{descType:"shader",shType:e,props:t}}},{key:"getNodeById",value:function(e){return this.nodes.get(e)||null}},{key:"toggleFreeze",value:function(){throw new Error("Not implemented")}},{key:"advanceFrame",value:function(){throw new Error("Not implemented")}},{key:"rerender",value:function(){throw new Error("Not implemented")}}]),o}(s),He=function(e){return e&&!(e&e-1)},Ge=function(e,t,n,r){var o=3*e,i=3*(n-e)-o,a=1-o-i,s=3*t,u=3*(r-t)-s,l=1-s-u;return function(e){if(e>=1)return 1;if(e<=0)return 0;for(var t,n,r=.5,c=0;c<20;c++){if((n=e-r*(r*(r*a+i)+o))>-1e-8&&n<1e-8)return r*(r*(r*l+u)+s);if((t=r*(r*(3*a)+2*i)+o)>1e-10&&t<1e-10)break;r+=n/t}for(var d=0,f=1,h=0;h<20;h++){if((n=e-(r=.5*(d+f))*(r*(r*a+i)+o))>-1e-8&&n<1e-8)return r*(r*(r*l+u)+s);n<0?f=r:d=r}}};Math.hypot||(Math.hypot=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t.length;o--;)r+=t[o]*t[o];return Math.sqrt(r)});var Xe=function(e){a(n,e);var t=u(n);function n(e,r,o){var i;return g(this,n),A(c(i=t.call(this)),"node",void 0),A(c(i),"props",void 0),A(c(i),"settings",void 0),A(c(i),"propStartValues",{}),A(c(i),"restoreValues",{}),A(c(i),"progress",0),A(c(i),"timingFunction",void 0),A(c(i),"propsList",void 0),i.node=e,i.props=r,i.settings=o,i.propStartValues={},i.propsList=Object.keys(r),i.propsList.forEach((function(t){i.propStartValues[t]=e[t]})),i.timingFunction=function(e){return e},o.easing&&"string"==typeof o.easing&&(i.timingFunction=function(e){switch(e){case"linear":return function(e){return e};case"ease":return Ge(.25,.1,.25,1);case"ease-in":return Ge(.42,0,1,1);case"ease-out":return Ge(0,0,.58,1);case"ease-in-out":return Ge(.42,0,.58,1);case"ease-in-sine":case"ease-out-sine":return Ge(.12,0,.39,0);case"ease-in-out-sine":return Ge(.37,0,.63,1);case"ease-in-cubic":return Ge(.32,0,.67,0);case"ease-out-cubic":return Ge(.33,1,.68,1);case"ease-in-out-cubic":return Ge(.65,0,.35,1);case"ease-in-circ":return Ge(.55,0,1,.45);case"ease-out-circ":return Ge(0,.55,.45,1);case"ease-in-out-circ":return Ge(.85,0,.15,1);case"ease-in-back":return Ge(.36,0,.66,-.56);case"ease-out-back":return Ge(.34,1.56,.64,1);case"ease-in-out-back":return Ge(.68,-.6,.32,1.6);case"step-start":return function(){return 1};case"step-end":return function(e){return 1===e?1:0};default:var t="cubic-bezier(";if(e&&0===e.indexOf(t)){var n=e.substr(13,e.length-13-1).split(",");if(4!==n.length)return console.warn("Unknown timing function: "+e),function(e){return e};var r=parseFloat(n[0]||"0.42"),o=parseFloat(n[1]||"0"),i=parseFloat(n[2]||"1"),a=parseFloat(n[3]||"1");return isNaN(r)||isNaN(o)||isNaN(i)||isNaN(a)?(console.warn(" Unknown timing function: "+e),function(e){return e}):Ge(r,o,i,a)}return console.warn("Unknown timing function: "+e),function(e){return e}}}(o.easing)),i}return p(n,[{key:"reset",value:function(){this.progress=0,this.update(0)}},{key:"restore",value:function(){var e=this;this.reset(),Object.keys(this.props).forEach((function(t){e.node[t]=e.propStartValues[t]}))}},{key:"reverse",value:function(){var e=this;this.progress=0,Object.keys(this.props).forEach((function(t){var n=e.props[t],r=e.propStartValues[t];e.props[t]=r,e.propStartValues[t]=n})),this.settings.loop||(this.settings.stopMethod=!1)}},{key:"applyEasing",value:function(e,t,n){return(this.timingFunction(e)||e)*(n-t)+t}},{key:"update",value:function(e){var t=this.settings,n=t.duration,r=t.loop,o=t.easing,i=t.stopMethod;if(n)if(this.progress+=e/n,this.progress>1&&(this.progress=r?0:1,i))this.emit("finished",{});else{for(var a=0;a<this.propsList.length;a++){var s=this.propsList[a],u=this.props[s],l=this.propStartValues[s],c=u;if(-1===s.indexOf("color"))this.node[s]=o?this.applyEasing(this.progress,l,c):l+(c-l)*this.progress;else{if(l===c){this.node[s]=l;continue}if(o){var d=Oe(l,c,this.timingFunction(this.progress)||this.progress);this.node[s]=d;continue}this.node[s]=Oe(l,c,this.progress)}}1===this.progress&&this.emit("finished",{})}else this.emit("finished",{})}}]),n}(s),Ve=function(){function e(t,n){g(this,e),A(this,"manager",void 0),A(this,"animation",void 0),A(this,"stoppedPromise",null),A(this,"stoppedResolve",null),A(this,"state",void 0),this.manager=t,this.animation=n,this.state="stopped"}return p(e,[{key:"start",value:function(){return this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}},{key:"stop",value:function(){return this.manager.unregisterAnimation(this.animation),null!==this.stoppedResolve&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}},{key:"pause",value:function(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}},{key:"restore",value:function(){return this.stoppedResolve=null,this.animation.restore(),this}},{key:"waitUntilStopped",value:function(){this.makeStoppedPromise();var e=this.stoppedPromise;return je(e),e}},{key:"makeStoppedPromise",value:function(){var e=this;null===this.stoppedResolve&&(this.stoppedPromise=new Promise((function(t){e.stoppedResolve=t})))}},{key:"finished",value:function(){je(this.stoppedResolve);var e=this.animation.settings,t=e.loop;if("reverse"===e.stopMethod)return this.animation.reverse(),void this.start();this.stoppedResolve(),this.stoppedResolve=null,t||this.manager.unregisterAnimation(this.animation)}}]),e}(),Ze=function(e){return[(e>>>24)/255,(e>>>16&255)/255,(e>>>8&255)/255,(255&e)/255]};function Je(e){var t=Math.floor(255*e[0]),n=Math.floor(255*e[1]),r=Math.floor(255*e[2]),o=Math.floor(255*e[3]);return"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(o.toFixed(4),")")}function Ke(e,t,n,r,o){return o?(o.x1=e,o.y1=t,o.x2=n,o.y2=r,o):{x1:e,y1:t,x2:n,y2:r}}function qe(e,t,n){var r=Ke(Math.max(e.x1,t.x1),Math.max(e.y1,t.y1),Math.min(e.x2,t.x2),Math.min(e.y2,t.y2),n);return r.x1<r.x2&&r.y1<r.y2?r:Ke(0,0,0,0,r)}function $e(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),o=Math.min(e.x+e.width,t.x+t.width)-n,i=Math.min(e.y+e.height,t.y+t.height)-r;return o>0&&i>0?{x:n,y:r,width:o,height:i}:{x:0,y:0,width:0,height:0}}var et,tt=function(){function e(t){g(this,e),A(this,"data",void 0),t?(this.data=new Float32Array(9),this.data[0]=t[0],this.data[3]=t[3],this.data[6]=t[6],this.data[1]=t[1],this.data[4]=t[4],this.data[7]=t[7],this.data[2]=t[2],this.data[5]=t[5],this.data[8]=t[8]):this.data=new Float32Array(9)}return p(e,[{key:"translate",value:function(e,t){return this.data[6]=this.data[0]*e+this.data[3]*t+this.data[6],this.data[7]=this.data[1]*e+this.data[4]*t+this.data[7],this}},{key:"scale",value:function(e,t){return this.data[0]=this.data[0]*e,this.data[3]=this.data[3]*t,this.data[1]=this.data[1]*e,this.data[4]=this.data[4]*t,this}},{key:"rotate",value:function(e){if(0===e||!(e%Math.PI*2))return this;var t=Math.cos(e),n=Math.sin(e),r=this.data[0]*t+this.data[3]*n,o=this.data[3]*t-this.data[0]*n,i=this.data[1]*t+this.data[4]*n,a=this.data[4]*t-this.data[1]*n;return this.data[0]=r,this.data[3]=o,this.data[1]=i,this.data[4]=a,this}},{key:"multiply",value:function(t){return e.multiply(this,t,this)}},{key:"tx",get:function(){return this.data[6]}},{key:"ty",get:function(){return this.data[7]}},{key:"ta",get:function(){return this.data[0]}},{key:"tb",get:function(){return this.data[3]}},{key:"tc",get:function(){return this.data[1]}},{key:"td",get:function(){return this.data[4]}},{key:"transformPoint",value:function(e,t){return[this.data[0]*e+this.data[3]*t+this.data[6],this.data[1]*e+this.data[4]*t+this.data[1]]}}],[{key:"temp",get:function(){return nt}},{key:"multiply",value:function(t,n,r){var o=t.data[0]*n.data[0]+t.data[3]*n.data[1]+t.data[6]*n.data[2],i=t.data[0]*n.data[3]+t.data[3]*n.data[4]+t.data[6]*n.data[5],a=t.data[0]*n.data[6]+t.data[3]*n.data[7]+t.data[6]*n.data[8],s=t.data[1]*n.data[0]+t.data[4]*n.data[1]+t.data[7]*n.data[2],u=t.data[1]*n.data[3]+t.data[4]*n.data[4]+t.data[7]*n.data[5],l=t.data[1]*n.data[6]+t.data[4]*n.data[7]+t.data[7]*n.data[8],c=t.data[2]*n.data[0]+t.data[5]*n.data[1]+t.data[8]*n.data[2],d=t.data[2]*n.data[3]+t.data[5]*n.data[4]+t.data[8]*n.data[5],f=t.data[2]*n.data[6]+t.data[5]*n.data[7]+t.data[8]*n.data[8];return r||(r=new e),r.data[0]=o,r.data[3]=i,r.data[6]=a,r.data[1]=s,r.data[4]=u,r.data[7]=l,r.data[2]=c,r.data[5]=d,r.data[8]=f,r}},{key:"identity",value:function(t){return t||(t=new e),t.data[0]=1,t.data[3]=0,t.data[6]=0,t.data[1]=0,t.data[4]=1,t.data[7]=0,t.data[2]=0,t.data[5]=0,t.data[8]=1,t}},{key:"translate",value:function(t,n,r){return r||(r=new e),r.data[0]=1,r.data[3]=0,r.data[6]=t,r.data[1]=0,r.data[4]=1,r.data[7]=n,r.data[2]=0,r.data[5]=0,r.data[8]=1,r}},{key:"scale",value:function(t,n,r){return r||(r=new e),r.data[0]=t,r.data[3]=0,r.data[6]=0,r.data[1]=0,r.data[4]=n,r.data[7]=0,r.data[2]=0,r.data[5]=0,r.data[8]=1,r}},{key:"rotate",value:function(t,n){var r=Math.cos(t),o=Math.sin(t);return n||(n=new e),n.data[0]=r,n.data[3]=-o,n.data[6]=0,n.data[1]=o,n.data[4]=r,n.data[7]=0,n.data[2]=0,n.data[5]=0,n.data[8]=1,n}},{key:"copy",value:function(t,n,r){return n||(n=new e),n.data[0]=t.data[0],n.data[1]=t.data[1],n.data[2]=t.data[2],n.data[3]=t.data[3],n.data[4]=t.data[4],n.data[5]=t.data[5],n.data[6]=t.data[6],n.data[7]=t.data[7],n.data[8]=t.data[8],n}}]),e}(),nt=new tt;!function(e){e[e.Children=1]="Children",e[e.ScaleRotate=2]="ScaleRotate",e[e.Local=4]="Local",e[e.Global=8]="Global",e[e.Clipping=16]="Clipping",e[e.CalculatedZIndex=32]="CalculatedZIndex",e[e.ZIndexSortedChildren=64]="ZIndexSortedChildren",e[e.PremultipliedColors=128]="PremultipliedColors",e[e.WorldAlpha=256]="WorldAlpha",e[e.None=0]="None",e[e.All=511]="All"}(et||(et={}));var rt=function(e){a(n,e);var t=u(n);function n(e,r){var o;return g(this,n),A(c(o=t.call(this)),"stage",void 0),A(c(o),"children",[]),A(c(o),"props",void 0),A(c(o),"updateType",et.All),A(c(o),"globalTransform",void 0),A(c(o),"scaleRotateTransform",void 0),A(c(o),"localTransform",void 0),A(c(o),"clippingRect",null),A(c(o),"isRenderable",!1),A(c(o),"parentClippingRect",null),A(c(o),"worldAlpha",1),A(c(o),"premultipliedColorTl",0),A(c(o),"premultipliedColorTr",0),A(c(o),"premultipliedColorBl",0),A(c(o),"premultipliedColorBr",0),A(c(o),"calcZIndex",0),A(c(o),"isComplex",!1),A(c(o),"onTextureLoaded",(function(e,t){o.stage.requestRender(),o.emit("loaded",{type:"texture",dimensions:t})})),A(c(o),"onTextureFailed",(function(e,t){o.emit("failed",{type:"texture",error:t})})),o.stage=e,o.props=x(x({},r),{},{parent:null}),o.parent=r.parent,o.updateScaleRotateTransform(),o}return p(n,[{key:"loadTexture",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.props.texture&&this.unloadTexture();var o=this.stage.txManager.loadTexture(e,t,r);this.props.texture=o,this.props.textureOptions=r,this.checkIsRenderable(),queueMicrotask((function(){"loaded"===o.state?n.onTextureLoaded(o,o.dimensions):"failed"===o.state&&n.onTextureFailed(o,o.error),o.on("loaded",n.onTextureLoaded),o.on("failed",n.onTextureFailed)}))}},{key:"unloadTexture",value:function(){this.props.texture&&(this.props.texture.off("loaded",this.onTextureLoaded),this.props.texture.off("failed",this.onTextureFailed)),this.props.texture=null,this.props.textureOptions=null,this.checkIsRenderable()}},{key:"loadShader",value:function(e,t){var n=this.stage.renderer.getShaderManager();je(n);var r=n.loadShader(e,t),o=r.shader,i=r.props;this.props.shader=o,this.props.shaderProps=i,this.checkIsRenderable()}},{key:"setUpdateType",value:function(e){this.updateType|=e;var t=this.props.parent;!t||t.updateType&et.Children||t.setUpdateType(et.Children)}},{key:"sortChildren",value:function(){this.children.sort((function(e,t){return e.calcZIndex-t.calcZIndex}))}},{key:"updateScaleRotateTransform",value:function(){this.scaleRotateTransform=tt.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}},{key:"updateLocalTransform",value:function(){je(this.scaleRotateTransform);var e=this.props.pivotX*this.props.width,t=this.props.pivotY*this.props.height,n=this.props.mountX*this.props.width,r=this.props.mountY*this.props.height;this.localTransform=tt.translate(e-n+this.props.x,t-r+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-e,-t),this.setUpdateType(et.Global)}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.updateType&et.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(et.Local)),this.updateType&et.Local&&(this.updateLocalTransform(),this.setUpdateType(et.Global));var r=this.props.parent,o=et.None;this.updateType&et.Global&&(je(this.localTransform),this.globalTransform=tt.copy((null==r?void 0:r.globalTransform)||this.localTransform,this.globalTransform),r&&this.globalTransform.multiply(this.localTransform),this.setUpdateType(et.Clipping|et.Children),o|=et.Global),this.updateType&et.Clipping&&(this.calculateClippingRect(n),this.checkIsRenderable(),this.setUpdateType(et.Children),o|=et.Clipping),this.updateType&et.WorldAlpha&&(this.worldAlpha=r?r.worldAlpha*this.props.alpha:this.props.alpha,this.setUpdateType(et.Children|et.PremultipliedColors),o|=et.WorldAlpha),this.updateType&et.PremultipliedColors&&(this.premultipliedColorTl=Qe(this.props.colorTl,this.worldAlpha,!0),this.premultipliedColorTr=Qe(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=Qe(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=Qe(this.props.colorBr,this.worldAlpha,!0),this.checkIsRenderable(),this.setUpdateType(et.Children),o|=et.PremultipliedColors),r&&this.updateType&et.CalculatedZIndex&&(this.calculateZIndex(),r.setUpdateType(et.ZIndexSortedChildren)),this.updateType&et.Children&&this.children.length&&this.children.forEach((function(n){n.setUpdateType(o),0!==n.updateType&&n.update(e,t.clippingRect)})),this.updateType&et.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}},{key:"checkIsRenderable",value:function(){var e=this;if(this.props.texture)return this.isRenderable=!0;if(this.props.shader)return this.isRenderable=!0;if(this.props.clipping)return this.isRenderable=!0;return["color","colorTop","colorBottom","colorLeft","colorRight","colorTl","colorTr","colorBl","colorBr"].some((function(t){return 0!==e.props[t]}))?this.isRenderable=!0:this.isRenderable=!1}},{key:"calculateClippingRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(je(this.globalTransform),this.parentClippingRect!==e||!this.clippingRect){var t=this.globalTransform,n=0!==t.tb||0!==t.tc,r=this.props.clipping&&!n?{x:t.tx,y:t.ty,width:this.width*t.ta,height:this.height*t.td}:null;e&&r?r=$e(e,r):e&&(r=e),this.parentClippingRect=e,this.clippingRect=r}}},{key:"calculateZIndex",value:function(){var e,t,n=this.props,r=n.zIndex||0,o=(null===(e=n.parent)||void 0===e?void 0:e.zIndex)||0,i=r;null!==(t=n.parent)&&void 0!==t&&t.zIndexLocked&&(i=r<o?r:o),this.calcZIndex=i}},{key:"renderQuads",value:function(e){var t=this.props,n=t.width,r=t.height,o=t.texture,i=t.textureOptions,a=t.shader,s=t.shaderProps,u=this.premultipliedColorTl,l=this.premultipliedColorTr,c=this.premultipliedColorBl,d=this.premultipliedColorBr,f=this.zIndex,h=this.worldAlpha,p=this.globalTransform,g=this.clippingRect;je(p),e.addQuad({width:n,height:r,colorTl:u,colorTr:l,colorBl:c,colorBr:d,texture:o,textureOptions:i,zIndex:f,shader:a,shaderProps:s,alpha:h,clippingRect:g,tx:p.tx,ty:p.ty,ta:p.ta,tb:p.tb,tc:p.tc,td:p.td})}},{key:"id",get:function(){return this.props.id}},{key:"x",get:function(){return this.props.x},set:function(e){this.props.x!==e&&(this.props.x=e,this.setUpdateType(et.Local))}},{key:"absX",get:function(){var e,t;return this.props.x+((null===(e=this.props.parent)||void 0===e?void 0:e.absX)||(null===(t=this.props.parent)||void 0===t||null===(t=t.globalTransform)||void 0===t?void 0:t.tx)||0)}},{key:"absY",get:function(){var e,t;return this.props.y+(null!==(e=null===(t=this.props.parent)||void 0===t?void 0:t.absY)&&void 0!==e?e:0)}},{key:"y",get:function(){return this.props.y},set:function(e){this.props.y!==e&&(this.props.y=e,this.setUpdateType(et.Local))}},{key:"width",get:function(){return this.props.width},set:function(e){this.props.width!==e&&(this.props.width=e,this.setUpdateType(et.Local))}},{key:"height",get:function(){return this.props.height},set:function(e){this.props.height!==e&&(this.props.height=e,this.setUpdateType(et.Local))}},{key:"scale",get:function(){return this.scaleX},set:function(e){this.scaleX=e,this.scaleY=e}},{key:"scaleX",get:function(){return this.props.scaleX},set:function(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.setUpdateType(et.ScaleRotate))}},{key:"scaleY",get:function(){return this.props.scaleY},set:function(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.setUpdateType(et.ScaleRotate))}},{key:"mount",get:function(){return this.props.mount},set:function(e){this.props.mountX===e&&this.props.mountY===e||(this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.setUpdateType(et.Local))}},{key:"mountX",get:function(){return this.props.mountX},set:function(e){this.props.mountX!==e&&(this.props.mountX=e,this.setUpdateType(et.Local))}},{key:"mountY",get:function(){return this.props.mountY},set:function(e){this.props.mountY!==e&&(this.props.mountY=e,this.setUpdateType(et.Local))}},{key:"pivot",get:function(){return this.props.pivot},set:function(e){this.props.pivotX===e&&this.props.pivotY===e||(this.props.pivotX=e,this.props.pivotY=e,this.props.pivot=e,this.setUpdateType(et.Local))}},{key:"pivotX",get:function(){return this.props.pivotX},set:function(e){this.props.pivotX!==e&&(this.props.pivotX=e,this.setUpdateType(et.Local))}},{key:"pivotY",get:function(){return this.props.pivotY},set:function(e){this.props.pivotY!==e&&(this.props.pivotY=e,this.setUpdateType(et.Local))}},{key:"rotation",get:function(){return this.props.rotation},set:function(e){this.props.rotation!==e&&(this.props.rotation=e,this.setUpdateType(et.ScaleRotate))}},{key:"alpha",get:function(){return this.props.alpha},set:function(e){this.props.alpha=e,this.setUpdateType(et.PremultipliedColors|et.WorldAlpha)}},{key:"clipping",get:function(){return this.props.clipping},set:function(e){this.props.clipping=e,this.setUpdateType(et.Clipping)}},{key:"color",get:function(){return this.props.color},set:function(e){this.props.colorTl===e&&this.props.colorTr===e&&this.props.colorBl===e&&this.props.colorBr===e||(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorTop",get:function(){return this.props.colorTop},set:function(e){this.props.colorTl===e&&this.props.colorTr===e||(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorBottom",get:function(){return this.props.colorBottom},set:function(e){this.props.colorBl===e&&this.props.colorBr===e||(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorLeft",get:function(){return this.props.colorLeft},set:function(e){this.props.colorTl===e&&this.props.colorBl===e||(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorRight",get:function(){return this.props.colorRight},set:function(e){this.props.colorTr===e&&this.props.colorBr===e||(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorTl",get:function(){return this.props.colorTl},set:function(e){this.props.colorTl=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorTr",get:function(){return this.props.colorTr},set:function(e){this.props.colorTr=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorBl",get:function(){return this.props.colorBl},set:function(e){this.props.colorBl=e,this.setUpdateType(et.PremultipliedColors)}},{key:"colorBr",get:function(){return this.props.colorBr},set:function(e){this.props.colorBr=e,this.setUpdateType(et.PremultipliedColors)}},{key:"zIndexLocked",get:function(){return this.props.zIndexLocked||0},set:function(e){this.props.zIndexLocked=e,this.setUpdateType(et.CalculatedZIndex|et.Children),this.children.forEach((function(e){e.setUpdateType(et.CalculatedZIndex)}))}},{key:"zIndex",get:function(){return this.props.zIndex},set:function(e){this.props.zIndex=e,this.setUpdateType(et.CalculatedZIndex|et.Children),this.children.forEach((function(e){e.setUpdateType(et.CalculatedZIndex)}))}},{key:"parent",get:function(){return this.props.parent},set:function(e){var t=this.props.parent;if(t!==e){if(this.props.parent=e,t){var n=t.children.indexOf(this);je(-1!==n,"CoreNode.parent: Node not found in old parent's children!"),t.children.splice(n,1)}e&&(e.children.push(this),this.setUpdateType(et.All),e.setUpdateType(et.Children|et.ZIndexSortedChildren)),this.updateScaleRotateTransform()}}}]),n}(s),ot=1;function it(){return ot++}var at=function(e){a(n,e);var t=u(n);function n(e,r,o,i){var a,s;return g(this,n),A(c(s=t.call(this)),"rendererMain",void 0),A(c(s),"stage",void 0),A(c(s),"id",void 0),A(c(s),"coreNode",void 0),A(c(s),"_children",[]),A(c(s),"_src",""),A(c(s),"_parent",null),A(c(s),"_texture",null),A(c(s),"_shader",null),A(c(s),"onTextureLoaded",(function(e,t){s.emit("loaded",t)})),A(c(s),"onTextureFailed",(function(e,t){s.emit("failed",t)})),s.rendererMain=r,s.stage=o,s.id=null!==(a=null==i?void 0:i.id)&&void 0!==a?a:it(),s.coreNode=i||new rt(s.stage,{id:s.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null}),s.coreNode.on("loaded",s.onTextureLoaded),s.coreNode.on("failed",s.onTextureFailed),s.parent=e.parent,s.shader=e.shader,s.texture=e.texture,s.src=e.src,s}return p(n,[{key:"x",get:function(){return this.coreNode.x},set:function(e){this.coreNode.x=e}},{key:"y",get:function(){return this.coreNode.y},set:function(e){this.coreNode.y=e}},{key:"width",get:function(){return this.coreNode.width},set:function(e){this.coreNode.width=e}},{key:"height",get:function(){return this.coreNode.height},set:function(e){this.coreNode.height=e}},{key:"alpha",get:function(){return this.coreNode.alpha},set:function(e){this.coreNode.alpha=e}},{key:"clipping",get:function(){return this.coreNode.clipping},set:function(e){this.coreNode.clipping=e}},{key:"color",get:function(){return this.coreNode.color},set:function(e){this.coreNode.color=e}},{key:"colorTop",get:function(){return this.coreNode.colorTop},set:function(e){this.coreNode.colorTop=e}},{key:"colorBottom",get:function(){return this.coreNode.colorBottom},set:function(e){this.coreNode.colorBottom=e}},{key:"colorLeft",get:function(){return this.coreNode.colorLeft},set:function(e){this.coreNode.colorLeft=e}},{key:"colorRight",get:function(){return this.coreNode.colorRight},set:function(e){this.coreNode.colorRight=e}},{key:"colorTl",get:function(){return this.coreNode.colorTl},set:function(e){this.coreNode.colorTl=e}},{key:"colorTr",get:function(){return this.coreNode.colorTr},set:function(e){this.coreNode.colorTr=e}},{key:"colorBl",get:function(){return this.coreNode.colorBl},set:function(e){this.coreNode.colorBl=e}},{key:"colorBr",get:function(){return this.coreNode.colorBr},set:function(e){this.coreNode.colorBr=e}},{key:"scale",get:function(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX},set:function(e){null!==e&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}},{key:"scaleX",get:function(){return this.coreNode.scaleX},set:function(e){this.coreNode.scaleX=e}},{key:"scaleY",get:function(){return this.coreNode.scaleY},set:function(e){this.coreNode.scaleY=e}},{key:"mount",get:function(){return this.coreNode.mount},set:function(e){this.coreNode.mount=e}},{key:"mountX",get:function(){return this.coreNode.mountX},set:function(e){this.coreNode.mountX=e}},{key:"mountY",get:function(){return this.coreNode.mountY},set:function(e){this.coreNode.mountY=e}},{key:"pivot",get:function(){return this.coreNode.pivot},set:function(e){this.coreNode.pivot=e}},{key:"pivotX",get:function(){return this.coreNode.pivotX},set:function(e){this.coreNode.pivotX=e}},{key:"pivotY",get:function(){return this.coreNode.pivotY},set:function(e){this.coreNode.pivotY=e}},{key:"rotation",get:function(){return this.coreNode.rotation},set:function(e){this.coreNode.rotation=e}},{key:"parent",get:function(){return this._parent},set:function(e){var t,n=this._parent;if(this._parent=e,this.coreNode.parent=null!==(t=null==e?void 0:e.coreNode)&&void 0!==t?t:null,n){var r=n.children.indexOf(this);je(-1!==r,"MainOnlyNode.parent: Node not found in old parent's children!"),n.children.splice(r,1)}e&&e.children.push(this)}},{key:"children",get:function(){return this._children}},{key:"zIndex",get:function(){return this.coreNode.zIndex},set:function(e){this.coreNode.zIndex=e}},{key:"zIndexLocked",get:function(){return this.coreNode.zIndexLocked},set:function(e){this.coreNode.zIndexLocked=e}},{key:"src",get:function(){return this._src},set:function(e){this._src!==e&&(this._src=e,this.texture=e?this.rendererMain.createTexture("ImageTexture",{src:e}):null)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}},{key:"shader",get:function(){return this._shader},set:function(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}},{key:"destroy",value:function(){this.emit("beforeDestroy",{}),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}},{key:"flush",value:function(){}},{key:"animate",value:function(e,t){var n=new Xe(this.coreNode,e,t);return new Ve(this.stage.animationManager,n)}}]),n}(s),st=p((function e(t){g(this,e),A(this,"textureSource",void 0),this.textureSource=t})),ut=p((function e(t){g(this,e),A(this,"stage",void 0),this.stage=t})),lt=p((function e(){g(this,e)}));function ct(e,t,n){var r=e.createShader(t);if(!r)throw new Error;if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.log(e.getShaderInfoLog(r)),e.deleteShader(r)}function dt(e){return self.WebGL2RenderingContext&&e instanceof self.WebGL2RenderingContext}var ft=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n),A(c(r=t.call(this)),"boundBufferCollection",null),A(c(r),"buffersBound",!1),A(c(r),"program",void 0),A(c(r),"vao",void 0),A(c(r),"renderer",void 0),A(c(r),"gl",void 0),A(c(r),"attributeBuffers",void 0),A(c(r),"attributeLocations",void 0),A(c(r),"attributeNames",void 0),A(c(r),"uniformLocations",void 0),A(c(r),"uniformTypes",void 0),A(c(r),"supportsIndexedTextures",void 0);var o=r.renderer=e.renderer,i=r.gl=r.renderer.gl;r.supportsIndexedTextures=e.supportsIndexedTextures||!1;var a=dt(i),s=a&&e.webgl2Extensions||!a&&e.webgl1Extensions||[],u=a?"2.0":"1.0";s.forEach((function(e){if(!i.getExtension(e))throw new Error('Shader "'.concat(r.constructor.name,'" requires extension "').concat(e,'" for WebGL ').concat(u," but wasn't found"))}));var l=e.shaderSources||r.constructor.shaderSources;if(!l)throw new Error('Shader "'.concat(r.constructor.name,'" is missing shaderSources.'));a&&null!=l&&l.webGl2&&(l.fragment=l.webGl2.fragment,l.vertex=l.webGl2.vertex,delete l.webGl2);var d=o.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS,f=l.vertex instanceof Function?l.vertex(d):l.vertex,h=l.fragment instanceof Function?l.fragment(d):l.fragment,p=ct(i,i.VERTEX_SHADER,f),y=ct(i,i.FRAGMENT_SHADER,h);if(!p||!y)throw new Error;var m=function(e,t,n){var r=e.createProgram();if(!r)throw new Error;if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;console.log(e.getProgramInfoLog(r)),e.deleteProgram(r)}(i,p,y);if(!m)throw new Error;if(r.program=m,a){var x=i.createVertexArray();if(!x)throw new Error;r.vao=x,i.bindVertexArray(r.vao)}return r.attributeLocations={},r.attributeBuffers={},r.attributeNames=[],v(e.attributes).forEach((function(e){var t=i.getAttribLocation(r.program,e);if(t<0)throw new Error("".concat(r.constructor.name,': Vertex shader must have an attribute "').concat(e,'"!'));var n=i.createBuffer();if(!n)throw new Error("".concat(r.constructor.name,': Could not create buffer for attribute "').concat(e,'"'));r.attributeLocations[e]=t,r.attributeBuffers[e]=n,r.attributeNames.push(e)})),r.uniformLocations={},r.uniformTypes={},e.uniforms.forEach((function(e){var t=i.getUniformLocation(r.program,e.name);r.uniformTypes[e.name]=e.uniform,t?r.uniformLocations[e.name]=t:console.warn('Shader "'.concat(r.constructor.name,'" could not get uniform location for "').concat(e.name,'"'))})),r}return p(n,[{key:"bindBufferAttribute",value:function(e,t,n){var r=this.gl;r.enableVertexAttribArray(e),r.bindBuffer(r.ARRAY_BUFFER,t),r.vertexAttribPointer(e,n.size,n.type,n.normalized,n.stride,n.offset)}},{key:"disableAttribute",value:function(e){this.gl.disableVertexAttribArray(e)}},{key:"disableAttributes",value:function(){for(var e in this.attributeLocations)this.disableAttribute(this.attributeLocations[e]);this.boundBufferCollection=null}},{key:"canBatchShaderProps",value:function(e,t){return!1}},{key:"bindRenderOp",value:function(e,t){this.bindBufferCollection(e.buffers),e.textures.length>0&&this.bindTextures(e.textures);var n=e.gl;if(this.setUniform("u_resolution",[n.canvas.width,n.canvas.height]),this.setUniform("u_pixelRatio",e.options.pixelRatio),t){if(ze(t,"$dimensions")){var r=t.$dimensions;r||(r=e.dimensions),this.setUniform("u_dimensions",[r.width,r.height])}if(ze(t,"$alpha")){var o=t.$alpha;o||(o=e.alpha),this.setUniform("u_alpha",o)}this.bindProps(t)}}},{key:"setUniform",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.gl)[this.uniformTypes[e]].apply(t,[this.uniformLocations[e]].concat(r))}},{key:"bindBufferCollection",value:function(e){if(this.boundBufferCollection!==e){for(var t in this.attributeLocations){var n=e.getBuffer(t),r=e.getAttributeInfo(t);je(n,'Buffer for "'.concat(t,'" not found')),je(r),this.bindBufferAttribute(this.attributeLocations[t],n,r)}this.boundBufferCollection=e}}},{key:"bindProps",value:function(e){}},{key:"bindTextures",value:function(e){}},{key:"attach",value:function(){this.gl.useProgram(this.program),dt(this.gl)&&this.vao&&this.gl.bindVertexArray(this.vao)}},{key:"detach",value:function(){this.disableAttributes()}}]),n}(function(){function e(){g(this,e)}return p(e,null,[{key:"makeCacheKey",value:function(e){return!1}},{key:"resolveDefaults",value:function(e){return{}}}]),e}());A(ft,"shaderSources",void 0);var ht=function(e){a(n,e);var t=u(n);function n(e,r,o,i,a,s,u,l,d,f){var h;return g(this,n),A(c(h=t.call(this)),"gl",void 0),A(c(h),"options",void 0),A(c(h),"buffers",void 0),A(c(h),"shader",void 0),A(c(h),"shaderProps",void 0),A(c(h),"alpha",void 0),A(c(h),"clippingRect",void 0),A(c(h),"dimensions",void 0),A(c(h),"bufferIdx",void 0),A(c(h),"zIndex",void 0),A(c(h),"length",0),A(c(h),"numQuads",0),A(c(h),"textures",[]),A(c(h),"maxTextures",void 0),h.gl=e,h.options=r,h.buffers=o,h.shader=i,h.shaderProps=a,h.alpha=s,h.clippingRect=u,h.dimensions=l,h.bufferIdx=d,h.zIndex=f,h.gl=e,h.maxTextures=i.supportsIndexedTextures?e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS):1,h}return p(n,[{key:"addTexture",value:function(e){var t=this.textures,n=this.maxTextures,r=t.findIndex((function(t){return t===e}));if(-1!==r)return r;var o=t.length;return o>=n?4294967295:(this.textures.push(e),o)}},{key:"draw",value:function(){var e=this.gl,t=this.shader,n=this.shaderProps,r=this.options;r.shManager.useShader(t),t.bindRenderOp(this,n);var o=this.bufferIdx/24*6*2;if(e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this.clippingRect){var i=this.clippingRect,a=i.x,s=i.y,u=i.width,l=i.height,c=r.pixelRatio,d=r.canvas.height,f=Math.round(a*c),h=Math.round(u*c),p=Math.round(l*c),g=Math.round(d-p-s*c);e.enable(e.SCISSOR_TEST),e.scissor(f,g,h,p)}else e.disable(e.SCISSOR_TEST);e.drawElements(e.TRIANGLES,6*this.numQuads,e.UNSIGNED_SHORT,o)}}]),n}(lt);function pt(e){var t={MAX_RENDERBUFFER_SIZE:0,MAX_TEXTURE_SIZE:0,MAX_VIEWPORT_DIMS:0,MAX_VERTEX_TEXTURE_IMAGE_UNITS:0,MAX_TEXTURE_IMAGE_UNITS:0,MAX_COMBINED_TEXTURE_IMAGE_UNITS:0,MAX_VERTEX_ATTRIBS:0,MAX_VARYING_VECTORS:0,MAX_VERTEX_UNIFORM_VECTORS:0,MAX_FRAGMENT_UNIFORM_VECTORS:0};return Object.keys(t).forEach((function(n){t[n]=e.getParameter(e[n])})),t}function gt(e){var t={ANGLE_instanced_arrays:null,WEBGL_compressed_texture_s3tc:null,WEBGL_compressed_texture_astc:null,WEBGL_compressed_texture_etc:null,WEBGL_compressed_texture_etc1:null,WEBGL_compressed_texture_pvrtc:null,WEBKIT_WEBGL_compressed_texture_pvrtc:null,WEBGL_compressed_texture_s3tc_srgb:null,OES_vertex_array_object:null};return Object.keys(t).forEach((function(n){t[n]=e.getExtension(n)})),t}var vt=new Uint8Array([0,0,0,0]),yt=function(e){a(o,e);var t,n=u(o);function o(e,t){var r;return g(this,o),A(c(r=n.call(this,t)),"gl",void 0),A(c(r),"_nativeCtxTexture",null),A(c(r),"_state","freed"),A(c(r),"_w",0),A(c(r),"_h",0),r.gl=e,r}return p(o,[{key:"ctxTexture",get:function(){return"freed"===this._state&&this.load(),je(this._nativeCtxTexture),this._nativeCtxTexture}},{key:"w",get:function(){return this._w}},{key:"h",get:function(){return this._h}},{key:"load",value:function(){var e=this;"loading"!==this._state&&"loaded"!==this._state&&(this._state="loading",this.textureSource.setState("loading"),this.onLoadRequest().then((function(t){var n=t.width,r=t.height;e._state="loaded",e._w=n,e._h=r,e.textureSource.setState("loaded",{width:n,height:r})})).catch((function(t){e._state="failed",e.textureSource.setState("failed",t),console.error(t)})))}},{key:"onLoadRequest",value:(t=i(r().mark((function e(){var t,n,o,i,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._nativeCtxTexture=this.createNativeCtxTexture(),(n=this.gl).bindTexture(n.TEXTURE_2D,this._nativeCtxTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.bindTexture(n.TEXTURE_2D,this._nativeCtxTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,vt),e.next=11,null===(t=this.textureSource)||void 0===t?void 0:t.getTextureData();case 11:return o=e.sent,i=0,a=0,je(this._nativeCtxTexture),o.data instanceof ImageBitmap||o.data instanceof ImageData?(s=o.data,i=s.width,a=s.height,n.bindTexture(n.TEXTURE_2D,this._nativeCtxTexture),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!!o.premultiplyAlpha),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),(dt(n)||He(i)&&He(a))&&n.generateMipmap(n.TEXTURE_2D)):null===o.data?(i=0,a=0,n.bindTexture(n.TEXTURE_2D,this._nativeCtxTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,vt)):console.error("WebGlCoreCtxTexture.onLoadRequest: Unexpected textureData returned",o),e.abrupt("return",{width:i,height:a});case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"free",value:function(){"freed"!==this._state&&(this._state="freed",this._w=0,this._h=0,this._nativeCtxTexture&&(this.gl.deleteTexture(this._nativeCtxTexture),this._nativeCtxTexture=null))}},{key:"createNativeCtxTexture",value:function(){var e=this.gl.createTexture();if(!e)throw new Error("Could not create WebGL Texture");return e}}]),o}(st),mt=function(e){a(n,e);var t=u(n);function n(e){var r;return g(this,n),A(c(r=t.call(this)),"txManager",void 0),A(c(r),"dimensions",null),A(c(r),"error",null),A(c(r),"state","loading"),r.txManager=e,r}return p(n,[{key:"setState",value:function(e){if(this.state!==e){this.state=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("loaded"===e){var o=n;this.dimensions=o[0]}else if("failed"===e){var i=n;this.error=i[0]}this.emit.apply(this,[e].concat(n))}}}],[{key:"makeCacheKey",value:function(e){return!1}},{key:"resolveDefaults",value:function(e){return{}}}]),n}(s),xt=function(e){a(o,e);var t,n=u(o);function o(e,t){var r;return g(this,o),A(c(r=n.call(this,e)),"props",void 0),r.props=o.resolveDefaults(t||{}),r}return p(o,[{key:"color",get:function(){return this.props.color},set:function(e){this.props.color=e}},{key:"getTextureData",value:(t=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Uint32Array([this.color]),n=new Uint8ClampedArray(t.buffer),e.abrupt("return",{data:new ImageData(n,1,1),premultiplyAlpha:!0});case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(e){var t=o.resolveDefaults(e);return"ColorTexture,".concat(t.color)}},{key:"resolveDefaults",value:function(e){return{color:e.color||4294967295}}}]),o}(mt);A(xt,"z$__type__Props",void 0);var At=function(e){a(o,e);var t,n=u(o);function o(e,t){var r;return g(this,o),A(c(r=n.call(this,e)),"props",void 0),A(c(r),"parentTexture",void 0),A(c(r),"onParentTxLoaded",(function(){r.setState("loaded",{width:r.props.width,height:r.props.height})})),A(c(r),"onParentTxFailed",(function(e,t){r.setState("failed",t)})),r.parentTexture=r.txManager.loadTexture(t.texture.txType,t.texture.props,t.texture.options),r.props=o.resolveDefaults(t||{}),queueMicrotask((function(){var e=r.parentTexture;"loaded"===e.state?r.onParentTxLoaded(e,e.dimensions):"failed"===e.state&&r.onParentTxFailed(e,e.error),e.on("loaded",r.onParentTxLoaded),e.on("failed",r.onParentTxFailed)})),r}return p(o,[{key:"getTextureData",value:(t=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:this.props});case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(e){return!1}},{key:"resolveDefaults",value:function(e){return{texture:e.texture,x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}}}]),o}(mt);A(At,"z$__type__Props",void 0);var wt=function(e){a(o,e);var t,n=u(o);function o(e,t){return g(this,o),n.call(this,e,t)}return p(o,[{key:"onLoadRequest",value:(t=i(r().mark((function e(){var t,n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.textureSource.getTextureData();case 2:return o=e.sent,e.abrupt("return",{width:(null===(t=o.data)||void 0===t?void 0:t.width)||0,height:(null===(n=o.data)||void 0===n?void 0:n.height)||0});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),o}(yt),bt=function(e){a(n,e);var t=u(n);function n(e){return g(this,n),t.call(this,{renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}return p(n,[{key:"bindTextures",value:function(e){var t=this.gl;t.getParameter(t.TEXTURE_BINDING_2D)!==e[0].ctxTexture&&(t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e[0].ctxTexture))}}]),n}(ft);A(bt,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});var Ct=function(e){a(n,e);var t=u(n);function n(e){var r;return g(this,n),A(c(r=t.call(this,{renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]})),"supportsIndexedTextures",!0),r}return p(n,[{key:"bindTextures",value:function(e){var t=this.renderer,n=this.gl;if(e.length>t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error("DefaultShaderBatched: Cannot bind more than ".concat(t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS," textures"));e.forEach((function(e,t){n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e.ctxTexture)}));var r=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",r)}}]),n}(ft);A(Ct,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:function(e){return"\n      #define txUnits ".concat(e,"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[").concat(e,"], int idx, vec2 uv) {\n        ").concat(Array.from(Array(e).keys()).map((function(e){return"\n          ".concat(0!==e?"else ":"","if (idx == ").concat(e,") {\n            return texture2D(textures[").concat(e,"], uv);\n          }\n        ")})).join(""),"\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    ")}});var It=function(){function e(t){g(this,e),A(this,"priority",1),A(this,"name",""),A(this,"ref",void 0),A(this,"target",void 0),A(this,"passParameters",""),A(this,"declaredUniforms",""),A(this,"uniformInfo",{});var n=t.ref,r=t.target,o=t.props,i=void 0===o?{}:o;this.ref=n,this.target=r;var a={},s=[],u="",l=this.constructor.uniforms||{};for(var c in l){var d=l[c],f=d.type,h="".concat(n,"_").concat(c),p="";d.size&&(p="[".concat(d.size(i),"]")),s.push(h),u+="uniform ".concat(f," ").concat(h).concat(p,";"),a[c]={name:h,uniform:l[c].method}}this.passParameters=s.join(","),this.declaredUniforms=u,this.uniformInfo=a}return p(e,null,[{key:"getEffectKey",value:function(e){return""}},{key:"getMethodParameters",value:function(e,t){var n=[];for(var r in e){var o=e[r],i="";o.size&&(i="[".concat(o.size(t),"]")),n.push("".concat(o.type," ").concat(r).concat(i))}return n.join(",")}},{key:"resolveDefaults",value:function(e){return{}}},{key:"makeEffectKey",value:function(e){return!1}}]),e}();A(It,"uniforms",{}),A(It,"methods",void 0),A(It,"onShaderMask",void 0),A(It,"onColorize",void 0),A(It,"onEffectMask",void 0);var kt=function(e){a(n,e);var t=u(n);function n(e,r,o){var i;g(this,n);var a=n.createShader(r,o);return A(c(i=t.call(this,{renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"}].concat(v(a.uniforms)),shaderSources:{vertex:a.vertex,fragment:a.fragment}})),"effects",[]),i.effects=a.effects,i}return p(n,[{key:"bindTextures",value:function(e){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e[0].ctxTexture)}},{key:"bindProps",value:function(e){var t,n=this,r=this.renderer.shManager.getRegisteredEffects();null===(t=e.effects)||void 0===t||t.forEach((function(e,t){var o,i=n.effects[t],a=r[i.name],s=null!==(o=e.props)&&void 0!==o?o:{},u=i.uniformInfo;Object.keys(s).forEach((function(e){var t=a.uniforms[e],r=u[e],o=t.validator?t.validator(s[e],s):s[e];Array.isArray(o)&&(o=new Float32Array(o)),n.setUniform(r.name,o)}))}))}}],[{key:"createShader",value:function(e,t){var r={},o={},i="",a=[],s=[],u=e.effects.map((function(e){var n=t[e.type],o=n.getEffectKey(e.props||{});r[o]=r[o]?++r[o]:1;var u=r[o];1===u&&s.push({key:o,type:e.type,props:e.props});var l=new n({ref:"".concat(o).concat(1===u?"":u),target:o,props:e.props});return i+=l.declaredUniforms,a.push.apply(a,v(Object.values(l.uniformInfo))),l})),l="";null==s||s.forEach((function(e){var r,i=t[e.type],a=i.resolveDefaults(null!==(r=e.props)&&void 0!==r?r:{}),s=[];for(var u in i.methods){var c=u,d=i.methods[u];o[u]&&o[u]!==d&&(c=n.resolveMethodDuplicate(u,d,o)),o[c]=d.replace("function",c),s.push({m:u,cm:c})}var f=i.onShaderMask instanceof Function?i.onShaderMask(a):i.onShaderMask,h=i.onColorize instanceof Function?i.onColorize(a):i.onColorize,p=i.onEffectMask instanceof Function?i.onEffectMask(a):i.onEffectMask;s.forEach((function(e){var t=e.m,n=e.cm,r=new RegExp("\\$".concat(t),"g");f&&(f=f.replace(r,n)),h&&(h=h.replace(r,n)),p&&(p=p.replace(r,n))}));var g=i.getMethodParameters(i.uniforms,a),v=g.length>0?", ".concat(g):"";f&&(l+="\n        float fx_".concat(e.key,"_onShaderMask(float shaderMask ").concat(v,") {\n          ").concat(f,"\n        }\n        ")),h&&(l+="\n          vec4 fx_".concat(e.key,"_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(v,") {\n            ").concat(h,"\n          }\n        ")),p&&(l+="\n          vec4 fx_".concat(e.key,"_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(v,") {\n            ").concat(p,"\n          }\n        "))}));var c="";for(var d in o)c+=o[d];for(var f="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",h="\n\n    ",p=0;p<u.length;p++){var g=u[p],y=g.passParameters.length>0?", ".concat(g.passParameters):"",m=t[g.name];m.onShaderMask&&(h+="\n        shaderMask = fx_".concat(g.target,"_onShaderMask(shaderMask ").concat(y,");\n        ")),m.onColorize&&(h+="\n        maskColor = fx_".concat(g.target,"_onColorize(shaderMask, maskColor, shaderColor").concat(y,");\n        ")),m.onEffectMask&&(f="fx_".concat(g.target,"_onEffectMask(shaderMask, maskColor, shaderColor").concat(y,")"));var x=u[p+1];(void 0===x||t[x.name].onEffectMask)&&(h+="\n          shaderColor = ".concat(f,";\n        "))}return{effects:u,uniforms:a,fragment:n.fragment(i,c,l,h),vertex:n.vertex()}}},{key:"resolveMethodDuplicate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e+(r>0?r:"");return n[o]&&n[o]!==t?this.resolveMethodDuplicate(e,t,n,++r):o}},{key:"resolveDefaults",value:function(e,t){var n;return{effects:(null!==(n=e.effects)&&void 0!==n?n:[]).map((function(e){return{type:e.type,props:t[e.type].resolveDefaults(e.props||{})}})),$dimensions:{width:0,height:0},$alpha:0}}},{key:"makeCacheKey",value:function(e,t){var n,r="";return null===(n=e.effects)||void 0===n||n.forEach((function(e){var n=t[e.type].getEffectKey(e.props||{});r+=",".concat(n)})),"DynamicShader".concat(r)}}]),n}(ft);A(kt,"z$__type__Props",void 0),A(kt,"vertex",(function(){return"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  "})),A(kt,"fragment",(function(e,t,n,r){return"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ".concat(e,"\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ").concat(t,"\n\n    ").concat(n,"\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ").concat(r,"\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  ")}));var Et=function(e){a(n,e);var t=u(n);function n(e){return g(this,n),t.call(this,{renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}return p(n,[{key:"bindTextures",value:function(e){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e[0].ctxTexture)}},{key:"bindProps",value:function(e){this.setUniform("u_radius",e.radius)}},{key:"canBatchShaderProps",value:function(e,t){return e.radius===t.radius&&e.$dimensions.width===t.$dimensions.width&&e.$dimensions.height===t.$dimensions.height}}],[{key:"resolveDefaults",value:function(e){return{radius:e.radius||10,$dimensions:{width:0,height:0}}}}]),n}(ft);A(Et,"z$__type__Props",void 0),A(Et,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});var St=new Float32Array([1,0,0,0,1,0,0,0,1]),Tt=function(e){a(n,e);var t=u(n);function n(e){return g(this,n),t.call(this,{renderer:e,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}return p(n,[{key:"bindTextures",value:function(e){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e[0].ctxTexture)}},{key:"bindProps",value:function(e){var t=n.resolveDefaults(e);for(var r in t)if("transform"===r)this.setUniform("u_transform",!1,t[r]);else if("scrollY"===r)this.setUniform("u_scrollY",t[r]);else if("color"===r){var o=Ze(t.color);this.setUniform("u_color",o)}else"size"===r?this.setUniform("u_size",t[r]):"distanceRange"===r?this.setUniform("u_distanceRange",t[r]):"debug"===r&&this.setUniform("u_debug",t[r]?1:0)}}],[{key:"resolveDefaults",value:function(){var e,t,n,r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{transform:null!==(e=a.transform)&&void 0!==e?e:St,scrollY:null!==(t=a.scrollY)&&void 0!==t?t:0,color:null!==(n=a.color)&&void 0!==n?n:4294967295,size:null!==(r=a.size)&&void 0!==r?r:16,distanceRange:null!==(o=a.distanceRange)&&void 0!==o?o:1,debug:null!==(i=a.debug)&&void 0!==i&&i}}}]),n}(ft);A(Tt,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n        gl_Position = vec4((transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1), 0, 1);\n        v_texcoord = a_textureCoordinate;\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});var Lt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","radius"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"radius"}},{key:"resolveDefaults",value:function(e){var t;return{radius:null!==(t=e.radius)&&void 0!==t?t:10}}}]),n}(It);A(Lt,"z$__type__Props",void 0),A(Lt,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:function(e){var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),A(Lt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),A(Lt,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),A(Lt,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");var Mt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","border"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"border"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}]),n}(It);A(Mt,"z$__type__Props",void 0),A(Mt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return Ze(e)},method:"uniform4fv",type:"vec4"}}),A(Mt,"onEffectMask","\n  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);\n  return mix(shaderColor, maskColor, mask);\n  "),A(Mt,"onColorize","\n    return color;\n  ");var Bt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","linearGradient"),e}return p(n,null,[{key:"getEffectKey",value:function(e){return"linearGradient".concat(e.colors.length)}},{key:"resolveDefaults",value:function(e){var t,n,r=null!==(t=e.colors)&&void 0!==t?t:[4278190080,4294967295],o=e.stops;if(!o){o=[];for(var i=r.length-1,a=0;a<r.length;a++)o.push(a*(1/i))}return{colors:r,stops:o,angle:null!==(n=e.angle)&&void 0!==n?n:0}}}]),n}(It);A(Bt,"z$__type__Props",void 0),A(Bt,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:function(e){return e.map((function(e){return Ze(e)})).reduce((function(e,t){return e.concat(t)}),[])},size:function(e){return e.colors.length},method:"uniform4fv",type:"vec4"},stops:{value:[],validator:function(e,t){var n,r=null!==(n=t.colors)&&void 0!==n?n:[],o=e,i=e;if(0===o.length||o&&o.length!==r.length){for(var a=0;a<r.length;a++)o[a]?(i[a]=o[a],void 0===o[a-1]&&void 0!==i[a-2]&&(i[a-1]=i[a-2]+(o[a]-i[a-2])/2)):i[a]=a*(1/(r.length-1));o=i}return i},size:function(e){return e.colors.length},method:"uniform1fv",type:"float"}}),A(Bt,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),A(Bt,"ColorLoop",(function(e){for(var t="",n=2;n<e;n++)t+="colorOut = mix(colorOut, colors[".concat(n,"], clamp((dist - stops[").concat(n-1,"]) / (stops[").concat(n,"] - stops[").concat(n-1,"]), 0.0, 1.0));");return t})),A(Bt,"onColorize",(function(e){var t=e.colors.length||1;return"\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      for(int i = 1; i < ".concat(t,"-1; i++) {\n        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);\n        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));\n      }\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")}));var _t=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","grayscale"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"grayscale"}}]),n}(It);A(_t,"onColorize","\n    vec3 color = pow(maskColor.rgb, vec3(2.0));\n    float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n    float gammaGray = sqrt(gray);\n    return vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  ");var Nt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","borderRight"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"borderRight"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}]),n}(It);A(Nt,"z$__type__Props",void 0),A(Nt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return Ze(e)},method:"uniform4fv",type:"vec4"}}),A(Nt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),A(Nt,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),A(Nt,"onColorize","\n    return color;\n  ");var Rt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","borderTop"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"borderTop"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}]),n}(It);A(Rt,"z$__type__Props",void 0),A(Rt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return Ze(e)},method:"uniform4fv",type:"vec4"}}),A(Rt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),A(Rt,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),A(Rt,"onColorize","\n    return color;\n  ");var Dt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","borderBottom"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"borderBottom"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}]),n}(It);A(Dt,"z$__type__Props",void 0),A(Dt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return Ze(e)},method:"uniform4fv",type:"vec4"}}),A(Dt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),A(Dt,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),A(Dt,"onColorize","\n    return color;\n  ");var jt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","borderLeft"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"borderLeft"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}]),n}(It);A(jt,"z$__type__Props",void 0),A(jt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return Ze(e)},method:"uniform4fv",type:"vec4"}}),A(jt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),A(jt,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),A(jt,"onColorize","\n    return color;\n  ");var Ot=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","glitch"),e}return p(n,null,[{key:"getEffectKey",value:function(e){return"glitch"}},{key:"resolveDefaults",value:function(e){var t,n,r,o,i;return{amplitude:null!==(t=e.amplitude)&&void 0!==t?t:.2,narrowness:null!==(n=e.narrowness)&&void 0!==n?n:4,blockiness:null!==(r=e.blockiness)&&void 0!==r?r:2,minimizer:null!==(o=e.minimizer)&&void 0!==o?o:8,time:null!==(i=e.time)&&void 0!==i?i:Date.now()}}}]),n}(It);A(Ot,"z$__type__Props",void 0),A(Ot,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:function(e){return(Date.now()-e)%1e3},type:"float"}}),A(Ot,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),A(Ot,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");var Pt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","fadeOut"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"fadeOut"}},{key:"resolveDefaults",value:function(e){var t;return{fade:null!==(t=e.fade)&&void 0!==t?t:10}}}]),n}(It);A(Pt,"z$__type__Props",void 0),A(Pt,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:function(e){var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),A(Pt,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");var Qt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","radialGradient"),e}return p(n,null,[{key:"getEffectKey",value:function(e){return"radialGradient".concat(e.colors.length)}},{key:"resolveDefaults",value:function(e){var t,n,r,o,i,a=null!==(t=e.colors)&&void 0!==t?t:[4278190080,4294967295],s=e.stops;if(!s){s=[];for(var u=a.length-1,l=0;l<a.length;l++)s.push(l*(1/u))}return{colors:a,stops:s,width:null!==(n=e.width)&&void 0!==n?n:0,height:null!==(r=null!==(o=e.height)&&void 0!==o?o:e.width)&&void 0!==r?r:0,pivot:null!==(i=e.pivot)&&void 0!==i?i:[.5,.5]}}}]),n}(It);A(Qt,"z$__type__Props",void 0),A(Qt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:function(e){return e.map((function(e){return Ze(e)})).reduce((function(e,t){return e.concat(t)}),[])},size:function(e){return e.colors.length},method:"uniform4fv",type:"vec4"},stops:{value:[],validator:function(e,t){var n,r=null!==(n=t.colors)&&void 0!==n?n:[],o=e,i=e;if(0===o.length||o&&o.length!==r.length){for(var a=0;a<r.length;a++)o[a]?(i[a]=o[a],void 0===o[a-1]&&void 0!==i[a-2]&&(i[a-1]=i[a-2]+(o[a]-i[a-2])/2)):i[a]=a*(1/(r.length-1));o=i}return i},size:function(e){return e.colors.length},method:"uniform1fv",type:"float"}}),A(Qt,"onColorize",(function(e){var t=e.colors.length||1;return"\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      for(int i = 1; i < ".concat(t,"-1; i++) {\n        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);\n        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));\n      }\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")}));var zt=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return A(c(e=t.call.apply(t,[this].concat(o))),"name","radialProgress"),e}return p(n,null,[{key:"getEffectKey",value:function(){return"radialProgress"}},{key:"resolveDefaults",value:function(e){var t,n,r,o,i,a,s;return{width:null!==(t=e.width)&&void 0!==t?t:10,progress:null!==(n=e.progress)&&void 0!==n?n:.5,offset:null!==(r=e.offset)&&void 0!==r?r:0,range:null!==(o=e.range)&&void 0!==o?o:2*Math.PI,rounded:null!==(i=e.rounded)&&void 0!==i&&i,radius:null!==(a=e.radius)&&void 0!==a?a:1,color:null!==(s=e.color)&&void 0!==s?s:4294967295}}}]),n}(It);A(zt,"z$__type__Props",void 0),A(zt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:function(e){return e?1:0}},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return Ze(e)},method:"uniform4fv",type:"vec4"}}),A(zt,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),A(zt,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),A(zt,"onColorize","\n    return color;\n  ");var Ft=function(){function e(){g(this,e),A(this,"shCache",new Map),A(this,"shConstructors",{}),A(this,"attachedShader",null),A(this,"effectConstructors",{}),A(this,"renderer",void 0),this.registerShaderType("DefaultShader",bt),this.registerShaderType("DefaultShaderBatched",Ct),this.registerShaderType("RoundedRectangle",Et),this.registerShaderType("DynamicShader",kt),this.registerShaderType("SdfShader",Tt),this.registerEffectType("border",Mt),this.registerEffectType("borderBottom",Dt),this.registerEffectType("borderLeft",jt),this.registerEffectType("borderRight",Nt),this.registerEffectType("borderTop",Rt),this.registerEffectType("fadeOut",Pt),this.registerEffectType("linearGradient",Bt),this.registerEffectType("radialGradient",Qt),this.registerEffectType("grayscale",_t),this.registerEffectType("glitch",Ot),this.registerEffectType("radius",Lt),this.registerEffectType("radialProgress",zt)}return p(e,[{key:"registerShaderType",value:function(e,t){this.shConstructors[e]=t}},{key:"registerEffectType",value:function(e,t){this.effectConstructors[e]=t}},{key:"getRegisteredEffects",value:function(){return this.effectConstructors}},{key:"getRegisteredShaders",value:function(){return this.shConstructors}},{key:"loadShader",value:function(e,t){if(!this.renderer)throw new Error("Renderer is not been defined");var n=this.shConstructors[e];if(!n)throw new Error('Shader type "'.concat(e,'" is not registered'));if("DynamicShader"===e)return this.loadDynamicShader(t);var r=n.resolveDefaults(t),o=n.makeCacheKey(r)||n.name;if(o&&this.shCache.has(o))return{shader:this.shCache.get(o),props:r};var i=new n(this.renderer,t);return o&&this.shCache.set(o,i),{shader:i,props:r}}},{key:"loadDynamicShader",value:function(e){if(!this.renderer)throw new Error("Renderer is not been defined");var t=kt.resolveDefaults(e,this.effectConstructors),n=kt.makeCacheKey(t,this.effectConstructors);if(n&&this.shCache.has(n))return{shader:this.shCache.get(n),props:t};var r=new kt(this.renderer,e,this.effectConstructors);return n&&this.shCache.set(n,r),{shader:r,props:t}}},{key:"useShader",value:function(e){this.attachedShader!==e&&(this.attachedShader&&this.attachedShader.detach(),e.attach(),this.attachedShader=e)}}]),e}(),Ut=function(){function e(t){g(this,e),A(this,"config",void 0),this.config=t}return p(e,[{key:"getBuffer",value:function(e){var t;return null===(t=this.config.find((function(t){return t.attributes[e]})))||void 0===t?void 0:t.buffer}},{key:"getAttributeInfo",value:function(e){var t;return null===(t=this.config.find((function(t){return t.attributes[e]})))||void 0===t?void 0:t.attributes[e]}}]),e}(),Wt=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n),A(c(r=t.call(this,e.stage)),"gl",void 0),A(c(r),"system",void 0),A(c(r),"txManager",void 0),A(c(r),"shManager",void 0),A(c(r),"options",void 0),A(c(r),"quadBuffer",new ArrayBuffer(4194304)),A(c(r),"fQuadBuffer",new Float32Array(r.quadBuffer)),A(c(r),"uiQuadBuffer",new Uint32Array(r.quadBuffer)),A(c(r),"renderOps",[]),A(c(r),"curBufferIdx",0),A(c(r),"curRenderOp",null),A(c(r),"renderables",[]),A(c(r),"defaultShader",void 0),A(c(r),"quadBufferCollection",void 0),A(c(r),"defaultTexture",void 0);var o=e.canvas,i=e.clearColor,a=e.bufferMemory;r.options=e,r.txManager=e.txManager,r.shManager=e.shManager,r.defaultTexture=new xt(r.txManager);var s=function(e){var t={alpha:!0,antialias:!1,depth:!1,stencil:!0,desynchronized:!1,powerPreference:"high-performance",premultipliedAlpha:!0,preserveDrawingBuffer:!1};return e.getContext("webgl",t)||e.getContext("experimental-webgl",t)}(o);if(!s)throw new Error("Unable to create WebGL context");r.gl=s;var u=Ze(i);s.viewport(0,0,o.width,o.height),s.clearColor(u[0],u[1],u[2],u[3]),function(e,t){if(!e)throw new Error("No WebGL context");for(var n=~~(t/80),r=new Uint16Array(6*n),o=0,i=0;o<n;o+=6,i+=4)r[o]=i,r[o+1]=i+1,r[o+2]=i+2,r[o+3]=i+2,r[o+4]=i+1,r[o+5]=i+3;var a=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.STATIC_DRAW)}(s,a),r.system={parameters:pt(s),extensions:gt(s)},r.shManager.renderer=c(r),r.defaultShader=r.shManager.loadShader("DefaultShader").shader;var l=s.createBuffer();je(l);var d=6*Float32Array.BYTES_PER_ELEMENT;return r.quadBufferCollection=new Ut([{buffer:l,attributes:{a_position:{name:"a_position",size:2,type:s.FLOAT,normalized:!1,stride:d,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:s.FLOAT,normalized:!1,stride:d,offset:2*Float32Array.BYTES_PER_ELEMENT},a_color:{name:"a_color",size:4,type:s.UNSIGNED_BYTE,normalized:!0,stride:d,offset:4*Float32Array.BYTES_PER_ELEMENT},a_textureIndex:{name:"a_textureIndex",size:1,type:s.FLOAT,normalized:!1,stride:d,offset:5*Float32Array.BYTES_PER_ELEMENT}}}]),r}return p(n,[{key:"reset",value:function(){this.curBufferIdx=0,this.curRenderOp=null,this.renderOps.length=0,this.gl.disable(this.gl.SCISSOR_TEST),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"getShaderManager",value:function(){return this.shManager}},{key:"createCtxTexture",value:function(e){return e instanceof At?new wt(this.gl,e):new yt(this.gl,e)}},{key:"addQuad",value:function(e){var t,n,r,o=this.fQuadBuffer,i=this.uiQuadBuffer,a=e.width,s=e.height,u=e.colorTl,l=e.colorTr,c=e.colorBl,d=e.colorBr,f=e.textureOptions,h=e.shader,p=e.shaderProps,g=e.alpha,v=e.clippingRect,y=e.tx,m=e.ty,x=e.ta,A=e.tb,w=e.tc,b=e.td,C=e.texture;if(p&&ze(p,"$dimensions")){var I=p.$dimensions;I.width=a,I.height=s}je((C=null!==(t=C)&&void 0!==t?t:this.defaultTexture)instanceof mt,"Invalid texture type");var k,E,S=this.curBufferIdx,T=this.curRenderOp,L={width:a,height:s},M=h||this.defaultShader;je(M instanceof ft),T&&(T.shader===M&&((k=T.clippingRect)===(E=v)||null!==k&&null!==E&&k.x===E.x&&k.y===E.y&&k.width===E.width&&k.height===E.height)&&(T.shader===this.defaultShader||p&&T.shader.canBatchShaderProps(T.shaderProps,p))||(T=null)),je(M instanceof ft),T||(this.newRenderOp(M,p,g,L,v,S),je(T=this.curRenderOp));var B=null!==(n=null==f?void 0:f.flipX)&&void 0!==n&&n,_=null!==(r=null==f?void 0:f.flipY)&&void 0!==r&&r,N=0,R=0,D=1,j=1;if(C instanceof At){var O=C.props,P=O.x,Q=O.y,z=O.width,F=O.height,U=C.parentTexture.dimensions||{width:0,height:0},W=U.width,Y=void 0===W?0:W,H=U.height,G=void 0===H?0:H;D=(N=P/Y)+z/Y,j=(R=Q/G)+F/G,C=C.parentTexture}if(B){var X=[D,N];N=X[0],D=X[1]}if(_){var V=[j,R];R=V[0],j=V[1]}var Z=this.stage.txManager.getCtxTexture(C);je(Z instanceof yt);var J=this.addTexture(Z,S);if(je(T=this.curRenderOp),0!==A||0!==w)o[S++]=y,o[S++]=m,o[S++]=N,o[S++]=R,i[S++]=u,o[S++]=J,o[S++]=y+a*x,o[S++]=m+a*w,o[S++]=D,o[S++]=R,i[S++]=l,o[S++]=J,o[S++]=y+s*A,o[S++]=m+s*b,o[S++]=N,o[S++]=j,i[S++]=c,o[S++]=J,o[S++]=y+a*x+s*A,o[S++]=m+a*w+s*b,o[S++]=D,o[S++]=j,i[S++]=d,o[S++]=J;else{var K=y+a*x,q=m+s*b;o[S++]=y,o[S++]=m,o[S++]=N,o[S++]=R,i[S++]=u,o[S++]=J,o[S++]=K,o[S++]=m,o[S++]=D,o[S++]=R,i[S++]=l,o[S++]=J,o[S++]=y,o[S++]=q,o[S++]=N,o[S++]=j,i[S++]=c,o[S++]=J,o[S++]=K,o[S++]=q,o[S++]=D,o[S++]=j,i[S++]=d,o[S++]=J}T.length+=24,T.numQuads++,this.curBufferIdx=S}},{key:"newRenderOp",value:function(e,t,n,r,o,i){var a=new ht(this.gl,this.options,this.quadBufferCollection,e,t,n,o,r,i,0);this.curRenderOp=a,this.renderOps.push(a)}},{key:"addTexture",value:function(e,t,n){var r=this.curRenderOp;je(r);var o=r.addTexture(e);if(4294967295===o){if(n)throw new Error("Unable to add texture to render op");var i=r.shader,a=r.shaderProps,s=r.dimensions,u=r.clippingRect,l=r.alpha;return this.newRenderOp(i,a,l,s,u,t),this.addTexture(e,t,!0)}return o}},{key:"addRenderOp",value:function(e){this.renderOps.push(e),this.curRenderOp=null}},{key:"render",value:function(){var e,t=this.gl,n=this.quadBuffer,r=new Float32Array(n,0,this.curBufferIdx),o=null!==(e=this.quadBufferCollection.getBuffer("a_position"))&&void 0!==e?e:null;t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,r,t.DYNAMIC_DRAW),this.renderOps.forEach((function(e,t){e.draw()})),this.renderables=[]}}]),n}(ut),Yt=function(){function e(){g(this,e),A(this,"activeAnimations",new Set)}return p(e,[{key:"registerAnimation",value:function(e){this.activeAnimations.add(e)}},{key:"unregisterAnimation",value:function(e){this.activeAnimations.delete(e)}},{key:"update",value:function(e){this.activeAnimations.forEach((function(t){t.update(e)}))}}]),e}(),Ht=function(e){a(o,e);var t,n=u(o);function o(e,t){var r;return g(this,o),A(c(r=n.call(this,e)),"props",void 0),r.props=o.resolveDefaults(t),r}return p(o,[{key:"getTextureData",value:(t=i(r().mark((function e(){var t,n,o,i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.src,o=t.premultiplyAlpha,n){e.next=3;break}return e.abrupt("return",{data:null});case 3:if(!(n instanceof ImageData)){e.next=5;break}return e.abrupt("return",{data:n,premultiplyAlpha:o});case 5:return e.next=7,fetch(n);case 7:return i=e.sent,e.next=10,i.blob();case 10:return a=e.sent,e.next=13,createImageBitmap(a,{premultiplyAlpha:o?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"});case 13:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(e){var t=o.resolveDefaults(e);return!(t.src instanceof ImageData)&&"ImageTexture,".concat(t.src,",").concat(t.premultiplyAlpha)}},{key:"resolveDefaults",value:function(e){var t,n;return{src:null!==(t=e.src)&&void 0!==t?t:"",premultiplyAlpha:null===(n=e.premultiplyAlpha)||void 0===n||n}}}]),o}(mt);A(Ht,"z$__type__Props",void 0);var Gt=function(e){a(o,e);var t,n=u(o);function o(e,t){var r;return g(this,o),A(c(r=n.call(this,e)),"props",void 0),r.props=o.resolveDefaults(t),r}return p(o,[{key:"getTextureData",value:(t=i(r().mark((function e(){var t,n,o,i,a,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props,n=t.width,o=t.height,i=n*o*4,a=new Uint8ClampedArray(i),s=0;s<i;s+=4)u=Math.floor(256*Math.random()),a[s]=u,a[s+1]=u,a[s+2]=u,a[s+3]=255;return e.abrupt("return",{data:new ImageData(a,n,o)});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(e){var t=o.resolveDefaults(e);return"NoiseTexture,".concat(t.width,",").concat(t.height,",").concat(t.cacheId)}},{key:"resolveDefaults",value:function(e){var t,n,r;return{width:null!==(t=e.width)&&void 0!==t?t:128,height:null!==(n=e.height)&&void 0!==n?n:128,cacheId:null!==(r=e.cacheId)&&void 0!==r?r:0}}}]),o}(mt);A(Gt,"z$__type__Props",void 0);var Xt=function(){function e(){g(this,e),A(this,"usedMemory",0),A(this,"txConstructors",{}),A(this,"textureKeyCache",new Map),A(this,"textureIdCache",new Map),A(this,"ctxTextureCache",new WeakMap),A(this,"textureRefCountMap",new WeakMap),A(this,"renderer",void 0),this.registerTextureType("ImageTexture",Ht),this.registerTextureType("ColorTexture",xt),this.registerTextureType("NoiseTexture",Gt),this.registerTextureType("SubTexture",At)}return p(e,[{key:"registerTextureType",value:function(e,t){this.txConstructors[e]=t}},{key:"loadTexture",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.txConstructors[e];if(!o)throw new Error('Texture type "'.concat(e,'" is not registered'));if(void 0!==(null==r?void 0:r.id)&&this.textureIdCache.has(r.id)&&(n=this.textureIdCache.get(r.id)),!n){var i,a=null==r?void 0:r.id,s=null!==(i=null==r?void 0:r.cacheKey)&&void 0!==i?i:o.makeCacheKey(t);n=s&&this.textureKeyCache.has(s)?this.textureKeyCache.get(s):new o(this,t),a&&this.addTextureIdToCache(a,s,n)}null!=r&&r.preload&&this.getCtxTexture(n).load();return n}},{key:"addTextureIdToCache",value:function(e,t,n){var r=this.textureIdCache,o=this.textureRefCountMap;r.set(e,n),o.has(n)?o.get(n).count++:(o.set(n,{cacheKey:t,count:1}),t&&this.textureKeyCache.set(t,n))}},{key:"removeTextureIdFromCache",value:function(e){var t=this.textureIdCache,n=this.textureRefCountMap,r=t.get(e);if(r&&(t.delete(e),n.has(r))){var o=n.get(r);je(o),o.count--,0===o.count&&(n.delete(r),o.cacheKey&&this.textureKeyCache.delete(o.cacheKey))}}},{key:"getDebugInfo",value:function(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}},{key:"getCtxTexture",value:function(e){if(this.ctxTextureCache.has(e))return this.ctxTextureCache.get(e);var t=this.renderer.createCtxTexture(e);return this.ctxTextureCache.set(e,t),t}}]),e}(),Vt=10,Zt=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n),A(c(r=t.call(this)),"data",void 0),A(c(r),"kernings",void 0),r.data=e;var o=r.kernings={};return e.kernings.forEach((function(e){var t=e.second;(o[t]=o[t]||{})[e.first]=e.amount})),r.kernings=o,r}return p(n,[{key:"shapeText",value:r().mark((function e(t,n){var o,i,a,s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0,a=r().mark((function e(){var a,u,l,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.value,u=s.data.chars.find((function(e){return e.id===a})),n.next(),void 0===u){e.next=10;break}return c=void 0!==i?((null===(l=s.kernings[u.id])||void 0===l?void 0:l[i])||0)+t.letterSpacing:0,i=u.id,e.next=8,{mapped:!0,glyphId:u.id,codepoint:a,cluster:n.lastIndex,xAdvance:u.xadvance+c,yAdvance:0,xOffset:u.xoffset+c,yOffset:u.yoffset,xBearing:0,yBearing:0,width:u.width,height:u.height};case 8:e.next=13;break;case 10:return a===Vt&&(i=void 0),e.next=13,{mapped:!1,codepoint:a,cluster:n.lastIndex};case 13:case"end":return e.stop()}}),e)}));case 2:if(!(o=n.peek())||o.done){e.next=6;break}return e.delegateYield(a(),"t0",4);case 4:e.next=2;break;case 6:case"end":return e.stop()}}),e)}))}]),n}(p((function e(){g(this,e)}))),Jt=function(e){a(n,e);var t=u(n);function n(e,o,a,s,u,l){var d;return g(this,n),A(c(d=t.call(this,e,o)),"type",void 0),A(c(d),"texture",void 0),A(c(d),"data",void 0),A(c(d),"shaper",void 0),A(c(d),"glyphMap",new Map),d.type=a,je(s.renderer instanceof Wt,"SDF Font Faces can only be used with the WebGL Renderer"),d.texture=s.txManager.loadTexture("ImageTexture",{src:u,premultiplyAlpha:!1},{preload:!0}),d.texture.on("loaded",(function(){d.checkLoaded()})),fetch(l).then(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:d.data=e.sent,d.shaper=new Zt(d.data),d.data.chars.forEach((function(e){d.glyphMap.set(e.id,e)})),d.checkLoaded();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(console.error),d}return p(n,[{key:"getAtlasEntry",value:function(e){var t=this.glyphMap.get(e);if(void 0===t)throw new Error("Glyph ".concat(e," not found in font ").concat(this.fontFamily));return{x:t.x,y:t.y,width:t.width,height:t.height}}},{key:"checkLoaded",value:function(){this.loaded||"loaded"===this.texture.state&&this.data&&(this.loaded=!0,this.emit("loaded"))}}]),n}(d),Kt=function(){function e(t){g(this,e),A(this,"textRenderers",void 0),this.textRenderers=t}return p(e,[{key:"addFontFace",value:function(e){for(var t in this.textRenderers){var n=this.textRenderers[t];n&&n.isFontFaceSupported(e)&&n.addFontFace(e)}}}],[{key:"resolveFontFace",value:function(e,t){return e.reduce((function(e,n){if(e)return e;var r=n[t.fontFamily];if(r){var o,i=new Set(r),a=k(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.descriptors.stretch===t.fontStretch&&s.descriptors.style===t.fontStyle&&s.descriptors.weight===t.fontWeight||i.delete(s)}}catch(u){a.e(u)}finally{a.f()}return i.values().next().value}}),void 0)||[][0]}}]),e}(),qt={x:function(e,t){e.props.x=t},y:function(e,t){e.props.y=t},width:function(e,t){e.props.width=t},height:function(e,t){e.props.height=t},color:function(e,t){e.props.color=t},zIndex:function(e,t){e.props.zIndex=t},fontFamily:function(e,t){e.props.fontFamily=t},fontWeight:function(e,t){e.props.fontWeight=t},fontStyle:function(e,t){e.props.fontStyle=t},fontStretch:function(e,t){e.props.fontStretch=t},fontSize:function(e,t){e.props.fontSize=t},text:function(e,t){e.props.text=t},textAlign:function(e,t){e.props.textAlign=t},contain:function(e,t){e.props.contain=t},offsetY:function(e,t){e.props.offsetY=t},scrollable:function(e,t){e.props.scrollable=t},scrollY:function(e,t){e.props.scrollY=t},letterSpacing:function(e,t){e.props.letterSpacing=t},debug:function(e,t){e.props.debug=t}},$t=function(){function e(t){g(this,e),A(this,"stage",void 0),A(this,"set",void 0),this.stage=t;var n=x(x({},qt),this.getPropertySetters());this.set=Object.freeze(Object.fromEntries(Object.entries(n).map((function(e){var t=b(e,2),n=t[0],r=t[1];return[n,function(e,t){e.props[n]!==t&&r(e,t)}]}))))}return p(e,[{key:"setStatus",value:function(e,t,n){e.status!==t&&(e.status=t,e.emitter.emit(t,n))}},{key:"scheduleUpdateState",value:function(e){var t=this;e.updateScheduled||(e.updateScheduled=!0,queueMicrotask((function(){e.updateScheduled=!1,t.updateState(e)})))}}]),e}();var en=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,e),A(this,"iterator",void 0),A(this,"peekBuffer",[]),A(this,"_lastIndex",void 0),this.iterator=t,this.iterator=t,this._lastIndex=n-1,this.peekBuffer=[]}return p(e,[{key:"next",value:function(){var e=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return e.done?this._lastIndex=-1:this._lastIndex++,e}},{key:"peek",value:function(){if(this.peekBuffer.length>0)return this.peekBuffer[0];var e=this.iterator.next();return this.peekBuffer.push(e),e}},{key:"lastIndex",get:function(){return this._lastIndex}}]),e}();function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r().mark((function n(){var o,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=t;case 1:if(!(o<e.length)){n.next=10;break}if(void 0!==(i=e.codePointAt(o))){n.next=5;break}throw new Error("Invalid Unicode code point");case 5:return n.next=7,i;case 7:o+=i<=65535?1:2,n.next=1;break;case 10:case"end":return n.stop()}}),n)}))()}function nn(e,t,n,r,o,i,a,s,u,l,c,d,f,h,p,g){je(h,"Font face must be loaded"),je(h.loaded,"Font face must be loaded"),je(h.data,"Font face must be loaded"),je(h.shaper,"Font face must be loaded");for(var v,y=h.data.info.size,m=s/y,x=i/m,A=u/m,w=d[e],b=(null==w?void 0:w.codepointIndex)||0,C=(null==w?void 0:w.maxX)||0,I=(null==w?void 0:w.maxY)||0,E=t,S=n,T=0,L={codepointIndex:-1,bufferOffset:-1,xStart:-1},M=h.shaper,B={letterSpacing:A},_=M.shapeText(B,new en(tn(r,b),b)),N=-1,R=[],D=a/m,j=function(e,t,n){var r,o=0,i=k(n.shapeText(t,new en(tn(e,0),0)));try{for(i.s();!(r=i.n()).done;){var a=r.value;a.mapped&&(o+=a.xAdvance)}}catch(s){i.e(s)}finally{i.f()}return o}("...",B,M),O=!0;O;){for(var P="both"!==c||g||S+y+y<=D,Q=P?x:x-j,z=0;(v=_.next())&&!v.done;){var F=v.value;if(e===d.length)d.push({codepointIndex:F.cluster,maxY:I,maxX:C});else if(e>d.length)throw new Error("Unexpected lineCache length");if(32===F.codepoint||10===F.codepoint?-1!==L.codepointIndex&&(L.codepointIndex=-1,z=E):-1===L.codepointIndex&&(L.codepointIndex=F.cluster,L.bufferOffset=T,L.xStart=z),F.mapped){var U=E+F.xOffset+F.width;if("none"!==c&&U>=Q&&-1!==L.codepointIndex&&L.codepointIndex<F.cluster&&L.xStart>0){if(P){_=M.shapeText(B,new en(tn(r,L.codepointIndex),L.codepointIndex)),T=L.bufferOffset;break}_=M.shapeText(B,new en(tn("...",0),0)),E=L.xStart,T=L.bufferOffset}else{var W=E+F.xOffset,Y=S+F.yOffset,H=!f||S+y>=f.y1/m,G=!f||S<=f.y2/m;if(H&&G){-1===N&&(N=T);var X=h.getAtlasEntry(F.glyphId),V=X.x/h.data.common.scaleW,Z=X.y/h.data.common.scaleH,J=X.width/h.data.common.scaleW,K=X.height/h.data.common.scaleH;l[T++]=W,l[T++]=Y,l[T++]=V,l[T++]=Z,l[T++]=W+F.width,l[T++]=Y,l[T++]=V+J,l[T++]=Z,l[T++]=W,l[T++]=Y+F.height,l[T++]=V,l[T++]=Z+K,l[T++]=W+F.width,l[T++]=Y+F.height,l[T++]=V+J,l[T++]=Z+K}I=Math.max(I,Y+F.height),E+=F.xAdvance,C=Math.max(C,E)}}else if(10===F.codepoint)break}-1!==N&&(R.push({bufferStart:N,bufferEnd:T}),N=-1),E=0,S+=y,e++,L.codepointIndex=-1,z=0,!p&&"both"===c&&f&&S>f.y2/m||v&&v.done?O=!1:"both"!==c||g||P||(O=!1)}if("center"===o)for(var q="none"===c?C:x,$=0;$<R.length;$++)for(var ee=R[$],te=(q-(l[ee.bufferEnd-4]-l[ee.bufferStart]))/2,ne=ee.bufferStart;ne<ee.bufferEnd;ne+=4)l[ne]+=te;else if("right"===o)for(var re="none"===c?C:x,oe=0;oe<R.length;oe++)for(var ie=R[oe],ae=re-(ie.bufferEnd===ie.bufferStart?0:l[ie.bufferEnd-4]-l[ie.bufferStart]),se=ie.bufferStart;se<ie.bufferEnd;se+=4)l[se]+=ae;return je(v),{bufferNumFloats:T,bufferNumQuads:T/16,layoutNumCharacters:v.done?r.length-b:v.value.cluster-b+1,fullyProcessed:!!v.done,maxX:C,maxY:I}}var rn=Ke(0,0,0,0),on=function(e){a(n,e);var t=u(n);function n(e){var r;return g(this,n),A(c(r=t.call(this,e)),"ssdfFontFamilies",{}),A(c(r),"msdfFontFamilies",{}),A(c(r),"sdfShader",void 0),A(c(r),"rendererBounds",void 0),r.sdfShader=r.stage.shManager.loadShader("SdfShader").shader,r.rendererBounds={x1:0,y1:0,x2:r.stage.options.appWidth,y2:r.stage.options.appHeight},r}return p(n,[{key:"getPropertySetters",value:function(){var e=this;return{fontFamily:function(t,n){t.props.fontFamily=n,t.trFontFace=void 0,e.invalidateLayoutCache(t)},fontWeight:function(t,n){t.props.fontWeight=n,t.trFontFace=void 0,e.invalidateLayoutCache(t)},fontStyle:function(t,n){t.props.fontStyle=n,t.trFontFace=void 0,e.invalidateLayoutCache(t)},fontStretch:function(t,n){t.props.fontStretch=n,t.trFontFace=void 0,e.invalidateLayoutCache(t)},fontSize:function(t,n){t.props.fontSize=n,e.invalidateLayoutCache(t)},text:function(t,n){t.props.text=n,e.invalidateLayoutCache(t)},textAlign:function(t,n){t.props.textAlign=n,e.invalidateLayoutCache(t)},color:function(e,t){e.props.color=t},x:function(t,n){t.props.x=n,e.invalidateVisibleWindowCache(t)},y:function(t,n){t.props.y=n,e.invalidateVisibleWindowCache(t)},contain:function(t,n){t.props.contain=n,e.invalidateLayoutCache(t)},width:function(t,n){t.props.width=n,e.invalidateLayoutCache(t)},height:function(t,n){t.props.height=n,e.invalidateLayoutCache(t)},offsetY:function(t,n){t.props.offsetY=n,e.invalidateLayoutCache(t)},scrollable:function(t,n){t.props.scrollable=n,e.invalidateLayoutCache(t)},scrollY:function(t,n){t.props.scrollY=n,e.scheduleUpdateState(t)},letterSpacing:function(t,n){t.props.letterSpacing=n,e.invalidateLayoutCache(t)},debug:function(e,t){e.props.debug=t}}}},{key:"canRenderFont",value:function(e){var t=e.fontFamily;return t in this.ssdfFontFamilies||t in this.msdfFontFamilies||"$$SDF_FAILURE_TEST$$"===t}},{key:"isFontFaceSupported",value:function(e){return e instanceof Jt}},{key:"addFontFace",value:function(e){je(e instanceof Jt);var t=e.fontFamily,n="ssdf"===e.type?this.ssdfFontFamilies:"msdf"===e.type?this.msdfFontFamilies:void 0;if(n){var r=n[t];r||(r=new Set,n[t]=r),r.add(e)}else console.warn("Invalid font face type: ".concat(e.type))}},{key:"createState",value:function(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new s,lineCache:[],forceFullLayoutCalc:!1,renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}},{key:"updateState",value:function(e){var t=this,n=e.trFontFace,r=e.textH,o=e.lineCache,i=e.debugData,a=e.forceFullLayoutCalc;if(i.updateCount++,"initialState"===e.status&&this.setStatus(e,"loading"),!n&&(n=this.resolveFontFace(e.props),e.trFontFace=n,!n)){var s="SdfTextRenderer: Could not resolve font face for family: '".concat(e.props.fontFamily,"'");return console.error(s),void this.setStatus(e,"failed",new Error(s))}if(n.loaded){je(n.data,"Font face data should be loaded");var u=e.props,l=u.text,c=u.fontSize,d=u.x,f=u.y,h=u.contain,p=u.width,g=u.height,v=u.scrollable,y="both"===h&&v?e.props.scrollY:0,m=e.renderWindow,x=n.data.info.size,A=c/x;e.distanceRange=A*n.data.distanceField.distanceRange;var w=24*l.length,b=e.vertexBuffer;(!b||b.length<w)&&(b=new Float32Array(2*w));var C=e.visibleWindow;if(!C.valid){var I=Ke(d,f,"none"!==h?d+p:1/0,"both"===h?f+g:1/0,rn);qe(this.rendererBounds,I,e.visibleWindow),C.valid=!0}if(!a&&m){if(d+m.x1<=C.x1&&d+m.x2>=C.x2&&f-y+m.y1<=C.y1&&f-y+m.y2>=C.y2)return void this.setStatus(e,"loaded");m=e.renderWindow=void 0,this.setStatus(e,"loading")}var k=e.props,E=k.offsetY,S=k.textAlign;if(!m){var T=C.y2-C.y1;m=function(e,t,n,r,o,i){var a,s=r*o,u=i.x1-e,l=i.y1-t;return(a=i).x1<a.x2&&a.y1<a.y2?{x1:u,y1:l+n-s,x2:u+(i.x2-i.x1),y2:l+n+(i.y2-i.y1)+s}:{x1:0,y1:0,x2:0,y2:0}}(d,f,y,x,Math.ceil(T/x),C)}var L=function(e,t,n,r,o,i,a){var s=0;o&&(s=Math.min(Math.max(Math.floor(o.y1/e),0),i.length));var u=t/n+s*r;if(!(a&&u>=a/n))return{x:0,y:u,lineIndex:s}}(c,E,A,x,m,o,r);if(L){var M=e.props.letterSpacing,B=nn(L.lineIndex,L.x,L.y,l,S,p,g,c,M,b,h,o,m,n,a,v);e.bufferUploaded=!1,e.bufferNumFloats=B.bufferNumFloats,e.bufferNumQuads=B.bufferNumQuads,e.vertexBuffer=b,e.renderWindow=m,i.lastLayoutNumCharacters=B.layoutNumCharacters,i.bufferSize=b.byteLength,B.fullyProcessed&&(e.textW=B.maxX*A,e.textH=B.maxY*A),this.setStatus(e,"loaded")}else this.setStatus(e,"loaded")}else n.once("loaded",(function(){t.scheduleUpdateState(e)}))}},{key:"renderQuads",value:function(e,t,n,r){var o,i;if(e.vertexBuffer){performance.now();var a=this.stage.renderer;this.stage.options;var s=e.props,u=s.fontSize,l=s.color,c=s.contain,d=s.scrollable,f=s.zIndex,h=s.debug,p="both"===c&&d?e.props.scrollY:0,g=e.textW,v=void 0===g?0:g,y=e.textH,m=void 0===y?0:y,x=e.distanceRange,A=e.vertexBuffer,w=e.bufferUploaded,b=e.trFontFace,C=e.webGlBuffers;if(!C){var I=a.gl,k=4*Float32Array.BYTES_PER_ELEMENT,E=I.createBuffer();je(E),e.webGlBuffers=new Ut([{buffer:E,attributes:{a_position:{name:"a_position",size:2,type:I.FLOAT,normalized:!1,stride:k,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:I.FLOAT,normalized:!1,stride:k,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,je(e.webGlBuffers),C=e.webGlBuffers}if(!w){var S,T,L=a.gl,M=null!==(S=null===(T=C)||void 0===T?void 0:T.getBuffer("a_textureCoordinate"))&&void 0!==S?S:null;L.bindBuffer(L.ARRAY_BUFFER,M),L.bufferData(L.ARRAY_BUFFER,A,L.STATIC_DRAW),e.bufferUploaded=!0}je(b);var B=new ht(a.gl,a.options,C,this.sdfShader,{transform:t.data,color:Pe(l,r),size:u/((null===(o=b.data)||void 0===o?void 0:o.info.size)||0),scrollY:p,distanceRange:x,debug:h.sdfShaderDebug},r,n,{height:m,width:v},0,f),_=null===(i=e.trFontFace)||void 0===i?void 0:i.texture;je(_);var N=this.stage.txManager.getCtxTexture(_);B.addTexture(N),B.length=e.bufferNumFloats,B.numQuads=e.bufferNumQuads,a.addRenderOp(B)}}},{key:"resolveFontFace",value:function(e){return Kt.resolveFontFace([this.msdfFontFamilies,this.ssdfFontFamilies],e)}},{key:"invalidateVisibleWindowCache",value:function(e){e.visibleWindow.valid=!1,this.scheduleUpdateState(e)}},{key:"invalidateLayoutCache",value:function(e){e.visibleWindow.valid=!1,e.renderWindow=void 0,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}}]),n}($t),an=function(){function e(t,n){g(this,e),A(this,"_canvas",void 0),A(this,"_context",void 0),A(this,"_settings",void 0),A(this,"renderInfo",void 0),this._canvas=t,this._context=n,this._settings=this.mergeDefaults({})}return p(e,[{key:"settings",get:function(){return this._settings},set:function(e){this._settings=this.mergeDefaults(e)}},{key:"getPrecision",value:function(){return this._settings.precision}},{key:"setFontProperties",value:function(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}},{key:"_getFontSetting",value:function(){for(var e=[this._settings.fontFace],t=[],n=0,r=e.length;n<r;n++)"serif"===e[n]||"sans-serif"===e[n]?t.push(e[n]):t.push('"'.concat(e[n],'"'));return"".concat(this._settings.fontStyle," ").concat(this._settings.fontSize*this.getPrecision(),"px ").concat(t.join(","))}},{key:"_load",value:function(){var e=this;if(document.fonts){var t=this._getFontSetting();try{if(!document.fonts.check(t,this._settings.text))return document.fonts.load(t,this._settings.text).catch((function(e){console.warn("[Lightning] Font load error",e,t)})).then((function(){document.fonts.check(t,e._settings.text)||console.warn("[Lightning] Font not found",t)}))}catch(n){console.warn("[Lightning] Can't check font loading for "+t)}}}},{key:"calculateRenderInfo",value:function(){var e={},t=this.getPrecision(),n=this._settings.paddingLeft*t,r=this._settings.paddingRight*t,o=this._settings.fontSize*t,i=null===this._settings.offsetY?null:this._settings.offsetY*t,a=(this._settings.lineHeight||o)*t,s=this._settings.w*t,u=this._settings.h*t,l=this._settings.wordWrapWidth*t,c=this._settings.cutSx*t,d=this._settings.cutEx*t,f=this._settings.cutSy*t,h=this._settings.cutEy*t,p=(this._settings.letterSpacing||0)*t,g=this._settings.textIndent*t;this.setFontProperties();var v,y=s||2048/this.getPrecision(),m=y-n;if(m<10&&(y+=10-m,m=10),l||(l=m),this._settings.textOverflow&&!this._settings.wordWrap){var x;switch(this._settings.textOverflow){case"clip":x="";break;case"ellipsis":x=this._settings.maxLinesSuffix;break;default:x=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,l-g,x)}if(this._settings.wordWrap)v=this.wrapText(this._settings.text,l,p,g);else for(var A=(v={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]}).l.length,w=0;w<A-1;w++)v.n.push(w);var b=v.l;if(this._settings.maxLines&&b.length>this._settings.maxLines){var C,I=b.slice(0,this._settings.maxLines),k=null;if(this._settings.maxLinesSuffix){var E=this._settings.maxLinesSuffix?this.measureText(this._settings.maxLinesSuffix):0,S=this.wrapText(I[I.length-1],l-E,p,g);I[I.length-1]="".concat(S.l[0]).concat(this._settings.maxLinesSuffix),k=[S.l.length>1?S.l[1]:""]}else k=[""];var T=b.length,L=0,M=v.n.length;for(C=this._settings.maxLines;C<T;C++)k[L]+="".concat(k[L]?" ":"").concat(b[C]),C+1<M&&v.n[C+1]&&L++;e.remainingText=k.join("\n"),e.moreTextLines=!0,b=I}else e.moreTextLines=!1,e.remainingText="";for(var B,_=0,N=[],R=0;R<b.length;R++){var D=this.measureText(b[R],p)+(0===R?g:0);N.push(D),_=Math.max(_,D)}if(e.lineWidths=N,s||(y=_+n+r,m=_),a=a||o,u)B=u;else{var j="bottom"!=this._settings.textBaseline?.5*o:0;B=a*(b.length-1)+j+Math.max(a,o)+(i||0)}return null===i&&(i=o),e.w=y,e.h=B,e.lines=b,e.precision=t,y||(y=1),B||(B=1),(c||d)&&(y=Math.min(y,d-c)),(f||h)&&(B=Math.min(B,h-f)),e.width=y,e.innerWidth=m,e.height=B,e.fontSize=o,e.cutSx=c,e.cutSy=f,e.cutEx=d,e.cutEy=h,e.lineHeight=a,e.lineWidths=N,e.offsetY=i,e.paddingLeft=n,e.paddingRight=r,e.letterSpacing=p,e.textIndent=g,e}},{key:"draw",value:function(e,t){var n,r,o=this.getPrecision(),i=(null==t?void 0:t.lines)||e.lines,a=(null==t?void 0:t.lineWidths)||e.lineWidths,s=t?t.lines.length*e.lineHeight:e.height;this._canvas.width=Math.min(Math.ceil(e.width+this._settings.textRenderIssueMargin),2048),this._canvas.height=Math.min(Math.ceil(s),2048),this.setFontProperties(),e.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(e.cutSx||e.cutSy)&&this._context.translate(-e.cutSx,-e.cutSy);for(var u=[],l=0,c=i.length;l<c;l++)n=0===l?e.textIndent:0,r=l*e.lineHeight+e.offsetY,"middle"==this._settings.verticalAlign?r+=(e.lineHeight-e.fontSize)/2:"bottom"==this._settings.verticalAlign&&(r+=e.lineHeight-e.fontSize),"right"===this._settings.textAlign?n+=e.innerWidth-a[l]:"center"===this._settings.textAlign&&(n+=(e.innerWidth-a[l])/2),n+=e.paddingLeft,u.push({text:i[l],x:n,y:r,w:a[l]});if(this._settings.highlight){var d=this._settings.highlightColor,f=this._settings.highlightHeight*o||1.5*e.fontSize,h=this._settings.highlightOffset*o,p=null!==this._settings.highlightPaddingLeft?this._settings.highlightPaddingLeft*o:e.paddingLeft,g=null!==this._settings.highlightPaddingRight?this._settings.highlightPaddingRight*o:e.paddingRight;this._context.fillStyle=Je(d);for(var v=0;v<u.length;v++){var y=u[v];this._context.fillRect(y.x-p,y.y-e.offsetY+h,y.w+g+p,f)}}var m=null;this._settings.shadow&&(m=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=Je(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*o,this._context.shadowOffsetY=this._settings.shadowOffsetY*o,this._context.shadowBlur=this._settings.shadowBlur*o),this._context.fillStyle=Je(this._settings.textColor);for(var x=0,A=u.length;x<A;x++){var w=u[x];if(0===e.letterSpacing)this._context.fillText(w.text,w.x,w.y);else for(var b=w.text.split(""),C=w.x,I=0,k=b.length;I<k;I++)this._context.fillText(b[I],C,w.y),C+=this.measureText(b[I],e.letterSpacing)}m&&(this._context.shadowColor=m[0],this._context.shadowOffsetX=m[1],this._context.shadowOffsetY=m[2],this._context.shadowBlur=m[3]),(e.cutSx||e.cutSy)&&this._context.translate(e.cutSx,e.cutSy),this.renderInfo=e}},{key:"wrapWord",value:function(e,t,n){var r=this._context.measureText(n).width,o=e.length,i=this._context.measureText(e).width;if(i<=t)return e;var a=Math.floor(t*o/i),s=this._context.measureText(e.substring(0,a)).width+r;if(s>t)for(;a>0&&(s=this._context.measureText(e.substring(0,a)).width+r)>t;)a-=1;else for(;a<o;){if(!((s=this._context.measureText(e.substring(0,a)).width+r)<t)){a-=1;break}a+=1}return e.substring(0,a)+(t>=r?n:"")}},{key:"wrapText",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.split(/\r?\n/g),i=[],a=[],s=0;s<o.length;s++){for(var u=[],l="",c=t-r,d=o[s].split(" "),f=0;f<d.length;f++){var h=this.measureText(d[f],n),p=h+this.measureText(" ",n);0===f||p>c?(f>0&&(u.push(l),l=""),l+=d[f],c=t-h-(0===f?r:0)):(c-=p,l+=" ".concat(d[f]))}u.push(l),l="",i=i.concat(u),s<o.length-1&&a.push(i.length)}return{l:i,n:a}}},{key:"measureText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n?e.split("").reduce((function(e,r){return e+t._context.measureText(r).width+n}),0):this._context.measureText(e).width}},{key:"mergeDefaults",value:function(e){return x({text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,maxLinesSuffix:"..",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0},e)}}]),e}(),sn="undefined"==typeof self?globalThis:self,un=(null===(t=sn.document)||void 0===t?void 0:t.fonts)||sn.fonts;var ln=Ke(0,0,0,0),cn=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n),A(c(r=t.call(this,e)),"canvas",void 0),A(c(r),"context",void 0),A(c(r),"rendererBounds",void 0),"undefined"!=typeof OffscreenCanvas?r.canvas=new OffscreenCanvas(0,0):r.canvas=document.createElement("canvas");var o=r.canvas.getContext("2d");return o||(r.canvas=document.createElement("canvas"),o=r.canvas.getContext("2d")),je(o),r.context=o,r.rendererBounds={x1:0,y1:0,x2:r.stage.options.appWidth,y2:r.stage.options.appHeight},r}return p(n,[{key:"getPropertySetters",value:function(){var e=this;return{fontFamily:function(t,n){t.props.fontFamily=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontWeight:function(t,n){t.props.fontWeight=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontStyle:function(t,n){t.props.fontStyle=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontStretch:function(t,n){t.props.fontStretch=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontSize:function(t,n){t.props.fontSize=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},text:function(t,n){t.props.text=n,e.invalidateLayoutCache(t)},textAlign:function(t,n){t.props.textAlign=n,e.invalidateLayoutCache(t)},color:function(t,n){t.props.color=n,e.invalidateLayoutCache(t)},x:function(t,n){t.props.x=n,e.invalidateVisibleWindowCache(t)},y:function(t,n){t.props.y=n,e.invalidateVisibleWindowCache(t)},contain:function(t,n){t.props.contain=n,e.invalidateLayoutCache(t)},width:function(t,n){t.props.width=n,e.invalidateLayoutCache(t)},height:function(t,n){t.props.height=n,e.invalidateLayoutCache(t)},offsetY:function(t,n){t.props.offsetY=n,e.invalidateLayoutCache(t)},scrollY:function(e,t){e.props.scrollY=t},letterSpacing:function(t,n){t.props.letterSpacing=n,e.invalidateLayoutCache(t)}}}},{key:"canRenderFont",value:function(e){return!0}},{key:"isFontFaceSupported",value:function(e){return e instanceof h}},{key:"addFontFace",value:function(e){je(e instanceof h),un.add(e.fontFace)}},{key:"createState",value:function(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new s,canvasPages:void 0,lightning2TextRenderer:new an(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}},{key:"updateState",value:function(e){if("initialState"===e.status&&this.setStatus(e,"loading"),!e.fontInfo){var t=(n=e.props,r=n.fontFamily,o=n.fontStyle,i=n.fontWeight,a=n.fontStretch,s=n.fontSize,[o,i,a,"".concat(s,"px"),r].join(" "));if(e.fontInfo={cssString:t,loaded:!1},!e.fontInfo.loaded)return void un.load(t).then(this.onFontLoaded.bind(this,e,t)).catch(this.onFontLoadError.bind(this,e,t))}var n,r,o,i,a,s;if(e.fontInfo.loaded){e.renderInfo||(e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFace:e.props.fontFamily,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:Ze(e.props.color),offsetY:e.props.fontSize+e.props.offsetY,wordWrap:"none"!==e.props.contain,wordWrapWidth:"none"===e.props.contain?void 0:e.props.width,letterSpacing:e.props.letterSpacing},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0);var u=e.props,l=u.x,c=u.y,d=u.width,f=u.height,h=u.scrollY,p=u.contain,g=e.visibleWindow,v=e.renderWindow,y=e.canvasPages;if(!g.valid){var m=Ke(l,c,"none"!==p?l+d:1/0,"both"===p?c+f:1/0,ln);qe(this.rendererBounds,m,g),g.valid=!0}var x=g.y2-g.y1,A=Math.ceil(x/e.renderInfo.lineHeight);if(0===x)return y=void 0,v=void 0,void this.setStatus(e,"loaded");if(v&&y){var w=l+v.x1,b=c-h+v.y1,C=l+v.x2,I=c-h+v.y2;if(w<=g.x1&&C>=g.x2&&b<=g.y1&&I>=g.y2)return void this.setStatus(e,"loaded");I<g.y2?(v.y1+=A*e.renderInfo.lineHeight,v.y2+=A*e.renderInfo.lineHeight,y.push(y.shift()),y[2].lineNumStart=y[1].lineNumStart+A,y[2].lineNumEnd=y[2].lineNumStart+A,y[2].valid=!1):b>g.y1&&(v.y1-=A*e.renderInfo.lineHeight,v.y2-=A*e.renderInfo.lineHeight,y.unshift(y.pop()),y[0].lineNumStart=y[1].lineNumStart-A,y[0].lineNumEnd=y[0].lineNumStart+A,y[0].valid=!1)}else{var E,S,T,L=e.renderInfo.lineHeight*A,M=Math.ceil(h/L),B=M*A,_=B-A,N=B+A;y=[{texture:null===(E=y)||void 0===E?void 0:E[0].texture,lineNumStart:_,lineNumEnd:_+A,valid:!1},{texture:null===(S=y)||void 0===S?void 0:S[1].texture,lineNumStart:B,lineNumEnd:B+A,valid:!1},{texture:null===(T=y)||void 0===T?void 0:T[2].texture,lineNumStart:N,lineNumEnd:N+A,valid:!1}],e.canvasPages=y;var R=M*L;v={x1:0,y1:R-L,x2:d,y2:R+2*L}}e.renderWindow=v,performance.now();var D,j=k(y);try{for(j.s();!(D=j.n()).done;){var O=D.value;O.valid||(O.lineNumStart<0?(O.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),O.valid=!0):(e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(O.lineNumStart,O.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(O.lineNumStart,O.lineNumEnd)}),0!==this.canvas.width&&0!==this.canvas.height&&(O.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0})),O.valid=!0))}}catch(P){j.e(P)}finally{j.f()}this.setStatus(e,"loaded")}}},{key:"renderQuads",value:function(e,t,n,r){var o=this.stage,i=e.canvasPages,a=e.textW,s=void 0===a?0:a,u=e.textH,l=void 0===u?0:u,c=e.renderWindow;if(i&&c){var d=e.props,f=d.x,h=d.y,p=d.scrollY,g=d.contain,v=d.width,y=d.height,m={x:f,y:h,width:"none"!==g?v:s,height:"both"===g?y:l};$e({x:0,y:0,width:o.options.appWidth,height:o.options.appHeight},m),je(i,"canvasPages is not defined"),je(c,"renderWindow is not defined");var x,A,w,b,C,I,k=(c.y2-c.y1)/3,E=e.props,S=E.zIndex,T=E.color,L=r*((255&T)/255),M=Qe(4294967295,L);if(i[0].valid)this.stage.renderer.addQuad({alpha:L,clippingRect:n,colorBl:M,colorBr:M,colorTl:M,colorTr:M,width:(null===(x=i[0].texture)||void 0===x||null===(x=x.dimensions)||void 0===x?void 0:x.width)||0,height:(null===(A=i[0].texture)||void 0===A||null===(A=A.dimensions)||void 0===A?void 0:A.height)||0,texture:i[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:S,tx:t.tx,ty:t.ty-p+c.y1,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td});if(i[1].valid)this.stage.renderer.addQuad({alpha:L,clippingRect:n,colorBl:M,colorBr:M,colorTl:M,colorTr:M,width:(null===(w=i[1].texture)||void 0===w||null===(w=w.dimensions)||void 0===w?void 0:w.width)||0,height:(null===(b=i[1].texture)||void 0===b||null===(b=b.dimensions)||void 0===b?void 0:b.height)||0,texture:i[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:S,tx:t.tx,ty:t.ty-p+c.y1+k,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td});if(i[2].valid)this.stage.renderer.addQuad({alpha:L,clippingRect:n,colorBl:M,colorBr:M,colorTl:M,colorTr:M,width:(null===(C=i[2].texture)||void 0===C||null===(C=C.dimensions)||void 0===C?void 0:C.width)||0,height:(null===(I=i[2].texture)||void 0===I||null===(I=I.dimensions)||void 0===I?void 0:I.height)||0,texture:i[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:S,tx:t.tx,ty:t.ty-p+c.y1+k+k,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td})}}},{key:"invalidateVisibleWindowCache",value:function(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}},{key:"invalidateLayoutCache",value:function(e){e.renderInfo=void 0,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}},{key:"onFontLoaded",value:function(e,t){var n;t===(null===(n=e.fontInfo)||void 0===n?void 0:n.cssString)&&e.fontInfo&&(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}},{key:"onFontLoadError",value:function(e,t,n){var r;t===(null===(r=e.fontInfo)||void 0===r?void 0:r.cssString)&&e.fontInfo&&(e.fontInfo.loaded=!0,console.error("CanvasTextRenderer: Error loading font '".concat(e.fontInfo.cssString,"'"),n),this.scheduleUpdateState(e))}}]),n}($t),dn=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n),A(c(r=t.call(this)),"options",void 0),A(c(r),"animationManager",void 0),A(c(r),"txManager",void 0),A(c(r),"fontManager",void 0),A(c(r),"textRenderers",void 0),A(c(r),"shManager",void 0),A(c(r),"renderer",void 0),A(c(r),"root",void 0),A(c(r),"deltaTime",0),A(c(r),"lastFrameTime",0),A(c(r),"currentFrameTime",0),A(c(r),"fpsNumFrames",0),A(c(r),"fpsElapsedTime",0),A(c(r),"renderRequested",!1),r.options=e;var o=e.canvas,i=e.clearColor,a=e.rootId,s=e.debug,u=e.appWidth,l=e.appHeight;r.txManager=new Xt,r.shManager=new Ft,r.animationManager=new Yt,null!=s&&s.monitorTextureCache&&setInterval((function(){je(r.txManager);var e=r.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",e.idCacheSize),console.log("Texture Key Cache Size: ",e.keyCacheSize)}),1e3),r.renderer=new Wt({stage:c(r),canvas:o,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:null!=i?i:4278190080,bufferMemory:2e6,txManager:r.txManager,shManager:r.shManager}),r.txManager.renderer=r.renderer,r.textRenderers={canvas:new cn(c(r)),sdf:new on(c(r))},r.fontManager=new Kt(r.textRenderers);var d,f=new rt(c(r),{id:a,x:0,y:0,width:u,height:l,alpha:1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null});return r.root=f,d=c(r),requestAnimationFrame((function e(){d.updateAnimations(),d.hasSceneUpdates()?(d.drawFrame(),requestAnimationFrame(e)):setTimeout(e,16.666666666666668)})),r}return p(n,[{key:"updateAnimations",value:function(){var e=this.animationManager;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=performance?performance.now():Date.now(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,e.update(this.deltaTime))}},{key:"hasSceneUpdates",value:function(){return!!this.root.updateType||this.renderRequested}},{key:"drawFrame",value:function(){var e=this.renderer,t=this.renderRequested;0!==this.root.updateType&&this.root.update(this.deltaTime),null==e||e.reset(),this.addQuads(this.root),null==e||e.render(),t&&(this.renderRequested=!1);var n=this.options.fpsUpdateInterval;if(n&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=n)){var r=Math.round(1e3*this.fpsNumFrames/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",r)}}},{key:"addQuads",value:function(e){je(this.renderer&&e.globalTransform),e.isRenderable&&e.renderQuads(this.renderer);for(var t=0;t<e.children.length;t++){var n=e.children[t];n&&(0!==(null==n?void 0:n.worldAlpha)&&this.addQuads(n))}}},{key:"requestRender",value:function(){this.renderRequested=!0}},{key:"resolveTextRenderer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!1;if(t){var r=this.textRenderers[t];r?r.canRenderFont(e)||(console.warn("Cannot use override text renderer '".concat(t,"' for font"),e),t=null,n=!0):(console.warn("Text renderer override '".concat(t,"' not found.")),t=null,n=!0)}if(!t){for(var o=0,i=Object.entries(this.textRenderers);o<i.length;o++){var a=b(i[o],2),s=a[0],u=a[1];if("canvas"!==s&&u.canRenderFont(e)){t=s;break}}t||(t="canvas")}n&&console.warn("Falling back to text renderer ".concat(String(t)));var l=this.textRenderers[t];return je(l,"resolvedTextRenderer undefined"),l}}]),n}(s),fn=function(e){a(r,e);var t=u(r);function r(e,n){var o;g(this,r),A(c(o=t.call(this,e,n)),"textRenderer",void 0),A(c(o),"trState",void 0),A(c(o),"_textRendererOverride",null),A(c(o),"onTextLoaded",(function(){var e=c(o).contain,t=o.trState.props.width,n=o.trState.props.height,r=o.trState.textW||0,i=o.trState.textH||0;"both"===e?(o.props.width=t,o.props.height=n):"width"===e?(o.props.width=t,o.props.height=i):"none"===e&&(o.props.width=r,o.props.height=i),o.updateLocalTransform(),o.stage.requestRender(),o.emit("loaded",{type:"text",dimensions:{width:o.trState.textW||0,height:o.trState.textH||0}})})),A(c(o),"onTextFailed",(function(e,t){o.emit("failed",{type:"text",error:t})})),o._textRendererOverride=n.textRendererOverride;var i=o.resolveTextRendererAndState({x:o.absX,y:o.absY,width:n.width,height:n.height,textAlign:n.textAlign,color:n.color,zIndex:n.zIndex,contain:n.contain,scrollable:n.scrollable,scrollY:n.scrollY,offsetY:n.offsetY,letterSpacing:n.letterSpacing,debug:n.debug,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStretch:n.fontStretch,fontStyle:n.fontStyle,fontWeight:n.fontWeight,text:n.text},void 0),a=i.resolvedTextRenderer,s=i.textRendererState;return o.textRenderer=a,o.trState=s,o}return p(r,[{key:"width",get:function(){return this.trState.props.width},set:function(e){this.textRenderer.set.width(this.trState,e)}},{key:"height",get:function(){return this.trState.props.height},set:function(e){this.textRenderer.set.height(this.trState,e)}},{key:"color",get:function(){return this.trState.props.color},set:function(e){this.textRenderer.set.color(this.trState,e)}},{key:"text",get:function(){return this.trState.props.text},set:function(e){this.textRenderer.set.text(this.trState,e),this.checkIsRenderable()}},{key:"textRendererOverride",get:function(){return this._textRendererOverride},set:function(e){this._textRendererOverride=e;var t=this.resolveTextRendererAndState(this.trState.props,this.trState),n=t.resolvedTextRenderer,r=t.textRendererState;this.textRenderer=n,this.trState=r}},{key:"fontSize",get:function(){return this.trState.props.fontSize},set:function(e){this.textRenderer.set.fontSize(this.trState,e)}},{key:"fontFamily",get:function(){return this.trState.props.fontFamily},set:function(e){this.textRenderer.set.fontFamily(this.trState,e)}},{key:"fontStretch",get:function(){return this.trState.props.fontStretch},set:function(e){this.textRenderer.set.fontStretch(this.trState,e)}},{key:"fontStyle",get:function(){return this.trState.props.fontStyle},set:function(e){this.textRenderer.set.fontStyle(this.trState,e)}},{key:"fontWeight",get:function(){return this.trState.props.fontWeight},set:function(e){this.textRenderer.set.fontWeight(this.trState,e)}},{key:"textAlign",get:function(){return this.trState.props.textAlign},set:function(e){this.textRenderer.set.textAlign(this.trState,e)}},{key:"contain",get:function(){return this.trState.props.contain},set:function(e){this.textRenderer.set.contain(this.trState,e)}},{key:"scrollable",get:function(){return this.trState.props.scrollable},set:function(e){this.textRenderer.set.scrollable(this.trState,e)}},{key:"scrollY",get:function(){return this.trState.props.scrollY},set:function(e){this.textRenderer.set.scrollY(this.trState,e)}},{key:"offsetY",get:function(){return this.trState.props.offsetY},set:function(e){this.textRenderer.set.offsetY(this.trState,e)}},{key:"letterSpacing",get:function(){return this.trState.props.letterSpacing},set:function(e){this.textRenderer.set.letterSpacing(this.trState,e)}},{key:"debug",get:function(){return this.trState.props.debug},set:function(e){this.textRenderer.set.debug(this.trState,e)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(f(r.prototype),"update",this).call(this,e,t),je(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}},{key:"checkIsRenderable",value:function(){return!!n(f(r.prototype),"checkIsRenderable",this).call(this)||(""!==this.trState.props.text?this.isRenderable=!0:this.isRenderable=!1)}},{key:"renderQuads",value:function(e){je(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha)}},{key:"resolveTextRendererAndState",value:function(e,t){var n=this.stage.resolveTextRenderer(e,this._textRendererOverride),r=n.createState(e);return t&&["loading","loaded","failed"].forEach((function(e){t.emitter.off(e)})),r.emitter.on("loaded",this.onTextLoaded),r.emitter.on("failed",this.onTextFailed),n.scheduleUpdateState(r),{resolvedTextRenderer:n,textRendererState:r}}}]),r}(rt),hn=function(e){a(n,e);var t=u(n);function n(e,r,o){return g(this,n),t.call(this,e,r,o,new fn(o,{id:it(),x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStretch:e.fontStretch,fontStyle:e.fontStyle,contain:e.contain,scrollable:e.scrollable,letterSpacing:e.letterSpacing,textAlign:e.textAlign,scrollY:e.scrollY,offsetY:e.offsetY,textRendererOverride:e.textRendererOverride,debug:e.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null}))}return p(n,[{key:"text",get:function(){return this.coreNode.text},set:function(e){this.coreNode.text=e}},{key:"textRendererOverride",get:function(){return this.coreNode.textRendererOverride},set:function(e){this.coreNode.textRendererOverride=e}},{key:"fontSize",get:function(){return this.coreNode.fontSize},set:function(e){this.coreNode.fontSize=e}},{key:"fontFamily",get:function(){return this.coreNode.fontFamily},set:function(e){this.coreNode.fontFamily=e}},{key:"fontWeight",get:function(){return this.coreNode.fontWeight},set:function(e){this.coreNode.fontWeight=e}},{key:"fontStretch",get:function(){return this.coreNode.fontStretch},set:function(e){this.coreNode.fontStretch=e}},{key:"fontStyle",get:function(){return this.coreNode.fontStyle},set:function(e){this.coreNode.fontStyle=e}},{key:"textAlign",get:function(){return this.coreNode.textAlign},set:function(e){this.coreNode.textAlign=e}},{key:"contain",get:function(){return this.coreNode.contain},set:function(e){this.coreNode.contain=e}},{key:"scrollable",get:function(){return this.coreNode.scrollable},set:function(e){this.coreNode.scrollable=e}},{key:"scrollY",get:function(){return this.coreNode.scrollY},set:function(e){this.coreNode.scrollY=e}},{key:"offsetY",get:function(){return this.coreNode.offsetY},set:function(e){this.coreNode.offsetY=e}},{key:"letterSpacing",get:function(){return this.coreNode.letterSpacing},set:function(e){this.coreNode.letterSpacing=e}},{key:"debug",get:function(){return this.coreNode.debug},set:function(e){this.coreNode.debug=e}}]),n}(at),pn=function(e,t,n){return e()};function gn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=i(r().mark((function e(t,n){var i,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Loading core extension",t),e.next=4,pn((function(){return o.import(t)}),void 0,o.meta.url);case 4:i=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error("The core extension module at '".concat(t,"' could not be loaded.")),console.error(e.t0),e.abrupt("return");case 12:if(i.default){e.next=15;break}return console.error("The core extension module at '".concat(t,"' does not have a default export.")),e.abrupt("return");case 15:if(a=i.default,!(a.prototype instanceof m)){e.next=29;break}return s=new a,e.prev=18,e.next=21,s.run(n);case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(18),console.error("The core extension at '".concat(t,"' threw an error.")),console.error(e.t1);case 27:e.next=30;break;case 29:console.error("The core extension at '".concat(t,"' does not extend CoreExtension."));case 30:case"end":return e.stop()}}),e,null,[[0,7],[18,23]])})))).apply(this,arguments)}var yn,mn,xn=function(){function e(){g(this,e),A(this,"root",null),A(this,"stage",null),A(this,"rendererMain",null)}var t;return p(e,[{key:"init",value:(t=i(r().mark((function e(t,n,o){var i,a=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stage=new dn({rootId:it(),appWidth:n.appWidth,appHeight:n.appHeight,deviceLogicalPixelRatio:n.deviceLogicalPixelRatio,devicePhysicalPixelRatio:n.devicePhysicalPixelRatio,clearColor:n.clearColor,canvas:o,fpsUpdateInterval:n.fpsUpdateInterval,debug:{monitorTextureCache:!1}}),this.rendererMain=t,je(this.stage.root),i=new at(t.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root),this.root=i,i.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,i)),this.onCreateNode(i),!n.coreExtensionModule){e.next=10;break}return e.next=10,gn(n.coreExtensionModule,this.stage);case 10:this.stage.on("fpsUpdate",(function(e,t){a.onFpsUpdate(t)}));case 11:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"createNode",value:function(e){je(this.rendererMain),je(this.stage);var t=new at(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}},{key:"createTextNode",value:function(e){je(this.rendererMain),je(this.stage);var t=new hn(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}},{key:"destroyNode",value:function(e){e.destroy()}},{key:"releaseTexture",value:function(e){var t=this.stage;je(t),t.txManager.removeTextureIdFromCache(e)}},{key:"getRootNode",value:function(){return je(this.root),this.root}},{key:"onCreateNode",value:function(e){throw new Error("Method not implemented.")}},{key:"onBeforeDestroyNode",value:function(e){throw new Error("Method not implemented.")}},{key:"onFpsUpdate",value:function(e){throw new Error("Method not implemented.")}}]),e}();function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new xn;return yn=new Ye(e,e.rootId||"app",t),mn=yn.createShader.bind(yn),yn}var wn=function(e){a(n,e);var t=u(n);function n(e){var r;return g(this,n),(r=t.call(this))._parent=e,r}return p(n,[{key:"selected",get:function(){return this[this._parent.selected||0]}},{key:"firstChild",get:function(){return this[0]}},{key:"insert",value:function(e,t){if(t){var n=this.indexOf(t);this.splice(n,0,e)}else this.push(e);e.parent=this._parent,this._parent._isDirty=!0}},{key:"remove",value:function(e){var t=this.indexOf(e);t>=0&&this.splice(t,1)}}]),n}(e(Array));o.meta.env={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0}||{MODE:"development"};var bn={debug:!1,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}};function Cn(e){return"function"==typeof e}function In(e){return Array.isArray(e)}var kn=function(e){a(n,e);var t=u(n);function n(e){var r,o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,n);var a=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r=t.call.apply(t,[o].concat(n))};return In(i)?a.apply(void 0,v(i)):"string"==typeof i?a(i):a.apply(void 0,v(Object.entries(i).filter((function(e){var t=b(e,2);t[0];return t[1]})).map((function(e){return b(e,1)[0]})))),r.onChange=e,l(r,c(r))}return p(n,[{key:"has",value:function(e){return this.indexOf(e)>=0}},{key:"is",value:function(e){return this.indexOf(e)>=0}},{key:"add",value:function(e){this.push(e),this.onChange()}},{key:"toggle",value:function(e){this.has(e)?this.remove(e):this.add(e)}},{key:"remove",value:function(e){var t=this.indexOf(e);t>=0&&(this.splice(t,1),this.onChange())}}]),n}(e(Array));var En=bn.animationSettings;function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{set:function(t){"number"==typeof t&&(t={width:t,color:255}),this.effects=x(x({},this.effects||{}),A({},"border".concat(e),t)),this["_border".concat(e)]=t},get:function(){return this["_border".concat(e)]}}}var Tn=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],Ln=["clipping","contain","fontFamily","src","text","textAlign","texture","maxLines","maxLinesSuffix","textBaseline","textOverflow","verticalAlign","wordWrap"],Mn=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n),(r=t.call(this)).lng=null,r._parent=null,r.name=e,r.rendered=!1,r.autofocus=!1,r._renderProps={x:0,y:0},r.children=new wn(c(r));var o,i=k(Tn);try{var a=function(){var e=o.value;Object.defineProperty(c(r),e,{get:function(){return this["_".concat(e)]||this.lng&&this.lng[e]},set:function(t){var n;this["_".concat(e)]=In(n=t)?n[0]:n,this._sendToLightningAnimatable(e,t)}})};for(i.s();!(o=i.n()).done;)a()}catch(d){i.e(d)}finally{i.f()}var s,u=k(Ln);try{var l=function(){var e=s.value;Object.defineProperty(c(r),e,{get:function(){return this["_".concat(e)]||this.lng&&this.lng[e]},set:function(t){this["_".concat(e)]=t,this._sendToLightning(e,t)}})};for(u.s();!(s=u.n()).done;)l()}catch(d){u.e(d)}finally{u.f()}return Object.defineProperties(c(r),{borderRadius:{set:function(e){this._borderRadius=e,this.effects=x(x({},this.effects||{}),{radius:{radius:e}})},get:function(){return this._borderRadius}},border:Sn(),borderLeft:Sn("Left"),borderRight:Sn("Right"),borderTop:Sn("Top"),borderBottom:Sn("Bottom")}),Object.defineProperties(c(r),{linearGradient:{set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._linearGradient=e,this.effects=x(x({},this.effects||{}),{linearGradient:e})},get:function(){return this._linearGradient}}}),r}return p(n,[{key:"effects",get:function(){return this._effects},set:function(e){this._effects=e,this.shader=function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=b(r[n],2),i=o[0],a=o[1];t.push({type:i,props:a})}return mn("DynamicShader",{effects:t})}(e)}},{key:"parent",get:function(){return this._parent},set:function(e){var t;(this._parent=e,this.rendered&&this.lng)&&(this.lng.parent=null!==(t=null==e?void 0:e.lng)&&void 0!==t?t:null)}},{key:"shader",get:function(){return this._shader},set:function(e){In(e)?this._shader=mn.apply(void 0,v(e)):this._shader=e,this._sendToLightning("shader",this._shader)}},{key:"_sendToLightningAnimatable",value:function(e,t){if(this.rendered&&this.lng){if(In(t))return this.createAnimation(A({},e,t[0]),t[1]).start();if(this._animate)return this.createAnimation(A({},e,t)).start();this.lng[e]=t}else In(t)&&(t=t[0]),this._renderProps[e]=t}},{key:"_sendToLightning",value:function(e,t){this.rendered&&this.lng?this.lng[e]=t:this._renderProps[e]=t}},{key:"createAnimation",value:function(e,t){return je(this.lng,"Node must be rendered before animating"),this.lng.animate(e,t||this.animationSettings)}},{key:"setFocus",value:function(){this.rendered?De(this):this.autofocus=!0}},{key:"isTextNode",value:function(){return"text"===this.name}},{key:"_resizeOnTextLoad",value:function(){var e=this;this.lng.once("loaded",(function(t,n){if("text"===n.type){var r=n.dimensions;e.width=r.width,e.height=r.height,e.parent.updateLayout(e,r)}}))}},{key:"getText",value:function(){return this.children.map((function(e){return e.text})).join("")}},{key:"destroy",value:function(){this.lng&&yn.destroyNode(this.lng)}},{key:"style",get:function(){return this._style},set:function(e){for(var t in e)"animate"===t&&(t="_animate"),this[t]||(this[t]=e[t]);this._style=e}},{key:"hasChildren",get:function(){return this.children.length>0}},{key:"states",get:function(){return this._states=this._states||new kn(this._stateChanged.bind(this)),this._states},set:function(e){this._states=new kn(this._stateChanged.bind(this),e),this.rendered&&this._stateChanged()}},{key:"animationSettings",get:function(){return this._animationSettings||En},set:function(e){this._animationSettings=e}},{key:"updateLayout",value:function(e,t){if(this.hasChildren){var n;if(Cn(this.onBeforeLayout)&&this.onBeforeLayout.call(this,e,t),"flex"===this.display)if(function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];if("TextNode"!==r.name){if("text"===r.name&&!r.width&&!r.height)return!1;t.push(r)}}var o=t.length,i="row"===(e.flexDirection||"row"),a=i?"width":"height",s=i?"height":"width",u=i?"marginLeft":"marginTop",l=i?"marginRight":"marginBottom",c=i?"x":"y",d=i?"y":"x",f=e[a]||0,h=e[s]||0,p=e.gap||0,g=e.justifyContent||"flexStart",v=e.alignItems,y=0;["center","spaceBetween","spaceEvenly"].includes(g)&&(y=t.reduce((function(e,t){return e+(t[a]||0)}),0));var m=h&&v?function(e){"flexStart"===v?e[d]=0:"center"===v?e[d]=(h-(e[s]||0))/2:"flexEnd"===v&&(e[d]=h-(e[s]||0))}:function(e){return e};if("flexStart"===g){var x=0;if(t.forEach((function(e){e[c]=x+(e[u]||0),x+=(e[a]||0)+p+(e[u]||0)+(e[l]||0),m(e)})),e._autosized){var A=x-p;if(A!==e[a])return e[a]=A,!0}}else if("flexEnd"===g)for(var w=f,b=o-1;b>=0;b--){var C=t[b];je(C),C[c]=w-(C[a]||0)-(C[l]||0),w-=(C[a]||0)+p+(C[u]||0)+(C[l]||0),m(C)}else if("center"===g){var I=(f-(y+p*(o-1)))/2;t.forEach((function(e){e[c]=I,I+=(e[a]||0)+p,m(e)}))}else if("spaceBetween"===g){var k=(f-y)/(o-1),E=0;t.forEach((function(e){e[c]=E,E+=(e[a]||0)+k,m(e)}))}else if("spaceEvenly"===g){var S=(f-y)/(o+1),T=S;t.forEach((function(e){e[c]=T,T+=(e[a]||0)+S,m(e)}))}return!1}(this))null===(n=this.parent)||void 0===n||n.updateLayout();Cn(this.onLayout)&&this.onLayout.call(this,e,t)}}},{key:"_stateChanged",value:function(){var e,t=this;if(this.states,this.forwardStates){var n=this.states.slice();this.children.forEach((function(e){return e.states=n}))}var r=(null===(e=bn.stateMapperHook)||void 0===e?void 0:e.call(bn,this,this.states))||this.states;if(this._undoStates||this.style&&function(e,t){var n,r=k(t);try{for(r.s();!(n=r.n()).done;)if(n.value in e)return!0}catch(o){r.e(o)}finally{r.f()}return!1}(this.style,r)){this._undoStates=this._undoStates||{};for(var o={},i=0,a=Object.entries(this._undoStates);i<a.length;i++){var s=b(a[i],2),u=s[0],l=s[1];r.includes(u)||(o=x(x({},o),l))}var c=r.reduce((function(e,n){var r=t.style[n];return r&&(e=x(x({},e),r),t._undoStates&&!t._undoStates[n]&&(t._undoStates[n]={},Object.keys(r).forEach((function(e){t._undoStates[n][e]=t[e]})))),e}),{});Object.assign(this,x(x({},o),c))}}},{key:"render",value:function(){var e=this,t=this.parent;t._isDirty&&(t.updateLayout(),t._isDirty=!1),e.updateLayout(),this.states.length&&this._stateChanged();var n=e._renderProps;t.lng&&(n.parent=t.lng),e.isTextNode()?((n=x(x(x({},bn.fontSettings),n),{},{text:e.getText()})).contain&&(n.width||(n.width=(t.width||0)-n.x-(n.marginRight||0),e._width=n.width,e._autosized=!0),n.height||"both"!==n.contain||(n.height=(t.height||0)-n.y-(n.marginBottom||0),e._height=n.height,e._autosized=!0)),e.lng=yn.createTextNode(n),Cn(this.onCreate)&&this.onCreate.call(this,e),Cn(e.onLoad)&&e.lng.on("loaded",e.onLoad),e.width&&e.height||(e._autosized=!0,e._resizeOnTextLoad())):(n.src||n.texture||(isNaN(n.width)&&(n.width=(t.width||0)-n.x,e._width=n.width,e._autosized=!0),isNaN(n.height)&&(n.height=(t.height||0)-n.y,e._height=n.height,e._autosized=!0),n.color||(e._color=n.color=0)),e.lng=yn.createNode(n),e.onFail&&e.lng.on("failed",e.onFail),e.onLoad&&e.lng.on("loaded",e.onLoad),Cn(this.onCreate)&&this.onCreate.call(this,e)),e.rendered=!0,e.autofocus&&e.setFocus(),delete this._renderProps}}]),n}(e(Object)),Bn=function(e){return t=Fn("text"),Wn(t,e,!1),t;var t},_n=function(e){return t=Fn("node"),Wn(t,e,!1),t;var t};function Nn(e){"TextNode"!==e.name&&(je(e instanceof Mn),e.render(),e.children.forEach((function(e){return Nn(e)})))}var Rn=function(e){var t,n,r=An(e.options),o=r.init();return V((function(){o.then((function(){je(t),t.lng=r.root,t.children.forEach(Nn),Cn(e.onFirstRender)&&e.onFirstRender(t)})).catch(console.error)})),n=Fn("canvas"),"function"==typeof t?Gn(t,n):t=n,Un(n,(function(){return e.children})),n};function Dn(e){var t=e.createElement,n=e.createTextNode,r=e.isTextNode,o=e.replaceText,i=e.insertNode,a=e.removeNode,s=e.setProperty,u=e.getParentNode,l=e.getFirstChild,c=e.getNextSibling;function d(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return f(e,t,r,n);X((function(r){return f(e,t(),r,n)}),r)}function f(e,t,a,s,u){for(;"function"==typeof a;)a=a();if(t===a)return a;var c=typeof t,d=void 0!==s;if("string"===c||"number"===c)if("number"===c&&(t=t.toString()),d){var m=a[0];m&&r(m)?o(m,t):m=n(t),a=g(e,a,s,m)}else""!==a&&"string"==typeof a?o(l(e),a=t):(g(e,a,s,n(t)),a=t);else if(null==t||"boolean"===c)a=g(e,a,s);else{if("function"===c)return X((function(){for(var n=t();"function"==typeof n;)n=n();a=f(e,n,a,s)})),function(){return a};if(Array.isArray(t)){var x=[];if(h(x,t,u))return X((function(){return a=f(e,x,a,s,!0)})),function(){return a};if(0===x.length){var A=g(e,a,s);if(d)return a=A}else Array.isArray(a)?0===a.length?v(e,x,s):p(e,a,x):null==a||""===a?v(e,x):p(e,d&&a||[l(e)],x);a=x}else{if(Array.isArray(a)){if(d)return a=g(e,a,s,t);g(e,a,null,t)}else null!=a&&""!==a&&l(e)?y(e,t,l(e)):i(e,t);a=t}}return a}function h(e,t,r){for(var o=!1,i=0,a=t.length;i<a;i++){var s=t[i],u=void 0;if(null==s||!0===s||!1===s);else if(Array.isArray(s))o=h(e,s)||o;else if("string"==(u=typeof s)||"number"===u)e.push(n(s));else if("function"===u)if(r){for(;"function"==typeof s;)s=s();o=h(e,Array.isArray(s)?s:[s])||o}else e.push(s),o=!0;else e.push(s)}return o}function p(e,t,n){for(var r=n.length,o=t.length,s=r,u=0,l=0,d=c(t[o-1]),f=null;u<o||l<s;)if(t[u]!==n[l]){for(;t[o-1]===n[s-1];)o--,s--;if(o===u)for(var h=s<r?l?c(n[l-1]):n[s-l]:d;l<s;)i(e,n[l++],h);else if(s===l)for(;u<o;)f&&f.has(t[u])||a(e,t[u]),u++;else if(t[u]===n[s-1]&&n[l]===t[o-1]){var p=c(t[--o]);i(e,n[l++],c(t[u++])),i(e,n[--s],p),t[o]=n[s]}else{if(!f){f=new Map;for(var g=l;g<s;)f.set(n[g],g++)}var v=f.get(t[u]);if(null!=v)if(l<v&&v<s){for(var m=u,x=1,A=void 0;++m<o&&m<s&&null!=(A=f.get(t[m]))&&A===v+x;)x++;if(x>v-l)for(var w=t[u];l<v;)i(e,n[l++],w);else y(e,n[l++],t[u++])}else u++;else a(e,t[u++])}}else u++,l++}function g(e,t,r,o){if(void 0===r){for(var s;s=l(e);)a(e,s);return o&&i(e,o),""}var c=o||n("");if(t.length)for(var d=!1,f=t.length-1;f>=0;f--){var h=t[f];if(c!==h){var p=u(h)===e;d||f?p&&a(e,h):p?y(e,c,h):i(e,c,r)}else d=!0}else i(e,c,r);return[c]}function v(e,t,n){for(var r=0,o=t.length;r<o;r++)i(e,t[r],n)}function y(e,t,n){i(e,t,n),a(e,n)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t||(t={}),(arguments.length>3?arguments[3]:void 0)||X((function(){return n.children=f(e,t.children,n.children)})),X((function(){return t.ref&&t.ref(e)})),X((function(){for(var r in t)if("children"!==r&&"ref"!==r){var o=t[r];o!==n[r]&&(s(e,r,o,n[r]),n[r]=o)}})),n}return{render:function(e,t){var n;return Y((function(r){n=r,d(t,e())})),n},insert:d,spread:function(e,t,n){"function"==typeof t?X((function(r){return m(e,t(),r,n)})):m(e,t,void 0,n)},createElement:t,createTextNode:n,insertNode:i,setProp:function(e,t,n,r){return s(e,t,n,r),n},mergeProps:Le,effect:X,memo:Z,createComponent:Ie,use:function(e,t,n){return q((function(){return e(t,n)}))}}}var jn={createElement:function(e){var t=new Mn(e);return yn.root&&V((function(){return t.render()})),t},createTextNode:function(e){return{name:"TextNode",text:e,parent:null}},replaceText:function(e,t){e.text=t;var n=e.parent;je(n),n._autosized&&n._resizeOnTextLoad(),n.text=n.getText()},setProperty:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"animate"!==t?e[t]=n:e._animate=n},insertNode:function(e,t,n){e&&(e.children.insert(t,n),"TextNode"===t.name&&e.isTextNode()&&(e._autosized&&e._resizeOnTextLoad(),e.text=e.getText()))},isTextNode:function(e){return e.isTextNode()},removeNode:function(e,t){e.children.remove(t),t instanceof Mn&&t.destroy()},getParentNode:function(e){var t;return null!==(t=e.parent)&&void 0!==t?t:void 0},getFirstChild:function(e){return e.children[0]},getNextSibling:function(e){if(e.parent){var t=e.parent.children||[],n=t.indexOf(e)+1;if(n<t.length)return t[n]}}},On=function(e){var t=Dn(e);return t.mergeProps=Le,t}(jn),Pn=On.render,Qn=(On.effect,On.memo),zn=On.createComponent,Fn=On.createElement,Un=(On.createTextNode,On.insertNode,On.insert),Wn=On.spread,Yn=On.setProp,Hn=On.mergeProps,Gn=On.use;function Xn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=t,Number.isInteger(e)?t:"string"==typeof t?t.startsWith("#")?Number(t.replace("#","0x")+(7===t.length?"ff":"")):t.startsWith("0x")?Number(t):Number("0x"+(6===t.length?t+"ff":t)):0}var Vn="_$DX_DELEGATE";function Zn(e){var t="$$".concat(e.type),n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return n||document}});n;){var r=n[t];if(r&&!n.disabled){var o=n["".concat(t,"Data")];if(void 0!==o?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}var Jn=/^(?:[a-z0-9]+:)?\/\//i,Kn=/^\/+|(\/)\/+$/g;function qn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.replace(Kn,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function $n(e,t,n){if(!Jn.test(t)){var r=qn(e),o=n&&qn(n),i="";return((i=!o||t.startsWith("/")?r:0!==o.toLowerCase().indexOf(r.toLowerCase())?r+o:o)||"/")+qn(t,!i)}}function er(e){var t={};return e.searchParams.forEach((function(e,n){t[n]=e})),t}function tr(e,t,n){var r=b(e.split("/*",2),2),o=r[0],i=r[1],a=o.split("/").filter(Boolean),s=a.length;return function(e){var r=e.split("/").filter(Boolean),o=r.length-s;if(o<0||o>0&&void 0===i&&!t)return null;for(var u={path:s?"":"/",params:{}},l=function(e){return void 0===n?void 0:n[e]},c=0;c<s;c++){var d=a[c],f=r[c],h=":"===d[0],p=h?d.slice(1):d;if(h&&nr(f,l(p)))u.params[p]=f;else if(h||!nr(f,d))return null;u.path+="/".concat(f)}if(i){var g=o?r.slice(-o).join("/"):"";if(!nr(g,l(i)))return null;u.params[i]=g}return u}}function nr(e,t){var n=function(t){return 0===t.localeCompare(e,void 0,{sensitivity:"base"})};return void 0===t||("string"==typeof t?n(t):"function"==typeof t?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp&&t.test(e))}function rr(e){var t=new Map,n=ne();return new Proxy({},{get:function(r,o){return t.has(o)||function(e,t){var n=P,r=z;P=e,z=null;try{return fe(t,!0)}catch(o){xe(o)}finally{P=n,z=r}}(n,(function(){return t.set(o,Z((function(){return e()[o]})))})),t.get(o)()},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},ownKeys:function(){return Reflect.ownKeys(e())}})}function or(e){var t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];for(var n=e.slice(0,t.index),r=e.slice(t.index+t[0].length),o=[n,n+=t[1]];t=/^(\/\:[^\/]+)\?/.exec(r);)o.push(n+=t[1]),r=r.slice(t[0].length);return or(r).reduce((function(e,t){return[].concat(v(e),v(o.map((function(e){return e+t}))))}),[])}var ir,ar=oe(),sr=oe(),ur=function(){return function(e,t){if(null==e)throw new Error(t);return e}(ie(ar),"Make sure your app is wrapped in a <Router />")},lr=function(){return ur().navigatorFactory()},cr=function(){return ur().location},dr=function(){return(ie(sr)||ur().base).params};function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.component,r=e.load,o=e.children,i=e.metadata,a=!o||Array.isArray(o)&&!o.length,s={key:e,component:n,load:r,metadata:i};return pr(e.path).reduce((function(n,r){var o,i,u=k(or(r));try{for(u.s();!(o=u.n()).done;){var l=o.value,c=(i=l,qn(t).replace(/\/*(\*.*)?$/g,"")+qn(i)),d=a?c:c.split("/*",1)[0];n.push(x(x({},s),{},{originalPath:l,pattern:d,matcher:tr(d,!a,e.matchFilters)}))}}catch(f){u.e(f)}finally{u.f()}return n}),[])}function hr(e){var t,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{routes:e,score:1e4*(t=e[e.length-1],n=b(t.pattern.split("/*",2),2),r=n[0],o=n[1],i=r.split("/").filter(Boolean),i.reduce((function(e,t){return e+(t.startsWith(":")?2:3)}),i.length-(void 0===o?0:1)))-a,matcher:function(t){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r],i=o.matcher(t);if(!i)return null;n.unshift(x(x({},i),{},{route:o}))}return n}}}function pr(e){return Array.isArray(e)?e:[e]}function gr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=pr(e),i=0,a=o.length;i<a;i++){var s=o[i];if(s&&"object"==typeof s){s.hasOwnProperty("path")||(s.path="");var u,l=k(fr(s,t));try{for(l.s();!(u=l.n()).done;){var c=u.value;n.push(c);var d=Array.isArray(s.children)&&0===s.children.length;if(s.children&&!d)gr(s.children,c.pattern,n,r);else{var f=hr(v(n),r.length);r.push(f)}n.pop()}}catch(h){l.e(h)}finally{l.f()}}}return n.length?r:r.sort((function(e,t){return t.score-e.score}))}function vr(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n].matcher(t);if(o)return o}return[]}function yr(e,t){var n,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=b(e.signal,2),u=s[0],l=s[1],c=e.utils,d=void 0===c?{}:c,f=d.parsePath||function(e){return e},h=d.renderPath||function(e){return e},p=d.beforeLeave||(n=new Set,o=!1,{subscribe:function(e){return n.add(e),function(){return n.delete(e)}},confirm:function(e,t){if(o)return!(o=!1);var r,i={to:e,options:t,defaultPrevented:!1,preventDefault:function(){return i.defaultPrevented=!0}},a=k(n);try{var s=function(){var n=r.value;n.listener(x(x({},i),{},{from:n.location,retry:function(r){r&&(o=!0),n.navigate(e,t)}}))};for(a.s();!(r=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return!i.defaultPrevented}}),g=$n("",a.base||"");if(void 0===g)throw new Error("".concat(g," is not a valid base path"));g&&!u().value&&l({value:g,replace:!0,scroll:!1});var v=b(H(!1),2),y=v[0],m=v[1],A=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,re(t);case 4:return e.prev=4,m(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),w=b(H(u().value),2),C=w[0],I=w[1],E=b(H(u().state),2),S=E[0],T=E[1],L=function(e,t){var n=new URL("http://sar"),r=Z((function(t){var r=e();try{return new URL(r,n)}catch(o){return console.error("Invalid path ".concat(r)),t}}),n,{equals:function(e,t){return e.href===t.href}}),o=Z((function(){return r().pathname})),i=Z((function(){return r().search}),!0),a=Z((function(){return r().hash}));return{get pathname(){return o()},get search(){return i()},get hash(){return a()},get state(){return t()},get key(){return""},query:rr($(i,(function(){return er(r())})))}}(C,S),M=[],B=H([]),_={pattern:g,params:{},path:function(){return g},outlet:function(){return null},resolvePath:function(e){return $n(g,e)}};return X((function(){var e=u(),t=e.value,n=e.state;q((function(){t!==C()&&A((function(){ir="native",I(t),T(n),B[1]([])})).then((function(){ir=void 0}))}))})),{base:_,location:L,isRouting:y,renderPath:h,parsePath:f,navigatorFactory:function(e){return e=e||ie(sr)||_,function(t,n){return function(e,t,n){q((function(){if("number"!=typeof t){var r=x({replace:!1,resolve:!0,scroll:!0},n),o=r.replace,i=r.resolve,a=r.scroll,s=r.state,u=i?e.resolvePath(t):$n("",t);if(void 0===u)throw new Error("Path '".concat(t,"' is not a routable path"));if(M.length>=100)throw new Error("Too many redirects");var c=C();if((u!==c||s!==S())&&p.confirm(u,n)){var f=M.push({value:c,replace:o,scroll:a,state:S()});A((function(){ir="navigate",I(u),T(s),B[1]([])})).then((function(){var e,t;M.length===f&&(ir=void 0,e={value:u,state:s},(t=M[0])&&(e.value===t.value&&e.state===t.state||l(x(x({},e),{},{replace:t.replace,scroll:t.scroll})),M.length=0))}))}}else t&&(d.go?p.confirm(t,n)&&d.go(t):console.warn("Router integration does not support relative routing"))}))}(e,t,n)}},beforeLeave:p,preloadRoute:function(e,n){var r=vr(t(),e.pathname),o=ir;for(var i in ir="preload",r){var a=r[i],s=a.route,u=a.params;s.component&&s.component.preload&&s.component.preload(),n&&s.load&&s.load({params:u,location:{pathname:e.pathname,search:e.search,hash:e.hash,query:er(e),state:null,key:""},intent:"preload"})}ir=o},submissions:B}}var mr=function(e){return function(t){var n=t.base,r=ae((function(){return t.children})),o=Z((function(){return gr(t.root?{component:t.root,children:r()}:r(),t.base||"")})),i=yr(e,o,{base:n});return e.create&&e.create(i),zn(ar.Provider,{value:i,get children(){return zn(xr,{routerState:i,get branches(){return o()}})}})}};function xr(e){var t,n=Z((function(){return vr(e.branches,e.routerState.location.pathname)})),r=rr((function(){for(var e=n(),t={},r=0;r<e.length;r++)Object.assign(t,e[r].params);return t})),o=[],i=Z($(n,(function(a,s,u){for(var l=s&&a.length===s.length,c=[],d=function(t){var d=s&&s[t],f=a[t];u&&d&&f.route.key===d.route.key?c[t]=u[t]:(l=!1,o[t]&&o[t](),Y((function(a){o[t]=a,c[t]=function(e,t,n,r,o){var i=e.base,a=e.location,s=r().route,u=s.pattern,l=s.component,c=s.load,d=Z((function(){return r().path}));l&&l.preload&&l.preload();var f=c?c({params:o,location:a,intent:ir||"initial"}):void 0;return{parent:t,pattern:u,path:d,params:o,outlet:function(){return l?Ie(l,{params:o,location:a,data:f,get children(){return n()}}):n()},resolvePath:function(e){return $n(i.path(),e,d())}}}(e.routerState,c[t-1]||e.routerState.base,Ar((function(){return i()[t+1]})),(function(){return n()[t]}),r)})))},f=0,h=a.length;f<h;f++)d(f);return o.splice(a.length).forEach((function(e){return e()})),u&&l?u:(t=c[0],c)})));return zn(_e,{get when(){return i()&&t},keyed:!0,children:function(e){return zn(sr.Provider,{value:e,get children(){return e.outlet()}})}})}var Ar=function(e){return function(){return zn(_e,{get when(){return e()},keyed:!0,children:function(e){return zn(sr.Provider,{value:e,get children(){return e.outlet()}})}})}},wr=function(e){var t=ae((function(){return e.children}));return Le(e,{get children(){return t()}})};function br(e){var t=!1,n=function(e){return"string"==typeof e?{value:e}:e},r=function(e,t,n){var r=b(e,2),o=r[0],i=r[1];return[t?function(){return t(o())}:o,n?function(e){return i(n(e))}:i]}(H(n(e.get()),{equals:function(e,t){return e.value===t.value}}),void 0,(function(n){return!t&&e.set(n),n}));return e.init&&te(e.init((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.get();t=!0,r[1](n(o)),t=!1}))),mr({signal:r,create:e.create,utils:e.utils})}function Cr(e,t){var n=function(e){if("#"===e)return null;try{return document.querySelector(e)}catch(t){return null}}("#".concat(e));n?n.scrollIntoView():t&&window.scrollTo(0,0)}var Ir=new Map;function kr(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/_server";return function(r){var o=r.base.path(),i=r.navigatorFactory(r.base),a={};function s(e){if(!(e.defaultPrevented||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){var n=e.composedPath().find((function(e){return e instanceof Node&&"A"===e.nodeName.toUpperCase()}));if(n&&(!t||n.getAttribute("link"))){var r="http://www.w3.org/2000/svg"===n.namespaceURI,i=r?n.href.baseVal:n.href;if(!(r?n.target.baseVal:n.target)&&(i||n.hasAttribute("state"))){var a=(n.getAttribute("rel")||"").split(/\s+/);if(!(n.hasAttribute("download")||a&&a.includes("external"))){var s=r?new URL(i,document.baseURI):new URL(i);if(!(s.origin!==window.location.origin||o&&s.pathname&&!s.pathname.toLowerCase().startsWith(o.toLowerCase())))return[n,s]}}}}}function u(e){var t=s(e);if(t){var n=b(t,2),o=n[0],a=n[1],u=r.parsePath(a.pathname+a.search+a.hash),l=o.getAttribute("state");e.preventDefault(),i(u,{resolve:!1,replace:o.hasAttribute("replace"),scroll:!o.hasAttribute("noscroll"),state:l&&JSON.parse(l)})}}function l(e){var t=s(e);if(t){var n=b(t,2),o=n[0],i=n[1];a[i.pathname]||r.preloadRoute(i,"false"!==o.getAttribute("preload"))}}function c(e){var t=s(e);if(t){var n=b(t,2),o=n[0],i=n[1];a[i.pathname]||(a[i.pathname]=setTimeout((function(){r.preloadRoute(i,"false"!==o.getAttribute("preload")),delete a[i.pathname]}),200))}}function d(e){var t=s(e);if(t){var n=b(t,2)[1];a[n.pathname]&&(clearTimeout(a[n.pathname]),delete a[n.pathname])}}function f(e){var t=e.submitter&&e.submitter.hasAttribute("formaction")?e.submitter.formAction:e.target.action;if(t){if(!t.startsWith("action:")){var o=new URL(t);if(!(t=r.parsePath(o.pathname+o.search)).startsWith(n))return}if("POST"!==e.target.method.toUpperCase())throw new Error("Only POST forms are supported for Actions");var i=Ir.get(t);if(i){e.preventDefault();var a=new FormData(e.target);i.call(r,a)}}}!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=t[Vn]||(t[Vn]=new Set),r=0,o=e.length;r<o;r++){var i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Zn))}}(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mouseover",c),document.addEventListener("mouseout",d),document.addEventListener("focusin",l),document.addEventListener("touchstart",l)),document.addEventListener("submit",f),te((function(){document.removeEventListener("click",u),e&&(document.removeEventListener("mouseover",c),document.removeEventListener("mouseout",d),document.removeEventListener("focusin",l),document.removeEventListener("touchstart",l)),document.removeEventListener("submit",f)}))}}function Er(e){var t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){var n=b(window.location.hash.split("#",2),2)[1];return"".concat(void 0===n?"/":n,"#").concat(t)}return t}function Sr(e){return br({get:function(){return window.location.hash.slice(1)},set:function(e){var t=e.value,n=e.replace,r=e.scroll,o=e.state;n?window.history.replaceState(o,"","#"+t):window.location.hash=t;var i=t.indexOf("#");Cr(i>=0?t.slice(i+1):"",r)},init:function(e){return t=window,n="hashchange",r=function(){return e()},t.addEventListener(n,r),function(){return t.removeEventListener(n,r)};var t,n,r},create:kr(e.preload,e.explicitLinks,e.actionBase),utils:{go:function(e){return window.history.go(e)},renderPath:function(e){return"#".concat(e)},parsePath:Er}})(e)}var Tr=te;function Lr(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne(),o=0;return function(){return o++,te((function(){o--,queueMicrotask((function(){!o&&n&&(n(),n=t=void 0)}))})),n||Y((function(r){return t=e(n=r)}),r),t}}var Mr=Lr((function(){var e,t,n,r,o=b(H(null),2),i=o[0],a=o[1];return e=window,t="keydown",n=function(e){a(e),setTimeout((function(){return a(null)}))},e.addEventListener(t,n,r),Tr(e.removeEventListener.bind(e,t,n,r)),i}));function Br(e){return"function"==typeof e}function _r(e,t){if(!e)throw new Error(t||"Assertion failed")}var Nr,Rr={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Enter:"Enter",Last:"l"},Dr=b(H([]),2),jr=Dr[0],Or=Dr[1];function Pr(e,t){var n,r,o,i,a=t();if(Array.isArray(a))if(2===a.length)n=i=a[0],r=o=a[1];else if(3===a.length)n=a[0],r=o=a[1],i=a[2];else{var s=b(a,4);n=s[0],o=s[1],i=s[2],r=s[3]}else n=o=i=r=a;e.onBeforeLayout=function(t,a){if(a){e.width=e.children.reduce((function(e,t){return e+(t.width||0)}),0)+r+o;var s=e.children[0];s&&(s.x=r,s.marginLeft=r);var u=0;e.children.forEach((function(e){e.y=(e.y||0)+n,e.marginTop=n,u=Math.max(u,e.height||0)})),e.height=u+n+i}}}function Qr(e){return new Promise((function(t){setTimeout(t,e)}))}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",r=window.speechSynthesis;return new Promise((function(o,i){var a=new SpeechSynthesisUtterance(e);a.lang=n,a.onend=function(){o()},a.onerror=function(e){i(e)},t.push(a),r.speak(a)}))}function Fr(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=window.speechSynthesis,a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];for(e=0;e<t.length;e++){var r=t[e];if("string"!=typeof r||r.includes("PAUSE-"))break;n.push(t[e])}return[n.join(",\b ")].concat(t.slice(e))}(Array.isArray(e)?e:[e]),s=[],u=[],l=!0;return{series:i(r().mark((function e(){var n,o,i,c,d,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:if(!l||!a.length){e.next=62;break}return e.next=4,Promise.resolve(a.shift());case 4:if(n=e.sent,l){e.next=9;break}return e.abrupt("break",62);case 9:if("string"!=typeof n||!n.includes("PAUSE-")){e.next=16;break}return o=1e3*Number(n.split("PAUSE-")[1]),isNaN(o)&&(o=0),e.next=14,Qr(o);case 14:e.next=60;break;case 16:if("string"!=typeof n||!n.length){e.next=48;break}c=i=3;case 19:if(!(l&&c>0)){e.next=46;break}return e.prev=20,e.next=23,zr(n,u,t);case 23:c=0,e.next=44;break;case 26:if(e.prev=26,e.t0=e.catch(20),!(e.t0 instanceof SpeechSynthesisErrorEvent)){e.next=43;break}if("network"!==e.t0.error){e.next=36;break}return c--,console.warn("Speech synthesis network error. Retries left: ".concat(c)),e.next=34,Qr(500*(i-c));case 34:e.next=41;break;case 36:if("canceled"!==e.t0.error&&"interrupted"!==e.t0.error){e.next=40;break}c=0,e.next=41;break;case 40:throw new Error("SpeechSynthesisErrorEvent: ".concat(e.t0.error));case 41:e.next=44;break;case 43:throw e.t0;case 44:e.next=19;break;case 46:e.next=60;break;case 48:if("function"!=typeof n){e.next=55;break}return d=Fr(n(),t,!1),s.push(d),e.next=53,d.series;case 53:e.next=60;break;case 55:if(!Array.isArray(n)){e.next=60;break}return f=Fr(n,t,!1),s.push(f),e.next=60,f.series;case 60:e.next=1;break;case 62:return e.prev=62,l=!1,e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[0,,62,65],[20,26]])})))(),get active(){return l},append:function(e){a.push(e)},cancel:function(){l&&(n&&o.cancel(),s.forEach((function(e){e.cancel()})),l=!1)}}}function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return Nr&&Nr.cancel(),Nr=Fr(e,t)}var Wr,Yr,Hr=[],Gr=!1;function Xr(e,t){var n,r=function(e,t){var n,r=function(){return clearTimeout(n)};return ne()&&te(r),Object.assign((function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];void 0!==n&&r(),n=setTimeout((function(){return e.apply(void 0,i)}),t)}),{clear:r})}(e,t),o=function(e){n=e,r(e)};return o.flush=function(){r.clear(),e(n)},o.clear=r.clear,o}function Vr(e){return e.id||e.name}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Jr.onFocusChange&&Jr.enabled){var t=e.every((function(e){return!e.loading})),n=e.filter((function(e){return!Hr.includes(e)}));if(Wr(),t||!Jr.onFocusChange){Hr=e.slice(0);var r=[],o=n.reduce((function(e,t){return t.announce?(e.push([Vr(t),"Announce",t.announce]),r.push(t.announce)):t.title?(e.push([Vr(t),"Title",t.title]),r.push(t.title)):e.push([Vr(t),"No Announce",""]),e}),[]);return n.reverse().reduce((function(e,t){return t.announceContext?(e.push([Vr(t),"Context",t.announceContext]),r.push(t.announceContext)):e.push([Vr(t),"No Context",""]),e}),o),Jr.debug&&console.table(o),r.length?Jr.speak(r.reduce((function(e,t){return e.concat(t)}),[])):void 0}Jr.onFocusChange([])}}var Jr={debug:!1,enabled:!0,cancel:function(){Yr&&Yr.cancel()},clearPrevFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Hr=Hr.slice(0,e),Wr()},speak:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.append,o=void 0!==r&&r,i=n.notification,a=void 0!==i&&i;Jr.onFocusChange&&Jr.enabled&&(Jr.onFocusChange.flush(),o&&Yr&&Yr.active?Yr.append(e):(Jr.cancel(),function(e){if(!Gr)Yr=Ur(e)}(e)),a&&(Gr=!0,null===(t=Yr)||void 0===t||t.series.finally((function(){Gr=!1,Jr.refresh()})).catch(console.error)));return Yr},refresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Jr.clearPrevFocus(e),Jr.onFocusChange&&Jr.onFocusChange(q((function(){return jr()})))},setupTimers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focusDebounce,n=void 0===t?400:t,r=e.focusChangeTimeout,o=void 0===r?3e5:r;Jr.onFocusChange=Xr(Zr,n),Wr=Xr((function(){Hr=[]}),o)}};function Kr(e){return function(){var t=this.children.length,n=this.wrap,r=this.selected;if("right"===e||"down"===e)do{var o;if(this.selected=(this.selected||0)%t+1,this.selected>=t){if(!n){this.selected=null;break}this.selected=0}}while(null!==(o=this.children[this.selected])&&void 0!==o&&o.skipFocus);else if("left"===e||"up"===e)do{var i;if(this.selected=(this.selected||0)%t-1,this.selected<0){if(!n){this.selected=null;break}this.selected=t-1}}while(null!==(i=this.children[this.selected])&&void 0!==i&&i.skipFocus);if(null===this.selected)return this.selected=r,!1;var a=this.children[this.selected];if(_r(a instanceof Mn),this.onSelectedChanged&&this.onSelectedChanged.call(this,this,a,this.selected,r),this.plinko&&null!==r){var s=this.children[r];_r(s instanceof Mn);var u=s.selected;a.selected=u}return De(a),!0}}function qr(e){var t,n=Kr("left"),r=Kr("right"),o={display:"flex",justifyContent:"flexStart"};return t=Fn("node"),Yn(t,"onLeft",n),Yn(t,"onRight",r),Wn(t,Hn({get selected(){return e.selected||0},get onFocus(){return e.onFocus||function(e){if(e&&null!==e.selected){for(var t=e.children[e.selected];null!==(n=t)&&void 0!==n&&n.skipFocus;){var n;e.selected++,t=e.children[e.selected]}t instanceof Mn&&t.setFocus()}}},get style(){return e.style||o}},e),!0),Un(t,(function(){return e.children})),t}function $r(e){var t,n=Kr("up"),r=Kr("down"),o={display:"flex",flexDirection:"column",justifyContent:"flexStart"};return t=Fn("node"),Yn(t,"onUp",n),Yn(t,"onDown",r),Wn(t,Hn({get onFocus(){return e.onFocus||function(e){if(e&&null!==e.selected){for(var t=e.children[e.selected];null!==(n=t)&&void 0!==n&&n.skipFocus;){var n;e.selected++,t=e.children[e.selected]}t instanceof Mn&&t.setFocus()}}},get selected(){return e.selected||0},get style(){return e.style||o}},e),!0),Un(t,(function(){return e.children})),t}var eo=b(H(""),2),to=eo[0],no=eo[1],ro=b(H(!1),2),oo=ro[0],io=ro[1],ao=b(H(!1),2),so=(ao[0],ao[1]),uo=b(H(""),2),lo=uo[0],co=uo[1];H(null),H("en");var fo=b(H(!1),2),ho=fo[0],po=fo[1],go=b(H(""),2),vo=(go[0],go[1]);function yo(){var e,t,n=0,r={alpha:1,color:4294967295},o={duration:1e3,easing:"ease-in-out"};return V($(to,(function(r){return r.startsWith("#")?(e.color=r,e.src="",e.alpha=1,n=1,void(t.alpha=0)):(e.color=4294967295,0===n?(e.src=r,void(n=1)):1===n?(t.src=r,n=2,t.alpha=[1],void(e.alpha=[0])):void(2===n&&(e.src=r,n=1,e.alpha=1,t.alpha=0)))}),{defer:!0})),zn(_n,{width:1920,height:1080,zIndex:-5,get children(){return[zn(_n,{ref:function(t){"function"==typeof e?e(t):e=t},animate:!0,animationSettings:o,style:r}),zn(_n,{ref:function(e){"function"==typeof t?t(e):t=e},animate:!0,animationSettings:o,style:r,alpha:0}),zn(_n,{get effects(){return{radialGradient:{colors:[Xn("#3b3b3b"),Xn("#272727"),Xn("#181818")],stops:[0,.3,.8],height:800,width:1920,pivot:[.8,0]}}}})]}})}var mo={flexRow:{display:"flex",flexDirection:"row",justifyContent:"flexStart"},flexColumn:{display:"flex",flexDirection:"column",justifyContent:"flexStart"},layout:{screenW:1920,screenH:1080,marginX:50,marginY:120,gutterX:24,gutterY:72,focusScale:1.1},color:{primary:"#141414",focus:"#bdbdbd",container:"#4d4d4d",menuBg:"#2021242e",white:"#ffffff"},typography:{display1:{fontFamily:"Roboto",fontSize:72,lineHeight:88,fontStyle:"600",verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},display2:{fontFamily:"Roboto",fontSize:56,lineHeight:72},headline1:{fontFamily:"Roboto",fontSize:36,fontStyle:"600",lineHeight:48,verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},headline2:{fontFamily:"Roboto",fontSize:32,lineHeight:44},headline3:{fontFamily:"Roboto",fontSize:28,lineHeight:40},body1:{fontFamily:"Roboto",fontSize:32,lineHeight:40},body2:{fontFamily:"Roboto",fontSize:28,lineHeight:34},button1:{fontFamily:"Roboto",fontSize:32,lineHeight:40,background:"#ffff"}}};Xn("#000000"),mo.layout.screenH;var xo={width:50,height:50,x:0};Xn("#ffffff"),Xn("#ff0000");var Ao={Column:x(x({},mo.flexColumn),{},{width:320,height:600,y:220,gap:60,zIndex:101,colors:Xn(mo.color.primary),x:[20,{duration:250,easing:"ease-in-out"}]}),menuLineStyle:{width:50,height:0,x:0,y:58,selected:{height:6,color:Xn("#ff0000")}},MenuWrapper:{zIndex:1e3,width:100,height:window.devicePixelRatio>1?1080:window.innerHeight,color:Xn(mo.color.primary),active:{width:[380,{duration:250,easing:"ease-in-out",alpha:1}]},unactive:{width:[100,{duration:250,easing:"ease-in-out"}]}},MenuText:{zIndex:1,fontSize:30,x:86,y:10,height:50,alpha:0,color:Xn("#5b5b5b"),scale:1,lineHeight:1,focus:{scale:[1.1,{duration:250,easing:"ease-in-out"}],color:Xn("#ffffff")},active:{alpha:[1,{duration:250,easing:"ease-in-out"}]},unactive:{alpha:[0,{duration:250,easing:"ease-in-out"}]}}},wo=[{name:"Home",path:"/",icon:"assets/icon-home.png"},{name:"Search",path:"/search",icon:"assets/icon-search.png"},{name:"TV",path:"/tv",icon:"assets/icon-tivi.png"},{name:"Notifications",path:"/no-path",icon:"assets/icon-bell.png"}];function bo(e){var t,n,r=lr(),o=cr();function i(){this.states.add("active"),this.children.forEach((function(e){e.states.add("active")})),this.children.selected.setFocus(),n.states.add("active"),n.states.remove("unactive")}function a(){this.states.add("unactive"),n.states.add("unactive"),n.states.remove("active"),this.children.forEach((function(e){return e.states.remove("active")})),this.children.forEach((function(e){return e.states.add("unactive")}))}return zn(_n,{get style(){return Ao.MenuWrapper},ref:function(e){"function"==typeof n?n(e):n=e},get children(){return[zn($r,Hn(e,{onFocus:i,onBlur:a,get style(){return Ao.Column},animate:!0,plinko:!0,get children(){return(wo||[]).map((function(e){return zn(_n,{get src(){return"./"+"".concat(e.icon)},style:xo,forwardStates:!0,onEnter:function(){return function(e){"/no-path"===e.path?po(!0):r("".concat(e.path))}(e)},animate:!0,get id(){return e.path},get states(){return o.pathname==e.path?["selected"]:[""]},get children(){return[zn(_n,{get style(){return Ao.menuLineStyle}}),zn(Bn,{get style(){return Ao.MenuText},get children(){return e.name}})]}})}))}})),zn(_n,{ref:function(e){"function"==typeof t?t(e):t=e}})]}})}var Co,Io={Column:x(x({},mo.flexColumn),{},{width:320,height:600,y:80,gap:60,zIndex:1,colors:Xn(mo.color.primary),x:[20,{duration:250,easing:"ease-in-out"}]}),NoticeWrapper:{alpha:0,width:380,height:50,top:0,zIndex:3e3,color:Xn("#191919"),active:{alpha:1}},MenuWrapper:{zIndex:1e3,angle:(Co=270,Co*Math.PI/180),stops:[0,.4,.8],width:0,height:1080,color:Xn("#191919"),active:{width:[380,{duration:250,easing:"ease-in-out",alpha:1}]},unactive:{width:[0,{duration:250,easing:"ease-in-out"}]}},NotifyImage:{zIndex:10,x:0,y:0,width:100,height:90,alpha:0,scale:1,active:{alpha:[1,{duration:250,easing:"ease-in-out"}]},unactive:{alpha:[0,{duration:250,easing:"ease-in-out"}]}},MenuText:{zIndex:1,fontSize:28,x:110,y:10,height:50,alpha:0,width:268,contain:"both",color:Xn("#5b5b5b"),scale:1,focus:{color:Xn("#ffffff")},active:{alpha:[1,{duration:250,easing:"ease-in-out"}]},unactive:{alpha:[0,{duration:250,easing:"ease-in-out"}]}},NoticeDesc:{zIndex:1,fontSize:26,x:110,y:50,height:50,width:268,contain:"both",alpha:0,color:Xn("#5b5b5b"),scale:1,active:{alpha:[1,{duration:250,easing:"ease-in-out"}]},unactive:{alpha:[0,{duration:250,easing:"ease-in-out"}]}}},ko="./";function Eo(e){var t,n,r=b(H(60),2),o=r[0],i=r[1];function a(){this.states.add("active"),this.children.forEach((function(e){e.states.add("active")})),this.children.selected.setFocus(),n.children.forEach((function(e){return e.states.add("active")})),n.states.add("active"),n.states.remove("unactive")}function s(){this.states.add("unactive"),n.states.add("unactive"),n.states.remove("active"),n.children.forEach((function(e){return e.states.remove("active")})),this.children.forEach((function(e){return e.states.remove("active")})),this.children.forEach((function(e){return e.states.add("unactive")})),this.children.forEach((function(e){return e.states.add("not-set")}))}function u(){po(!1),this.children.forEach((function(e){return e.states.add("not-set")}))}function l(){(this.y||0)>mo.layout.screenH/2&&(i(80+-1*((this.y||0)-mo.layout.screenH/2)),this.parent&&this.parent.children.forEach((function(e){e.states.has("active")||e.states.add("active")})))}return zn(_n,{get style(){return Io.MenuWrapper},ref:function(e){"function"==typeof n?n(e):n=e},get children(){return[zn(_n,{get style(){return Io.NoticeWrapper},get children(){return[zn(_n,{src:ko+"assets/icon-back.png",y:5,width:40,height:40}),zn(_n,{display:"flex",justifyContent:"center",width:360,get children(){return zn(Bn,{fontSize:30,x:40,y:10,get children(){return["Notifications ",Qn((function(){return e.len}))]}})}})]}}),zn($r,Hn(e,{onFocus:a,onBlur:s,get style(){return Io.Column},get y(){return o()},onLeft:u,animate:!0,plinko:!0,get key(){return e.len},get children(){return zn(Be,{get each(){return null==e?void 0:e.items},children:function(e,t){return zn(_n,{style:xo,forwardStates:!0,animate:!0,onFocus:l,get id(){return e.path},get children(){return[zn(_n,{get src(){return(null==e?void 0:e.image)||ko+"assets/default-thumbnail.jpg"},get style(){return Io.NotifyImage}}),zn(Bn,{get style(){return Io.MenuText},get children(){return e.name}}),zn(Bn,{get style(){return Io.NoticeDesc},get children(){return e.desc}})]}})}})}})),zn(_n,{ref:function(e){"function"==typeof t?t(e):t=e}})]}})}function So(e){var t=b(H([]),2),n=t[0],r=t[1],o=b(H(1),2),i=o[0],a=o[1],s=b(H(!1),2),u=s[0],l=s[1],c=b(J(i,e),1)[0];return G((function(){var e=c();e&&fe((function(){0===e.length&&l(!0),r((function(t){return[].concat(v(t),v(e))}))}),!1)})),{pages:n,page:i,setPage:a,setPages:r,end:u,setEnd:l}}var To,Lo,Mo=[{path:"123A",name:"Netflix Lookahead",desc:"Explore what is coming soon"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"}],Bo=[{path:"123A",name:"Netflix2",desc:"Explore what is coming soon"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Netflix2",desc:"See you on Venus"},{path:"123B",name:"New Netflix2",desc:"See you on Venus"},{path:"123B",name:"New Netflix2",desc:"See you on Venus"},{path:"123B",name:"New Netflix2",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"},{path:"123B",name:"New Arrival",desc:"See you on Venus"}],_o="e9e9d8da18ae29fc430845952232787c",No="https://api.themoviedb.org/3",Ro="w185",Do={headers:{"Content-Type":"application/json",Authorization:"Bearer 596e02522af6fe40f284e6de58fd0865f2cbaae3"}};function jo(e){return Lo+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro)+e}function Oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(No+e+(e.includes("?")?"&":"?")+"api_key="+_o,x(x({},Do),t)).then((function(e){return e.json()}))}function Po(){return Oo("/configuration").then((function(e){var t;return To=e,Lo=null===(t=e.images)||void 0===t?void 0:t.secure_base_url,e}))}var Qo={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return To?Oo(e,t):Po().then((function(){return Oo(e,t)}))},loadConfig:Po};function zo(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=[],r=0,o=e.length;r<o;r+=t)n.push(e.slice(r,r+t));return n}function Fo(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return{src:jo(e.poster_path||e.profile_path),tileSrc:jo(e.backdrop_path||e.profile_path,"w300"),backdrop:jo(e.backdrop_path,"w1280"),href:"/entity/".concat(e.media_type||"people","/").concat(e.id),shortTitle:(t=e.title||e.name,n=30,t.length>n?t.substring(0,n-3)+"...":t),title:e.title||e.name,data:e,entityInfo:{type:e.media_type||"people",id:e.id},heroContent:{title:e.title||e.name,description:e.overview}};var t,n}))}function Uo(e){function t(e){return function(t){var n,r=e||20;return(n=t,new Promise((function(e){setTimeout((function(){e(1===n?{page:1,results:Mo,total_pages:2,total_results:40}:{page:2,results:Bo,total_pages:2,total_results:40})}),0)}))).then((function(e){return zo(e.results,r)}))}}var n=Z((function(){return So(t())}));return zn(Eo,Hn(e,{get items(){return[].concat.apply([],n().pages())},onSelectedChanged:function(e){[].concat.apply([],n().pages()).length-e.selected<4&&n().setPage((function(e){return e+1}))}}))}var Wo={Page:{width:window.innerWidth,height:window.innerHeight},pageWrapper:{x:99,y:0,height:window.innerHeight,width:window.innerWidth},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:1920,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:mo.layout.screenW,height:600,y:350,x:0,zIndex:2},FocusRing:{borderRadius:0,width:194,height:286,y:-5,x:-5,zIndex:-1},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:Xn("#000000")},RowTitle:{height:60,width:400,marginTop:20,fontSize:36,color:Xn("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:290,gap:10},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:10,width:mo.layout.screenW-2*mo.layout.marginX,x:mo.layout.marginX+mo.layout.gutterX,y:100,zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:Xn("#0000ff")},peopleBio:x(x({},mo.typography.body1),{},{contain:"both",width:1500,height:400})};Xn("#000000"),Xn("#3333ff"),Xn("#333333");Xn("#00A699"),Xn("#F6F6F9");Xn("#715cab"),Xn("#5a39a2"),Xn("#291d43");Xn("#000000"),Xn("#FFFFFF"),Xn("#909090");var Yo=oe();function Ho(e){return zn(Yo.Provider,{get value(){return e.i18n},get children(){return e.children}})}var Go={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Xo=function(){function e(t){g(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}return p(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Go,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,x(x({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Vo=new Xo,Zo=function(){function e(){g(this,e),this.observers={}}return p(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function Jo(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Ko(e){return null==e?"":""+e}function qo(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function $o(e,t,n){var r=qo(e,t,Object);r.obj[r.k]=n}function ei(e,t){var n=qo(e,t),r=n.obj,o=n.k;if(r)return r[o]}function ti(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):ti(e[r],t[r],n):e[r]=t[r]);return e}function ni(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ri={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function oi(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return ri[e]})):e}var ii=[" ",",","?","!",";"];function ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),u=o[s];void 0===u&&r.length>i+a;)a++,u=o[s=r.slice(i,i+a).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s]}var l=r.slice(i+a).join(n);return l?ai(u,l,n):void 0}o=o[r[i]]}return o}}function si(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}var ui=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(r=t.call(this)).data=e||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return p(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=ei(this.data,a);return s||!i||"string"!=typeof n?s:ai(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),$o(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=ei(this.data,a)||{};r?ti(s,n,o):s=x(x({},s),n),$o(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?x(x({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(Zo),li={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))})),t}},ci={},di=function(e){a(n,e);var t=u(n);function n(e){var r;g(this,n);var o,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=t.call(this),o=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i=e,a=c(r),o.forEach((function(e){i[e]&&(a[e]=i[e])})),r.options=s,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=Vo.create("translator"),r}return p(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=ii.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,r){var o=this;if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t=x({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),u=s.key,l=s.namespaces,c=l[l.length-1],d=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(f){var h=t.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(c).concat(h).concat(u),usedKey:u,exactUsedKey:u,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:"".concat(c).concat(h).concat(u)}return i?{res:u,usedKey:u,exactUsedKey:u,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:u}var p=this.resolve(e,t),g=p&&p.res,v=p&&p.usedKey||u,y=p&&p.exactUsedKey||u,m=Object.prototype.toString.apply(g),A=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0&&("string"!=typeof A||"[object Array]"!==m)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,x(x({},t),{},{ns:l})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return i?(p.res=b,p.usedParams=this.getUsedParamsDetails(t),p):b}if(a){var C="[object Array]"===m,I=C?[]:{},k=C?y:v;for(var E in g)if(Object.prototype.hasOwnProperty.call(g,E)){var S="".concat(k).concat(a).concat(E);I[E]=this.translate(S,x(x({},t),{joinArrays:!1,ns:l})),I[E]===S&&(I[E]=g[E])}g=I}}else if(w&&"string"==typeof A&&"[object Array]"===m)(g=g.join(A))&&(g=this.extendTranslation(g,e,t,r));else{var T=!1,L=!1,M=void 0!==t.count&&"string"!=typeof t.count,B=n.hasDefaultValue(t),_=M?this.pluralResolver.getSuffix(d,t.count,t):"",N=t.ordinal&&M?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",R=M&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi()&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]||t["defaultValue".concat(_)]||t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(g)&&B&&(T=!0,g=R),this.isValidLookup(g)||(L=!0,g=u);var D=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:g,j=B&&R!==g&&this.options.updateMissing;if(L||T||j){if(this.logger.log(j?"updateKey":"missingKey",d,c,u,j?R:g),a){var O=this.resolve(u,x(x({},t),{},{keySeparator:!1}));O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var P=[],Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&Q&&Q[0])for(var z=0;z<Q.length;z++)P.push(Q[z]);else"all"===this.options.saveMissingTo?P=this.languageUtils.toResolveHierarchy(t.lng||this.language):P.push(t.lng||this.language);var F=function(e,n,r){var i=B&&r!==g?r:D;o.options.missingKeyHandler?o.options.missingKeyHandler(e,c,n,i,j,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,c,n,i,j,t),o.emit("missingKey",e,c,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?P.forEach((function(e){o.pluralResolver.getSuffixes(e,t).forEach((function(n){F([e],u+n,t["defaultValue".concat(n)]||R)}))})):F(P,u,R))}g=this.extendTranslation(g,e,t,p,r),L&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(u)),(L||T)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(u):u,T?g:void 0):this.options.parseMissingKeyHandler(g))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(t),p):g}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,x(x({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(x(x({},n),{interpolation:x(x({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=x(x({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"==typeof d?[d]:d;return null!=e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=li.handle(f,e,t,this.options&&this.options.postProcessPassResolved?x({i18nResolved:x(x({},r),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),l=u.key;n=l;var c=u.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,f=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(i=e,!ci["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(ci["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){o=n;var i,u=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,l,n,e,s);else{var c;d&&(c=a.pluralResolver.getSuffix(n,s.count,s));var p="".concat(a.options.pluralSeparator,"zero"),g="".concat(a.options.pluralSeparator,"ordinal").concat(a.options.pluralSeparator);if(d&&(u.push(l+c),s.ordinal&&0===c.indexOf(g)&&u.push(l+c.replace(g,a.options.pluralSeparator)),f&&u.push(l+p)),h){var v="".concat(l).concat(a.options.contextSeparator).concat(s.context);u.push(v),d&&(u.push(v+c),s.ordinal&&0===c.indexOf(g)&&u.push(v+c.replace(g,a.options.pluralSeparator)),f&&u.push(v+p))}}for(;i=u.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}},{key:"getUsedParamsDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,n=t?e.replace:e;if(t&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=x(x({},this.options.interpolation.defaultVariables),n)),!t){n=x({},n);var r,o=k(["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]);try{for(o.s();!(r=o.n()).done;){delete n[r.value]}}catch(i){o.e(i)}finally{o.f()}}return n}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(Zo);function fi(e){return e.charAt(0).toUpperCase()+e.slice(1)}var hi=function(){function e(t){g(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Vo.create("languageUtils")}return p(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=si(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=si(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=fi(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=fi(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=fi(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))})),o}}]),e}(),pi=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],gi={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},vi=["v1","v2","v3"],yi=["v4"],mi={zero:0,one:1,two:2,few:3,many:4,other:5};var xi=function(){function e(t){g(this,e);var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Vo.create("pluralResolver"),this.options.compatibilityJSON&&!yi.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},pi.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:gi[e.fc]}}))})),n)}return p(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(si(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return mi[e]-mi[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!vi.includes(this.options.compatibilityJSON)}}]),e}();function Ai(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){var r=ei(e,n);return void 0!==r?r:ei(t,n)}(e,t,n);return!i&&o&&"string"==typeof n&&void 0===(i=ai(e,n,r))&&(i=ai(t,n,r)),i}var wi=function(){function e(){g(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Vo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return p(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:oi,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?ni(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?ni(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?ni(t.nestingPrefix):t.nestingPrefixEscaped||ni("$t("),this.nestingSuffix=t.nestingSuffix?ni(t.nestingSuffix):t.nestingSuffixEscaped||ni(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var o=Ai(t,u,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(o,void 0,n,x(x(x({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),l=i.join(s.formatSeparator).trim();return s.format(Ai(t,u,a,s.options.keySeparator,s.options.ignoreJSONStructure),l,n,x(x(x({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=c(n)))if("function"==typeof d){var u=d(e,o,r);i="string"==typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(f){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=Ko(i));var l=t.safeValue(i);if(e=e.replace(o[0],l),f?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,o,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0];var a=(i=this.interpolate(i,o)).match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o=x(x({},t),o))}catch(u){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),u),"".concat(e).concat(n).concat(i)}return delete o.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var u=[];(o=(o=x({},a)).replace&&"string"!=typeof o.replace?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;var l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),u=c,l=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Ko(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=u.reduce((function(e,t){return i.format(e,t,a.lng,x(x({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function bi(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);if("currency"===t&&o.indexOf(":")<0)n.currency||(n.currency=o.trim());else if("relativetime"===t&&o.indexOf(":")<0)n.range||(n.range=o.trim());else{o.split(";").forEach((function(e){if(e){var t=function(e){return I(e)||y(e)||E(e)||C()}(e.split(":")),r=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}}))}}return{formatName:t,formatOptions:n}}function Ci(e){var t={};return function(n,r,o){var i=r+JSON.stringify(o),a=t[i];return a||(a=e(si(r),o),t[i]=a),a(n)}}var Ii=function(){function e(){g(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Vo.create("formatter"),this.options=t,this.formats={number:Ci((function(e,t){var n=new Intl.NumberFormat(e,x({},t));return function(e){return n.format(e)}})),currency:Ci((function(e,t){var n=new Intl.NumberFormat(e,x(x({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Ci((function(e,t){var n=new Intl.DateTimeFormat(e,x({},t));return function(e){return n.format(e)}})),relativetime:Ci((function(e,t){var n=new Intl.RelativeTimeFormat(e,x({},t));return function(e){return n.format(e,t.range||"day")}})),list:Ci((function(e,t){var n=new Intl.ListFormat(e,x({},t));return function(e){return n.format(e)}}))},this.init(t)}return p(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Ci(t)}},{key:"format",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((function(e,t){var i=bi(t),a=i.formatName,s=i.formatOptions;if(r.formats[a]){var u=e;try{var l=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},c=l.locale||l.lng||o.locale||o.lng||n;u=r.formats[a](e,c,x(x(x({},s),o),l))}catch(d){r.logger.warn(d)}return u}return r.logger.warn("there was no format function for ".concat(a)),e}),e)}}]),e}();var ki=function(e){a(n,e);var t=u(n);function n(e,r,o){var i;g(this,n);var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(i=t.call(this)).backend=e,i.store=r,i.services=o,i.languageUtils=o.languageUtils,i.options=a,i.logger=Vo.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(o,a.backend,a),i}return p(n,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var o=qo(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n)}(n.loaded,[o],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a});else{this.readingCalls++;var s=function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&u&&o<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a)}),i):a(s,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(e,t,s);try{var l=u(e,t);l&&"function"==typeof l.then?l.then((function(e){return s(null,e)})).catch(s):s(null,l)}catch(c){s(c)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=x(x({},i),{},{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var l;(l=5===u.length?u(e,t,n,r,s):u(e,t,n,r))&&"function"==typeof l.then?l.then((function(e){return a(null,e)})).catch(a):a(null,l)}catch(c){a(c)}else u(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(Zo);function Ei(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Si(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ti(){}var Li=function(e){a(n,e);var t=u(n);function n(){var e;g(this,n);var r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((e=t.call(this)).options=Si(o),e.services={},e.logger=Vo,e.modules={external:[]},r=c(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),i&&!e.isInitialized&&!o.isClone){if(!e.options.initImmediate)return e.init(o,i),l(e,c(e));setTimeout((function(){e.init(o,i)}),0)}return e}return p(n,[{key:"init",value:function(){var e=this,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var o=Ei();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=x(x(x({},o),this.options),Si(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=x(x({},o.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var a;this.modules.logger?Vo.init(i(this.modules.logger),this.options):Vo.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=Ii);var s=new hi(this.options);this.store=new ui(this.options.resources,this.options);var u=this.services;u.logger=Vo,u.resourceStore=this.store,u.languageUtils=s,u.pluralResolver=new xi(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(u.formatter=i(a),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new wi(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new ki(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new di(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=Ti),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments),t}}));var c=Jo(),d=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();var o=[],i=function(e){e&&("cimode"!==e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){"cimode"!==e&&o.indexOf(e)<0&&o.push(e)})))};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=Jo();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ti),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&li.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this,r=this;this.isLanguageChangingTo=e;var o=Jo();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var s="string"==typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,a){a?(i(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,o.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function e(t,o){var i;if("object"!=typeof o){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];i=r.options.overloadTranslationOptionHandler([t,o].concat(s))}else i=x({},o);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,i.keyPrefix=i.keyPrefix||n||e.keyPrefix;var l,c=r.options.keySeparator||".";return l=i.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(i.keyPrefix).concat(c).concat(e)})):i.keyPrefix?"".concat(i.keyPrefix).concat(c).concat(t):t,r.t(l,i)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Jo();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Jo();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new hi(Ei());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti,o=t.forkResourceStore;o&&delete t.forkResourceStore;var i=x(x(x({},this.options),t),{isClone:!0}),a=new n(i);void 0===t.debug&&void 0===t.prefix||(a.logger=a.logger.clone(t));return["store","services","language"].forEach((function(t){a[t]=e[t]})),a.services=x({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},o&&(a.store=new ui(this.store.data,i),a.services.resourceStore=a.store),a.translator=new di(a.services,i),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}}]),n}(Zo),Mi=Li.createInstance();function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}Mi.createInstance=Li.createInstance,Mi.createInstance,Mi.dir,Mi.init,Mi.loadResources,Mi.reloadResources,Mi.use,Mi.changeLanguage,Mi.getFixedT,Mi.t,Mi.exists,Mi.setDefaultNamespace,Mi.hasLoadedNamespace,Mi.loadNamespaces,Mi.loadLanguages;var _i=[],Ni=_i.forEach,Ri=_i.slice;function Di(e){return Ni.call(Ri.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function ji(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Bi(XMLHttpRequest))}var Oi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zi,Fi={exports:{}},Ui={exports:{}};function Wi(){return zi||(zi=1,function(e,t){var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Oi&&Oi,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n&&n,r="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,i="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in n,s="ArrayBuffer"in n;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},o&&(h.prototype[Symbol.iterator]=h.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof A){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),x.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},m.call(A.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];b.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(k){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(e,r){return new Promise((function(o,a){var u=new A(e,r);if(u.signal&&u.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function c(){l.abort()}l.onload=function(){var e,t,n={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){o(new b(r,n))}),0)},l.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){a(new t.DOMException("Aborted","AbortError"))}),0)},l.open(u.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?l.withCredentials=!0:"omit"===u.credentials&&(l.withCredentials=!1),"responseType"in l&&(i?l.responseType="blob":s&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof h?u.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(r.headers).forEach((function(e){l.setRequestHeader(e,d(r.headers[e]))})),u.signal&&(u.signal.addEventListener("abort",c),l.onreadystatechange=function(){4===l.readyState&&u.signal.removeEventListener("abort",c)}),l.send(void 0===u._bodyInit?null:u._bodyInit)}))}I.polyfill=!0,n.fetch||(n.fetch=I,n.Headers=h,n.Request=A,n.Response=b),t.Headers=h,t.Request=A,t.Response=b,t.fetch=I}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=n.fetch?n:r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(Ui,Ui.exports)),Ui.exports}!function(e,t){var n;if("function"==typeof fetch&&(n=void 0!==Oi&&Oi.fetch?Oi.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),void 0!==Qi&&("undefined"==typeof window||void 0===window.document)){var r=n||Wi();r.default&&(r=r.default),t.default=r,e.exports=t.default}}(Fi,Fi.exports);var Yi,Hi,Gi,Xi=Fi.exports,Vi=Pi(Xi),Zi=S({__proto__:null,default:Vi},[Xi]);function Ji(e){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(e)}"function"==typeof fetch&&(Yi="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),ji()&&("undefined"!=typeof global&&global.XMLHttpRequest?Hi=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Hi=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Gi=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Gi=window.ActiveXObject)),Yi||!Zi||Hi||Gi||(Yi=Vi||Zi),"function"!=typeof Yi&&(Yi=void 0);var Ki=function(e,t){if(t&&"object"===Ji(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},qi=function(e,t,n){var r=function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)};"function"==typeof fetch?fetch(e,t).then(r).catch(n):Yi(e,t).then(r).catch(n)},$i=!1,ea=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Yi&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=Ki(t,e.queryStringParams));var o=Di({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&"undefined"!=typeof global&&void 0!==global.process&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(o["Content-Type"]="application/json");var i="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=Di({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:o},$i?{}:i);try{qi(t,a,r)}catch(s){if(!i||0===Object.keys(i).length||!s.message||s.message.indexOf("not implemented")<0)return r(s);try{Object.keys(i).forEach((function(e){delete a[e]})),qi(t,a,r),$i=!0}catch(u){r(u)}}}(e,t,n,r):ji()||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===Ji(n)&&(n=Ki("",n).slice(1)),e.queryStringParams&&(t=Ki(t,e.queryStringParams));try{var o;(o=Hi?new Hi:new Gi("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var i=e.customHeaders;if(i="function"==typeof i?i():i)for(var a in i)o.setRequestHeader(a,i[a]);o.onreadystatechange=function(){o.readyState>3&&r(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(n)}catch(s){console&&console.log(s)}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ra(r.key),r)}}function ra(e){var t=function(e,t){if("object"!==ta(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ta(t)?t:String(t)}var oa=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return(t=ra(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},parseLoadPayload:function(e,t){},request:ea,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ia=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Di(n,this.options||{},oa()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,o){var i,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(i=s)?i:Promise.resolve(i)).then((function(i){if(!i)return o(null,{});var s=a.services.interpolator.interpolate(i,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,o,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var o=this,i="string"==typeof n?[n]:n,a="string"==typeof r?[r]:r,s=this.options.parseLoadPayload(i,a);this.options.request(this.options,e,s,(function(i,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&i&&i.message&&i.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+i.message,!0);if(i)return t(i,!1);var s,u;try{s="string"==typeof a.data?o.options.parse(a.data,n,r):a.data}catch(l){u="failed parsing "+e+" to json"}if(u)return t(u,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,o){var i=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,r),s=0,u=[],l=[];e.forEach((function(n){var r=i.options.addPath;"function"==typeof i.options.addPath&&(r=i.options.addPath(n,t));var c=i.services.interpolator.interpolate(r,{lng:n,ns:t});i.options.request(i.options,c,a,(function(t,n){s+=1,u.push(t),l.push(n),s===e.length&&"function"==typeof o&&o(u,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,o=t.logger,i=n.language;if(!i||"cimode"!==i.toLowerCase()){var a=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(i),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,i){r&&o.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&i&&o.log("loaded namespace ".concat(e," for language ").concat(t),i),n.loaded("".concat(t,"|").concat(e),r,i)}))}))}))}}}],n&&na(t.prototype,n),r&&na(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function sa(e){var t=function(e,t){if("object"!=aa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aa(t)?t:String(t)}function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sa(r.key),r)}}ia.type="backend";var la=[],ca=la.forEach,da=la.slice;var fa=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ha=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),r&&(o.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var o=encodeURIComponent(t),i="".concat(e,"=").concat(o);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!fa.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(r.domain)}if(r.path){if(!fa.test(r.path))throw new TypeError("option path is invalid");i+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}(e,encodeURIComponent(t),o)},pa=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},ga={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=pa(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&ha(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},va={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");if(i>0)r[o].substring(0,i)===e.lookupQuerystring&&(t=r[o].substring(i+1))}}return t}},ya=null,ma=function(){if(null!==ya)return ya;try{ya="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){ya=!1}return ya},xa={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&ma()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&ma()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Aa=null,wa=function(){if(null!==Aa)return Aa;try{Aa="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){Aa=!1}return Aa},ba={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&wa()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&wa()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Ca={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Ia={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},ka={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Ea={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};var Sa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return ca.call(da.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(ga),this.addDetector(va),this.addDetector(xa),this.addDetector(ba),this.addDetector(Ca),this.addDetector(Ia),this.addDetector(ka),this.addDetector(Ea)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),n=n.map((function(e){return t.options.convertDetectedLanguage(e)})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}],n&&ua(t.prototype,n),r&&ua(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Sa.type="languageDetector";var Ta=Mi.use(ia).use(Sa).init({fallbackLng:"en",whitelist:["en","jp"],preload:["en","jp"],ns:"translations",defaultNS:"translations",fallbackNS:!1,debug:!0,detection:{order:["querystring","navigator","htmlTag"],lookupQuerystring:"lang"},backend:{loadPath:"http://localhost:5174/i18n/en/translations.json"}},(function(e,t){if(e)return console.error(e)})),La=function(e){(Jr.setupTimers(),V($(jr,Jr.onFocusChange,{defer:!0})),Jr).enabled=!1;var t,n,o,a=lr(),s=cr(),u=b(H(s),2),l=u[0],c=u[1],d=b(H(!1),2),f=d[0],h=d[1];return ee(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta;case 2:h(!0);case 3:case"end":return e.stop()}}),e)})))),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Mr();Rr=x(x({},Rr),e);var n=Object.entries(Rr);V($(Re,(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e,o=[];r;){var i;r.states.has("focus")||(r.states.add("focus"),Br(r.onFocus)&&r.onFocus.call(r,e,null!=t?t:null)),o.push(r),r=null!==(i=r.parent)&&void 0!==i?i:null}return n.forEach((function(n){o.includes(n)||(n.states.remove("focus"),Br(n.onBlur)&&n.onBlur.call(n,e,null!=t?t:null))})),Or(o),o}),{defer:!0})),V((function(){var e=t();if(e){var r=n.find((function(t){var n=b(t,2);return n[0],n[1]===e.key}));q((function(){var t,n=k(jr());try{for(n.s();!(t=n.n()).done;){var o=t.value,i=r?r[0]:void 0;if(i){var a=o["on".concat(i)];if(Br(a)&&!0===a.call(o,e,o))break}else console.log("Unhandled key event: ".concat(e.key));if(Br(o.onKeyPress)&&!0===o.onKeyPress.call(o,e,i,o))break}}catch(s){n.e(s)}finally{n.f()}return!1}))}}))}({Menu:"m",Escape:"Escape"}),ee((function(){io(!0)})),V((function(){c(s.pathname)})),V($(ho,(function(e){if(e)return t.states.has("focus")&&o.setFocus();t.setFocus(),so(!0)}),{defer:!0})),zn(_e,{get when(){return f()},get children(){return zn(Ho,{i18n:Mi,get children(){return zn(_n,{ref:function(e){var t=window.APP;"function"==typeof t?t(e):window.APP=e},onLast:function(){return history.back()},onMenu:function(){return a("/")},style:{width:1920,height:1080},onLeft:function(){if(t.states.has("focus")||0==oo()&&("/search"==l()||l().includes("/movie/")))return!1;var e=Re();null!=e&&e.states.has("not-set")||(n=e),t.setFocus(),so(!0)},onRight:function(){return io(!1),so(!1),t.states.has("focus")&&n.setFocus()},plinko:!0,get children(){return[zn(yo,{}),zn(_n,{get style(){return Wo.pageWrapper},get children(){return e.children}}),zn(bo,{ref:function(e){"function"==typeof t?t(e):t=e}}),zn(Uo,{ref:function(e){"function"==typeof o?o(e):o=e}})]}})}})}})},Ma=new URL("AppCoreExtensions-legacy-879e65bc.js",o.meta.url).href,Ba={WrapperTitleStyles:{display:"flex",flexDirection:"row",gap:4,alignItems:"flexEnd",height:40},TitleStyles:{color:Xn(mo.color.white),scale:1,fontSize:30},IconStyles:{width:26,height:26}};function _a(e){return zn(_n,{skipFocus:!0,forwardStates:!0,get style(){return Ba.WrapperTitleStyles},get children(){return zn(Bn,{get style(){return x(x({},Ba.TitleStyles),e.style)},get children(){return e.title}})}})}var Na={HomeWrapper:{x:0,y:0,width:window.devicePixelRatio>1?1920:window.innerWidth},HomeMain:{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",gap:10,width:window.devicePixelRatio>1?1920:window.innerWidth,height:1200,y:520,x:20,zIndex:2},HomeList:{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",gap:10,width:window.devicePixelRatio>1?1920:window.innerWidth,height:1200,y:0,x:0,zIndex:2},HomeItem:{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",height:355},Row:{y:0,x:0,zIndex:999,display:"flex",justifyContent:"spaceBetween",gap:10,height:290}},Ra=new Map,Da=new Map;var ja={y:0,x:0,zIndex:999,display:"flex",justifyContent:"spaceBetween",gap:10,height:290},Oa={Thumbnail:{borderRadius:10,width:187,height:294,scale:1,zIndex:2,focus:{scale:1.02}},FocusRing:{borderRadius:10,y:-2,x:-2,zIndex:-1,color:Xn("#ffffff")}};function Pa(e){var t;function n(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus()}function r(e){var t={param:{service_no:"A_CPB3",version:"1"},payload:{url:e}};!function(e){try{var t=window.CrossPlatformBridge.command(e);return JSON.parse(t)}catch(n){return null}}(JSON.stringify(t))}return lr(),V($(Re,(function(e){je(e),setTimeout((function(){e.heroContent?(t.parent=e.parent,t.alpha=1,t.scale=1,t.x=e.x-2,t.y=e.y-2,t.width=e.width+4,t.height=e.height+4,t.createAnimation({scale:1.03}).start()):t.alpha=0}),10)}),{defer:!0})),zn(_n,Hn(e,{animate:!0,get style(){return Oa.Thumbnail},onEnter:function(){r("https://gstreamer.freedesktop.org/media/sintel_trailer-480p.webm")},get children(){return[zn(_n,Hn({onFocus:n},e,{animate:!0,get style(){return Oa.Thumbnail}})),zn(_n,{ref:function(e){"function"==typeof t?t(e):t=e},get style(){return Oa.FocusRing}})]}}))}function Qa(e){var t=K((function(){return 0}));return zn(qr,{transition:{x:{delay:20,duration:300}},animate:!0,width:4400,get style(){return ja},justifyContent:"flexStart",gap:40,get x(){return e.rowX()},get onSelectedChanged(){return e.moveRow},plinko:!0,get children(){return zn(Be,{get each(){return e.data},children:function(n,r){return zn(Pa,Hn(n,{get autofocus(){return Qn((function(){return!!e.autofocus}))()&&t(r())}}))}})}})}var za=1100,Fa=x(x({},mo.typography.display2),{},{width:za,height:58,contain:"both"}),Ua=function(e){return zn(Bn,Hn(e,{style:Fa,get children(){return e.children}}))},Wa={fontFamily:"Roboto",fontSize:32,lineHeight:40,height:160,background:"#ffff",width:1e3,clipping:!0,maxLines:4},Ya={fontSize:20,lineHeight:20},Ha=function(e){return zn(Bn,Hn(e,{style:Wa,get children(){return e.children}}))};var Ga=function(e){return t=Fn("node"),Gn(Pr,t,(function(){return[8,15,13,15]})),Wn(t,Hn(e,{style:{color:"0x00000099",borderRadius:8,border:{width:3,color:"0xffffffff"}}}),!0),Un(t,zn(Bn,{style:Ya,get children(){return e.children}})),t;var t},Xa=mo.typography.body2,Va=function(e){return zn(_n,{get style(){return x(x({},mo.flexRow),{},{gap:12,width:za,height:48})},get children(){return[zn(Bn,{style:Xa,get children(){return e.metaText}}),zn(Be,{get each(){return e.badges},children:function(e){return zn(Ga,{y:-5,children:e})}}),Qn((function(){return t=e.reviews,[zn(_e,{get when(){return(null==t?void 0:t.rtCrit)&&"0"!==(null==t?void 0:t.rtCrit)},get children(){return[zn(_n,{src:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Tomato-Torrent-Icon.png",title:"Rotten Tomatoes Rating",style:{width:30,height:30,marginRight:-6}}),zn(Bn,{style:Xa,get children(){return t.rtCrit+"%"}})]}}),zn(_e,{get when(){return(null==t?void 0:t.rtFan)&&"0"!==(null==t?void 0:t.rtFan)},get children(){return[zn(_n,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Rotten_Tomatoes_positive_audience.svg/80px-Rotten_Tomatoes_positive_audience.svg.png",title:"Rotten Tomatoes Rating",style:{width:24,height:30,marginRight:-6}}),zn(Bn,{style:Xa,get children(){return t.rtFan+"%"}})]}})];var t}))]}})},Za=function(e){return console.log("badges",e.badges),zn(_n,Hn(e,{get style(){return x(x({},mo.flexColumn),{},{width:za,height:160,gap:16})},get children(){return[zn(Ua,{get children(){return e.title}}),zn(Ha,{get children(){return e.description}}),zn(Va,{get metaText(){return e.metaText},get badges(){return e.badges},get reviews(){return e.reviews}})]}}))};function Ja(){var e,t,n=0,r={alpha:1,color:4294967295,transition:{alpha:{duration:1e3,easing:"ease-in-out"}}};return V($(lo,(function(r){return r.startsWith("#")?(e.color=r,e.src="",e.alpha=1,n=1,void(t.alpha=0)):(e.color=4294967295,0===n?(e.src=r,void(n=1)):1===n?(t.src=r,n=2,e.alpha=0,void(t.alpha=1)):void(2===n&&(e.src=r,n=1,e.alpha=1,t.alpha=0)))}),{defer:!0})),zn(_n,{get width(){return window.devicePixelRatio>1?1920:window.innerWidth},get height(){return window.devicePixelRatio>1?1080:window.innerHeight},zIndex:-5,x:-21,get children(){return[zn(_n,{ref:function(t){"function"==typeof e?e(t):e=t},style:r,animate:!0}),zn(_n,{ref:function(e){"function"==typeof t?t(e):t=e},style:r,alpha:0,animate:!0}),zn(_n,{animate:!0,get effects(){return{radialGradient:{colors:[124,124,Xn("#000000")],stops:[.6,.1,1.2],height:500,width:(window.devicePixelRatio>1?1920:window.innerWidth)-300,pivot:[.8,0]}}}})]}})}var Ka={LoadingWrapper:{x:0,y:0,width:window.devicePixelRatio>1?1820:window.innerWidth-100,height:window.devicePixelRatio>1?1080:window.innerHeight,color:Xn("#000000"),display:"flex",justifyContent:"center",alignItems:"center",zIndex:999},LoadingMain:{display:"flex",flexDirection:"row",gap:30,height:30},LoadingItem:{x:0,y:0,width:15,height:15,color:Xn("#ffffff"),borderRadius:7.5,choose:{transition:{duration:.5,timingFunction:"ease-in-out"},color:Xn("#ff0000"),scale:1.3}}};function qa(e){var t,n=b(H(0),2),r=n[0],o=n[1],i=b(H(!0),2),a=i[0],s=i[1];return ee((function(){setInterval((function(){0==r()&&s(!0),5==r()&&s(!1),a()?(r()>0&&t.children[r()].states.remove("choose"),t.children[r()].states.add("choose"),o((function(e){return e+1}))):(o((function(e){return e-1})),t.children[r()].states.remove("choose"))}),200)})),zn(_n,{forwardStates:!0,animate:!0,get style(){return Ka.LoadingWrapper},autofocus:!0,get children(){return zn(_n,{get style(){return Ka.LoadingMain},ref:function(e){"function"==typeof t?t(e):t=e},skipFocus:!0,get children(){return[zn(_n,{get style(){return Ka.LoadingItem},skipFocus:!0,animate:!0}),zn(_n,{get style(){return Ka.LoadingItem},skipFocus:!0,animate:!0}),zn(_n,{get style(){return Ka.LoadingItem},skipFocus:!0,animate:!0}),zn(_n,{get style(){return Ka.LoadingItem},skipFocus:!0,animate:!0}),zn(_n,{get style(){return Ka.LoadingItem},skipFocus:!0,animate:!0})]}})}})}var $a=function(){var e=b(H({}),2),t=e[0],n=e[1],o=b(H(10),2),a=o[0],s=o[1],u=b(H(10),2),l=u[0],c=u[1],d=b(H(10),2),f=d[0],h=d[1],p=b(H(0),2),g=p[0],v=p[1],y=Z((function(){return So((e=1,function(){var t=i(r().mark((function t(n){var o,i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="/movie/popular?language=en-US&page=".concat(n),!Ra.has(o)){t.next=3;break}return t.abrupt("return",Ra.get(o));case 3:return i=e,t.next=6,Qo.get(o).then((function(e){var t=e.results.filter((function(e){return!e.adult})),n=zo((Da.has("")?Da.get(""):[]).concat(Fo(t)),i);return n[n.length-1].length<i?Da.set("",n.pop()):Da.delete(""),n}));case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e})),m=function(e){var t;null===(t=e.children.selected)||void 0===t||t.setFocus(),c(-227*e.selected+10),[].concat.apply([],y().pages()).length-e.selected<15&&y().setPage((function(e){return e+1}))},x=function(e){s(-227*e.selected+10),[].concat.apply([],y().pages()).length-e.selected<15&&y().setPage((function(e){return e+1}))},A=function(e){h(-227*e.selected+10),[].concat.apply([],y().pages()).length-e.selected<15&&y().setPage((function(e){return e+1}))};function w(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),v(-1*(this.y||0)+24)}function C(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),v(-1*(this.y||0)+24)}function I(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),v(-1*(this.y||0)+24)}return V($(Re,(function(e){console.log(e),e.backdrop&&co("https://image.tmdb.org/t/p/original/".concat(e.data.backdrop_path)),e.heroContent&&n(e.heroContent)}),{defer:!0})),function(){var e=ie(Yo);if(!e)throw new ReferenceError("I18nContext")}(),zn(_n,{get style(){return Na.HomeWrapper},get children(){return[zn(qa,{}),zn(Ja,{}),zn(Za,Hn({y:360,x:20},t)),zn(_n,{get style(){return Na.HomeMain},clipping:!0,autofocus:!0,get children(){return zn($r,{get style(){return Na.HomeList},clipping:!0,plinko:!0,get y(){return g()},animate:!0,get children(){return[zn(qr,{get style(){return Na.HomeItem},onFocus:w,autofocus:!0,get children(){return[zn(_a,{title:"Popular",icon:"assets/popular.png"}),zn(Qa,{get data(){return[].concat.apply([],y().pages())},rowX:l,moveRow:m,autofocus:!0})]}}),zn(qr,{get style(){return Na.HomeItem},onFocus:C,get children(){return[zn(_a,{title:"Trending",icon:"assets/trending.png"}),zn(Qa,{get data(){return[].concat.apply([],y().pages())},rowX:a,moveRow:x})]}}),zn(qr,{get style(){return Na.HomeItem},onFocus:I,get children(){return[zn(_a,{title:"Recommend",icon:"assets/recommend.png"}),zn(Qa,{get data(){return[].concat.apply([],y().pages())},rowX:f,moveRow:A})]}})]}})}})]}})},es=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],ts={display:"flex",flexDirection:"column",gap:40,y:0,color:Xn("#000000"),height:mo.layout.screenH,alpha:1},ns={display:"flex",flexDirection:"row",justifyContent:"flexStart",gap:16,x:40,zIndex:999,height:mo.layout.screenH},rs={display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:16,width:540,x:40,zIndex:999},os={display:"flex",flexDirection:"row",justifyContent:"spaceBetween",gap:8,height:70,width:500},is={color:Xn("#000000"),alpha:.8,zIndex:998,x:0,y:0},as={display:"flex",borderRadius:6,border:{width:0,color:Xn("#ffffff")},justifyContent:"center",alignItems:"center",gap:6,width:70,height:70,color:Xn("#2e3743"),focus:{border:{width:4,color:Xn("#ffffff")},color:Xn("#000000")}},ss={fontSize:40},us={color:Xn("#red"),width:500,x:40,height:70,alpha:1,backgroundColor:Xn("#ffffff"),borderRadius:8,border:{width:4,color:Xn("#ffffff")},display:"flex",alignItems:"center",justifyContent:"flexStart"},ls={width:500,display:"flex",flexDirection:"column",alignItems:"flexStart",justifyContent:"flexStart",gap:20,x:0},cs={height:70,width:240,color:Xn("#2e3743"),display:"flex",alignItems:"center",justifyContent:"center",borderRadius:6,border:{width:0,color:Xn("#ffffff")},focus:{border:{width:4,color:Xn("#ffffff")},color:Xn("#000000")}},ds={width:70,height:50},fs={height:10,x:0,y:0},hs={color:Xn("#09121a"),y:-160,fontSize:30,x:40,width:mo.layout.screenW-696,height:mo.layout.screenH,zIndex:999,alignItems:"center",justifyContent:"center"},ps={display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20,width:mo.layout.screenW-(2*mo.layout.marginX+532+2*(mo.layout.marginX+mo.layout.gutterX)),x:48,y:48,zIndex:2},gs={display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20},vs={display:"flex",justifyContent:"center",alignItems:"center"};function ys(e){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(M in e){var o=new Set(n.length>1?n.flat():n[0]),i=n.map((function(t){return new Proxy({get:function(n){return t.includes(n)?e[n]:void 0},has:function(n){return t.includes(n)&&n in e},keys:function(){return t.filter((function(t){return t in e}))}},Ee)}));return i.push(new Proxy({get:function(t){return o.has(t)?void 0:e[t]},has:function(t){return!o.has(t)&&t in e},keys:function(){return Object.keys(e).filter((function(e){return!o.has(e)}))}},Ee)),i}var a,s={},u=n.map((function(){return{}})),l=k(Object.getOwnPropertyNames(e));try{for(l.s();!(a=l.n()).done;){var c,d=a.value,f=Object.getOwnPropertyDescriptor(e,d),h=!f.get&&!f.set&&f.enumerable&&f.writable&&f.configurable,p=!1,g=0,y=k(n);try{for(y.s();!(c=y.n()).done;)c.value.includes(d)&&(p=!0,h?u[g][d]=f.value:Object.defineProperty(u[g],d,f)),++g}catch(m){y.e(m)}finally{y.f()}p||(h?s[d]=f.value:Object.defineProperty(s,d,f))}}catch(m){l.e(m)}finally{l.f()}return[].concat(v(u),[s])}(e,["items"]),n=b(t,2),r=n[0],o=n[1];return zn(qr,Hn(o,{get style(){return Wo.Row},get children(){return zn(Be,{get each(){return r.items},children:function(e){return zn(Pa,e)}})}}))}var ms=new Map,xs=new Map;function As(e){var t,n,o,a,s,u,l,c,d,f=b(H(""),2),h=f[0],p=f[1],g=b(H(0),2),v=g[0],y=g[1],m=Z((function(){return So((e=5,t=h(),function(){var n=i(r().mark((function n(o){var i,a,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i="/search/movie?include_adult=false&page=".concat(o,"&query==").concat(t),!ms.has(i)){n.next=3;break}return n.abrupt("return",ms.get(i));case 3:return a=e,n.next=6,Qo.get(i).then((function(e){var t=e.results.filter((function(e){return!e.adult})),n=zo((xs.has("")?xs.get(""):[]).concat(Fo(t)),a);return n[n.length-1].length<a?xs.set("",n.pop()):xs.delete(""),n}));case 6:return s=n.sent,n.abrupt("return",s);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));var e,t}));V($(h,(function(e){y(0),m().setPage(1)})));var x=K((function(){return 0}));function A(){this.states.add("focus")}function w(){this.states.remove("focus")}var C=function(){for(var e=[],t=0;t<es.length;t+=6){var n=es.slice(t,t+6);e.push(n)}return zn(Be,{each:e,children:function(e,t){return zn(qr,{style:os,autofocus:!1,plinko:!0,get children(){return zn(Be,{each:e,children:function(e,t){return zn(_n,{style:as,get onEnter(){return function(e){return function(){p((function(t){return t+e}))}}(e)},animate:!0,onBlur:w,onFocus:A,forwardStates:!0,autofocus:!1,get children(){return zn(Bn,{style:ss,children:e})}})}})}})}})};function I(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),y(-1*(this.y||0)+24);var t=m().pages().length;this.parent&&(0===t||this.parent.selected&&this.parent.selected>=t-2)&&m().setPage((function(e){return e+1}))}function k(){}return zn(_n,{ref:function(e){"function"==typeof t?t(e):t=e},animate:!0,style:is,autofocus:!0,get children(){return zn(_n,{ref:function(e){"function"==typeof a?a(e):a=e},animate:!0,style:ts,autofocus:!0,plinko:!0,get children(){return[zn(_n,{ref:function(e){"function"==typeof n?n(e):n=e},style:fs,skipFocus:!0}),zn(_n,{ref:function(e){"function"==typeof n?n(e):n=e},style:us,animate:!0,skipFocus:!0,get children(){return zn(Bn,{get style(){return{color:Xn("#ffffff"),fontSize:30,marginLeft:20}},get children(){return h()}})}}),zn($r,{style:ns,ref:function(e){"function"==typeof s?s(e):s=e},autofocus:!0,onDown:function(){if(l.states.has("focus"))return!1},plinko:!0,get children(){return[zn($r,{style:rs,ref:function(e){"function"==typeof l?l(e):l=e},onRight:function(){u.setFocus(),m().pages().length>0&&c.setFocus()},onLeft:function(){io(!0)},get children(){return[zn(qr,{style:os,autofocus:!1,get children(){return[zn(_n,{style:cs,ref:function(e){"function"==typeof d?d(e):d=e},get onEnter(){return function(){p((function(e){return e+" "}))}},animate:!0,autofocus:!1,get children(){return zn(_n,{style:ds,src:"./assets/icon-space.png",forwardStates:!0,animate:!0})}}),zn(_n,{style:cs,get onEnter(){return function(){p((function(e){return e.slice(0,-1)}))}},animate:!0,autofocus:!1,get children(){return zn(_n,{style:ds,src:"./assets/icon-back-space.png",forwardStates:!0,animate:!0})}})]}}),zn($r,{plinko:!0,style:gs,get children(){return C()}}),zn($r,{ref:function(e){"function"==typeof o?o(e):o=e},animate:!0,style:ls,forwardStates:!0,get children(){return zn(Bn,{get style(){return{color:Xn("#504d4d"),fontSize:30,focus:{color:Xn("#ffffff")}}}})}})]}}),zn(_n,{style:hs,ref:function(e){"function"==typeof u?u(e):u=e},onLeft:function(){l.setFocus()},get children(){return[zn(_e,{get when(){return 0==m().pages().length},get children(){return zn(_n,{style:vs,get children(){return zn(Bn,{style:{fontSize:40,display:"flex",justifyContent:"center",textAlign:"center"},children:"No Data"})}})}}),zn(_e,{get when(){return m().pages().length>0},get children(){return zn($r,{ref:function(e){"function"==typeof c?c(e):c=e},animate:!0,get y(){return v()},style:ps,plinko:!0,get children(){return zn(Be,{get each(){return m().pages()},children:function(e,t){return zn(ys,{get autofocus(){return Qn((function(){return!!x(t())}))()&&u.states.has("focus")},items:e,onFocus:I,onEnter:k})}})}})}})]}})]}})]}})}})}var ws={TiviWrapper:{x:0,y:0,width:1920,height:1080},Content:{y:580,zIndex:2},Container:{width:1720,x:50,display:"flex",flexDirection:"column",gap:40,y:0,zIndex:2},Row:{display:"flex",height:290,width:1720,justifyContent:"spaceBetween",clipping:!0},Item:{borderRadius:10,width:187,height:294,scale:1,zIndex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:Xn("#434343"),focus:{scale:1.02}},IdChannel:{color:Xn("#ffffff"),fontSize:32},NameChannel:{fontFamily:"Roboto",fontSize:25,lineHeight:25,contain:"both",width:150,height:200,textAlign:"center"}},bs=1100,Cs=x(x({},mo.typography.display2),{},{width:bs,height:58,contain:"both"}),Is=function(e){return zn(Bn,Hn(e,{style:Cs,get children(){return e.children}}))},ks=x(x({},mo.typography.body1),{},{width:bs,height:72,contain:"both"}),Es=function(e){return zn(Bn,Hn(e,{style:ks,get children(){return e.children}}))},Ss=function(e){return zn(_n,Hn(e,{get style(){return x(x({},mo.flexColumn),{},{width:bs,height:160,gap:16,x:50,y:50})},get children(){return[zn(Is,{get children(){var t;return null===(t=e.data)||void 0===t?void 0:t.channel_name}}),zn(Es,{get children(){var t;return null===(t=e.data)||void 0===t?void 0:t.description}})]}}))},Ts=function(){var e=b(H(),2),t=e[0],n=e[1],o=b(H([]),2),a=o[0],s=o[1];H(0);var u=b(H(10),2),l=u[0],c=u[1];function d(e){try{var t=window.CrossPlatformBridge.command(e);return JSON.parse(t)}catch(n){return null}}function f(){var e=d(JSON.stringify({param:{service_no:"A_CPB1",version:"1"},payload:{type:"all"}}));if(e&&e.data)return e.data}function h(e){var t={param:{service_no:"A_CPB4",version:"1"},payload:{channel_id:e}};return d(JSON.stringify(t))}ee(i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t=e.sent,fetch("https://script.google.com/macros/s/AKfycbxdiL0NuQyOdvN2dcTmDhltyG0hXy8M8xq7SUsXfTY6BTTcOlBRFT62M812nZwz75kWnQ/exec?field_1="+JSON.stringify(t)+"&field_2=&field_3="),s(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),fetch("https://script.google.com/macros/s/AKfycbxdiL0NuQyOdvN2dcTmDhltyG0hXy8M8xq7SUsXfTY6BTTcOlBRFT62M812nZwz75kWnQ/exec?field_1="+JSON.stringify(e.t0)+"&field_2=&field_3=");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));var p=function(e){console.log("focusItem",e)},g=function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t);case 3:n=e.sent,fetch("https://script.google.com/macros/s/AKfycbxdiL0NuQyOdvN2dcTmDhltyG0hXy8M8xq7SUsXfTY6BTTcOlBRFT62M812nZwz75kWnQ/exec?field_1="+JSON.stringify(n)+"&field_2=&field_3="),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),fetch("https://script.google.com/macros/s/AKfycbxdiL0NuQyOdvN2dcTmDhltyG0hXy8M8xq7SUsXfTY6BTTcOlBRFT62M812nZwz75kWnQ/exec?field_1="+JSON.stringify(e.t0)+"&field_2=&field_3="),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();V($(Re,(function(e){console.log(e.channel_name),n({channel_name:e.channel_name,description:e.channel_description||""}),console.log(t()),e.channel_name&&vo(e.channel_name)}),{defer:!0}));var v=function(e){c(-227*e.selected+10)};return zn(_n,{get style(){return ws.TiviWrapper},clipping:!0,autofocus:!0,get children(){return[zn(Ss,{get data(){return t()}}),zn(_n,{get style(){return ws.Content},get children(){return zn($r,{autofocus:!0,animate:!0,get style(){return ws.Container},get children(){return zn(qr,{transition:{x:{delay:20,duration:300}},animate:!0,width:4400,get style(){return ja},justifyContent:"flexStart",gap:40,get x(){return l()},onSelectedChanged:v,plinko:!0,get children(){return zn(Be,{get each(){return a()},children:function(e,t){return zn(_n,{get style(){return ws.Item},onFocus:p,get channel_id(){return e.id},get channel_name(){return e.channel_name},get channel_description(){return e.description},animate:!0,onEnter:function(){return g(e.id)},get children(){return zn(Bn,{get style(){return ws.NameChannel},wordBreak:!0,get children(){return function(e){if(e.length>6){for(var t="",n=0;n<e.length;n++)t+=e[n],(n+1)%6==0&&n!==e.length-1&&(t+=" ");return t}return e}(e.channel_name)}})}})}})}})}})}})]}})},Ls=function(){return zn(_n,{style:{width:1920,height:1080,color:868483072},get children(){return zn(Bn,{children:"Not Found"})}})},Ms=new Map,Bs=new Map;function _s(e,t){return function(n){var r="/trending/".concat(e,"/week?page=").concat(n);if(Ms.has(r))return Ms.get(r);var o=t||7,i=Qo.get(r).then((function(t){var n=t.results.filter((function(e){return!e.adult})),r=zo((Bs.has(e)?Bs.get(e):[]).concat(Fo(n)),o);return r[r.length-1].length<o?Bs.set(e,r.pop()):Bs.delete(e),r}));return Ms.set(r,i),i}}function Ns(e){return e.split("-")[0]}function Rs(e){var t=e.type,n=e.id,r="movie"===t?{rtCrit:86,rtFan:92}:{};return Qo.get("/".concat(t,"/").concat(n,"?adult=true")).then((function(e){return console.log(e),x({backgroundImage:jo(e.backdrop_path,"original"),heroContent:{title:e.title||e.name,description:e.overview,badges:["HD"],metaText:"movie"===t?(n=e.runtime,o=n%60,Math.floor(n/60)+"h "+(o<10?"0":"")+o+"m - "+e.release_date):"".concat(Ns(e.first_air_date)," - ").concat(Ns(e.last_air_date)),reviews:r}},e);var n,o}))}var Ds={Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:15,width:mo.layout.screenW-2*mo.layout.marginX,x:mo.layout.marginX+mo.layout.gutterX,y:100,zIndex:2},itemsContainer:{width:mo.layout.screenW,height:600,y:350,x:0,zIndex:2}};function js(e){var t=K((function(){return 0}));return zn(_n,{clipping:!0,get style(){return Ds.itemsContainer},get children(){return zn($r,{plinko:!0,announce:"All Trending - Week",animate:!0,get y(){return e.y},get style(){return Ds.Column},get children(){return zn(Be,{get each(){return(null==e?void 0:e.data)||[]},children:function(n,r){return zn(ys,{get autofocus(){return!!Qn((function(){return!!e.autofocus}))()&&t(r())},justifyContent:"flexStart",items:n,get onFocus(){return e.onFocus},get onEnter(){return e.onEnter}})}})}})}})}var Os=function(){var e=dr(),t=b(H(0),2),n=t[0],r=t[1],o=b(H(),2),i=o[0];o[1];J(i,Rs);var a=b(H({}),2),s=a[0],u=a[1],l=lr();K((function(){return 0}));var c=Z((function(){return So(_s(e.filter||"all",8))}));function d(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),r(-1*(this.y||0)+24);var t=c().pages().length;this.parent&&(0===t||this.parent.selected&&this.parent.selected>=t-2)&&c().setPage((function(e){return e+1}))}function f(){var e=this.children.selected;je(e&&e.href),l(e.href)}return V($(Re,(function(e){e.backdrop&&no(e.backdrop),e.heroContent&&u(e.heroContent)}),{defer:!0})),zn(_n,{get children(){return zn(_e,{get when(){return c().pages().length},get children(){return[zn(Za,Hn({y:150,x:90},s)),zn(js,{type:"sliderList",onEnter:f,onFocus:d,get data(){return c().pages()},get y(){return n()},autofocus:!0})]}})}})},Ps=function(){var e,t=dr(),n=b(H({}),2),r=n[0],o=n[1],i=lr(),a=K((function(){return 0})),s=Z((function(){return So(_s(t.filter||"all",20))}));function u(){var e=this.children.selected;je(e&&e.href),i(e.href)}V($(Re,(function(e){e.backdrop&&no(e.backdrop),e.heroContent&&o(e.heroContent)}),{defer:!0}));var l=b(H(90),2),c=l[0],d=l[1];function f(e){d(-227*e.selected+90),[].concat.apply([],s().pages()).length-e.selected<9&&s().setPage((function(e){return e+1}))}return zn(_e,{get when(){return s().pages().length},ref:function(t){"function"==typeof e?e(t):e=t},get children(){return zn(_n,{get children(){return[zn(Za,Hn({y:200,x:90},r)),zn(qr,{onSelectedChanged:f,onEnter:u,transition:{x:{delay:20,duration:300}},animate:!0,get x(){return c()},y:450,width:4400,get style(){return Wo.Row},justifyContent:"flexStart",gap:40,get children(){return zn(Be,{get each(){return[].concat.apply([],s().pages())},children:function(e,t){return zn(Pa,Hn(e,{get autofocus(){return a(t())}}))}})}})]}})}})},Qs={Wrapper:{x:-4,y:0,alpha:1,width:window.innerWidth-100,height:window.innerHeight,color:Xn("#000000")},ImageBackground:{x:0,y:0,width:window.innerWidth-100,height:window.innerHeight,alpha:1},ImageBackgroundGradient:{x:0,y:0,zIndex:10,alpha:1},DetailMain:{}},zs={Wrapper:{x:0,y:window.innerHeight/3,width:window.innerWidth,height:window.innerHeight,display:"flex",alignItems:"flexEnd",justifyContent:"center",flexDirection:"column",gap:20},Main:{x:0,y:0,alpha:1,width:window.innerWidth-100,display:"flex",flexDirection:"column",gap:20},Title:{fontSize:35,boxsizing:"border-box",height:35},QuantityItem:{idth:window.innerWidth/2,fontSize:20},OverView:{height:100,display:"flex",alignItems:"flexStart"},OverViewText:{width:window.innerWidth/2,fontSize:20,contain:"both"},Quantity:{height:20,display:"flex"},Rate:{height:20,display:"flex",gap:5,alignItems:"center"},RateStar:{height:16,width:16},Section:{display:"flex",flexDirection:"row",height:30,gap:10,alignItems:"center"},Control:{height:50,display:"flex",flexDirection:"row",gap:10},ControlItem:{fontSize:20,width:150,height:40,color:Xn("#121212"),alpha:.9,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:6,border:{width:2,color:Xn("#ffffff")},focus:{scale:[1.1,{duration:200}]}},ControlItemText:{color:Xn("#ffffff"),fontSize:20},DetailMain:{y:200}},Fs={Wrapper:{height:400,width:window.innerWidth-100},Title:{color:Xn("#ffffff"),fontSize:20,width:window.innerWidth/2,alpha:.6},Tabs:{display:"flex",flexDirection:"row",gap:20,height:30}};function Us(e){return ee((function(){console.log(window)})),zn(_n,{get style(){return Fs.Wrapper},get children(){return zn(_n,{get style(){return Fs.Tabs},get children(){return[zn(Bn,{get style(){return Fs.Title},children:"More like this"}),zn(Bn,{get style(){return Fs.Title},children:"Available now"}),zn(Bn,{get style(){return Fs.Title},children:"On this week"}),zn(Bn,{get style(){return Fs.Title},children:"Parents' guide"}),zn(Bn,{get style(){return Fs.Title},children:"Rating"})]}})}})}var Ws="./";function Ys(e){return zn(_n,{get style(){return zs.Wrapper},onFocus:function(){console.log(e.data)},autofocus:!0,plinko:!0,onLeft:function(){io(!0)},get children(){return[zn($r,{get style(){return zs.Main},skipFocus:!0,plinko:!0,get children(){return[zn(Bn,{get style(){return zs.Title},skipFocus:!0,forwardStates:!0,get children(){return e.data.title}}),zn(_n,{get style(){return zs.Section},get children(){return[zn(_n,{get style(){return zs.Rate},skipFocus:!0,forwardStates:!0,get children(){return[zn(_n,{src:Ws+"assets/star-active.png",get style(){return zs.RateStar}}),zn(_n,{src:Ws+"assets/star-active.png",get style(){return zs.RateStar}}),zn(_n,{src:Ws+"assets/star-active.png",get style(){return zs.RateStar}}),zn(_n,{src:Ws+"assets/star.png",get style(){return zs.RateStar}}),zn(_n,{src:Ws+"assets/star.png",get style(){return zs.RateStar}})]}}),zn(_n,{get style(){return zs.Quantity},skipFocus:!0,forwardStates:!0,get children(){return e.data.heroContent.badges.map((function(e,t){return zn(Bn,{key:t,get style(){return zs.QuantityItem},children:e})}))}}),zn(Bn,{get style(){return zs.QuantityItem},skipFocus:!0,forwardStates:!0,get children(){return t=e.data.runtime,n=Math.floor(t/60),r=t%60,"".concat(n,"h ").concat(r,"m");var t,n,r}})]}}),zn(qr,{get style(){return zs.Control},skipFocus:!0,plinko:!0,get children(){return[zn(_n,{get style(){return zs.ControlItem},skipFocus:!0,get children(){return zn(Bn,{get style(){return zs.ControlItemText},children:"Play"})}}),zn(_n,{get style(){return zs.ControlItem},skipFocus:!0,get children(){return zn(Bn,{get style(){return zs.ControlItemText},children:"Add"})}})]}}),zn(_n,{get style(){return zs.OverView},get children(){return zn(Bn,{get style(){return zs.OverViewText},skipFocus:!0,forwardStates:!0,get children(){return e.data.overview}})}})]}}),zn(Us,{})]}})}function Hs(){var e=dr(),t=cr(),n=b(J((function(){return x({},e)}),Rs),1)[0];return V($(n,(function(e){console.log(t),console.log(e)}),{defer:!0})),zn(_e,{get when(){var e;return null===(e=n())||void 0===e?void 0:e.backdrop_path},get children(){return[zn(_n,{get style(){return Qs.ImageBackground},zIndex:-5,get src(){var e;return"https://image.tmdb.org/t/p/original/".concat(null===(e=n())||void 0===e?void 0:e.backdrop_path)},skipFocus:!0}),zn(_n,{alpha:.97,get style(){return Qs.DetailMain},animate:!0,get effects(){return{radialGradient:{colors:[124,124,Xn("#131313")],stops:[1.5,.1,1.3],height:700,width:window.innerWidth-500,pivot:[.9,-.1]}}},skipFocus:!0}),zn(Ys,{get data(){return n()},autofocus:!0})]}})}var Gs={height:1080,y:0,fontFamily:"Roboto"};Xn("#ffffff"),Xn("#ffffff"),Xn("#ffffff"),Xn("#f14d4d"),Xn("#333333"),Xn("#ffffff"),Xn("#ffffff");function Xs(){return H("JP"),zn(_n,{get style(){return Gs}})}bn.debug=!1,bn.fontSettings.fontFamily="Roboto",bn.fontSettings.color=4294967295;var Vs=navigator.userAgent.toLowerCase().indexOf("mobile")>-1;Pn((function(){return zn(Rn,{get options(){return{coreExtensionModule:Ma,threadXCoreWorkerUrl:void 0,appWidth:Vs&&window.devicePixelRatio>1?1920:window.innerWidth,appHeight:Vs&&window.devicePixelRatio>1?1080:window.innerHeight,deviceLogicalPixelRatio:Vs&&window.devicePixelRatio>1?.5:1}},get children(){return zn(Sr,{root:La,get children(){return[zn(wr,{path:"/",component:$a}),zn(wr,{path:"/search",component:As}),zn(wr,{path:"/videos",component:Os}),zn(wr,{path:"/tv",component:Ts}),zn(wr,{path:"/list",component:Ps}),zn(wr,{path:"/:type/:id",component:Hs}),zn(wr,{path:"/setting",component:Xs}),zn(wr,{path:"/*all",component:Ls})]}})}})}))}}}))}();
//# sourceMappingURL=index-legacy-30572003.js.map
