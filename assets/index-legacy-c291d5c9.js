!function(){function t(n){var r="function"==typeof Map?new Map:void 0;return t=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return e(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)},t(n)}function e(t,n,r){return e=c()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var A=new(Function.bind.apply(t,r));return n&&a(A,n.prototype),A},e.apply(null,arguments)}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var A=Object.getOwnPropertyDescriptor(r,e);return A.get?A.get.call(arguments.length<3?t:n):A.value}},n.apply(this,arguments)}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return e};var t,e={},n=Object.prototype,A=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var A=e&&e.prototype instanceof y?e:y,i=Object.create(A.prototype),a=new S(r||[]);return o(i,"_invoke",{value:M(t,n,a)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function y(){}function m(){}function x(){}var w={};l(w,a,(function(){return this}));var I=Object.getPrototypeOf,C=I&&I(I(N([])));C&&C!==n&&A.call(C,a)&&(w=C);var b=x.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(r,o,i,a){var s=d(t[r],t,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&A.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,a)}))}a(s.arg)}var r;o(this,"_invoke",{value:function(t,A){function o(){return new e((function(e,r){n(t,A,e,r)}))}return r=r?r.then(o,o):o()}})}function M(e,n,r){var A=f;return function(o,i){if(A===p)throw new Error("Generator is already running");if(A===v){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(A===f)throw A=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);A=p;var u=d(e,n,r);if("normal"===u.type){if(A=r.done?v:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(A=v,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,A=e.iterator[r];if(A===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(A,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(A.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=x,o(b,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:m,configurable:!0}),m.displayName=l(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},E(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,A,o){void 0===o&&(o=Promise);var i=new T(c(t,n,r,A),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&A.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,A){return a.type="throw",a.arg=e,n.next=r,A&&(n.method="next",n.arg=t),!!A}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=A.call(i,"catchLoc"),u=A.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&A.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var A=r.arg;k(n)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function A(t,e,n,r,A,o,i){try{var a=t[o](i),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(r,A)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){A(i,r,o,a,s,"next",t)}function s(t){A(i,r,o,a,s,"throw",t)}a(void 0)}))}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=c();return function(){var n,r=d(t);if(e){var A=d(this).constructor;n=Reflect.construct(r,arguments,A)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x(r.key),r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||C(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return(e=x(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,A,o,i,a=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){u=!0,A=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw A}}return a}}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=C(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,A=function(){};return{s:A,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function C(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}System.register(["./CoreExtension-legacy-55f55375.js"],(function(e,A){"use strict";var a,c,f,g,x,C,b,E,T,M,L,B,k,S,N,j,D,Q,z,R,_,P,O;return{setters:[function(t){a=t.a,c=t.E,f=t.g,g=t.m,x=t.b,C=t.i,b=t.c,E=t.d,T=t.T,M=t.e,L=t.f,B=t.h,k=t.j,S=t.S,N=t.k,j=t.B,D=t.l,Q=t.n,z=t.o,R=t.W,_=t.p,P=t.q,O=t.C}],execute:function(){var e,F=document.createElement("style");F.textContent="*,html{padding:0;margin:0;box-sizing:border-box}#app{width:max-content;height:max-content;overflow:hidden;line-height:0}#player{top:20px;right:0;left:0;width:80%;margin:0 auto}#player{position:absolute;display:block}video{position:relative;float:left;width:100%;object-fit:inherit;background:transparent url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEA2ADYAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAIRA6wDAREAAhEBAxEB/8QAHQABAAICAwEBAAAAAAAAAAAAAAYHBAUBAgMICf/EAEUQAQABAgMBCgsFBwMFAQAAAAABAgMEBREHBhIhMTVFdIOywhMUFTJBUXGBkaGxImFyweEjJVJUc5LRM2JjJEOCouLw/8QAHQEBAAIDAQEBAQAAAAAAAAAAAAYHBAUIAwIBCf/EAEQRAQABAQMGCQkGBgICAwAAAAABAgMEBQcRITFxwRITMzVBQnOBsgYURFGDkaGxwhUiMnLR4SNSU2GCkiXwYqJj4vH/2gAMAwEAAhEDEQA/APzUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//Z) 50% 50% / cover no-repeat}.controls{position:absolute;z-index:999;float:left;overflow:hidden;width:100%;height:100%;margin:0;padding:0;opacity:0;background:transparent}.controls button,.controls .dropbtn{overflow:hidden;cursor:pointer;text-align:center;white-space:nowrap;text-overflow:ellipsis;border:none;background:transparent;background-repeat:no-repeat;background-size:contain;-webkit-appearance:none;-moz-appearance:none}.controls button:focus,.controls .dropbtn:focus{outline:none}.controls button::-moz-focus-inner{border:0}.controls button[data-state=back]{position:absolute;top:92%;left:44%;width:40px;height:40px;margin:-25px}.controls button[data-state=next]{position:absolute;top:92%;left:56%;width:40px;height:40px;margin:-25px}.controls button[data-state=max]{position:absolute;top:92%;right:10%;width:40px;height:40px;margin:-25px}#time{position:absolute;top:89%;left:5%;font-weight:700;color:#fff}#time span{font-weight:700;color:#fff}.controls button[data-state=play],.controls button[data-state=pause]{position:absolute;top:92%;left:50%;width:40px;height:40px;margin:-25px}@media (max-width: 568px){.controls button[data-state=play],.controls button[data-state=pause]{width:25px;height:25px;margin:-12.5px}}.controls button[data-state=mute],.controls button[data-state=unmute]{position:absolute;top:30px;right:75px;width:30px;height:30px;margin:-15px}@media (max-width: 568px){.controls button[data-state=mute],.controls button[data-state=unmute]{width:15px;height:15px;margin:-7.5px}}@media (max-width: 568px){.controls button[data-state=mute],.controls button[data-state=unmute]{top:15px;right:37.5px}}.controls .dropbtn{position:absolute;width:30px;height:30px;margin:-15px}@media (max-width: 568px){.controls .dropbtn{width:15px;height:15px;margin:-7.5px}}.controls .dropdown{position:absolute;top:30px;right:30px;display:inline-block}@media (max-width: 568px){.controls .dropdown{top:15px;right:15px}}.controls .dropdown-content{font-size:10px;position:absolute;z-index:1;top:15px;right:-24px;display:none;overflow:auto;background-color:#000}@media (max-width: 568px){.controls .dropdown-content{font-size:6px;top:7.5px;right:-12px}}.controls .dropdown-content button{display:block;padding:.8em 1em;cursor:pointer;width:100%;text-decoration:none;color:#fff}.controls .show{display:block}.controls .progress{position:absolute;top:77%;width:100%;margin:0;padding:0;cursor:pointer}.controls .progress progress{width:90%;opacity:.5;margin:auto;display:block}.controls button:focus{border:2px solid #000}.controls progress:focus{border:2px solid #000}.controls button[data-state=max]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yIDlWNi41QzIgNC4wMSA0LjAxIDIgNi41IDJIOSIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0xNSAySDE3LjVDMTkuOTkgMiAyMiA0LjAxIDIyIDYuNVY5IiBzdHJva2U9IiMyOTJEMzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjxwYXRoIGQ9Ik0yMiAxNlYxNy41QzIyIDE5Ljk5IDE5Ljk5IDIyIDE3LjUgMjJIMTYiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggb3BhY2l0eT0iMC40IiBkPSJNOSAyMkg2LjVDNC4wMSAyMiAyIDE5Ljk5IDIgMTcuNVYxNSIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8L3N2Zz4=)}.controls button[data-state=back]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIG9wYWNpdHk9IjAuNCIgZD0iTTkuNTM5MDYgMTUuOTJWMTAuNTgwMUw4LjAzOTA2IDEyLjI1MDEiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTEwLjAxOTUgNC40Njk5N0wxMS45OTk1IDIiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTQuOTA5MzkgNy43OTk3NEMzLjc5OTM5IDkuMjc5NzQgMy4xMDkzOCAxMS4xMDk3IDMuMTA5MzggMTMuMTA5N0MzLjEwOTM4IDE4LjAxOTcgNy4wODkzOSAyMS45OTk4IDExLjk5OTQgMjEuOTk5OEMxNi45MDk0IDIxLjk5OTggMjAuODg5NCAxOC4wMTk3IDIwLjg4OTQgMTMuMTA5N0MyMC44ODk0IDguMTk5NzQgMTYuOTA5NCA0LjIxOTczIDExLjk5OTQgNC4yMTk3M0MxMS4zMTk0IDQuMjE5NzMgMTAuNjU5NCA0LjMwOTc4IDEwLjAxOTQgNC40NTk3OCIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik0xNCAxMC41ODAxQzE1LjEgMTAuNTgwMSAxNiAxMS40ODAxIDE2IDEyLjU4MDFWMTMuOTMwMUMxNiAxNS4wMzAxIDE1LjEgMTUuOTMwMSAxNCAxNS45MzAxQzEyLjkgMTUuOTMwMSAxMiAxNS4wMzAxIDEyIDEzLjkzMDFWMTIuNTgwMUMxMiAxMS40NzAxIDEyLjkgMTAuNTgwMSAxNCAxMC41ODAxWiIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8L3N2Zz4=)}.controls button[data-state=next]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMy45OCA0LjQ2OTk3TDEyIDIiIHN0cm9rZT0iIzI5MkQzMiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPg0KPHBhdGggZD0iTTE5LjA4OTQgNy43OTk3NEMyMC4xOTk0IDkuMjc5NzQgMjAuODg5NCAxMS4xMDk3IDIwLjg4OTQgMTMuMTA5N0MyMC44ODk0IDE4LjAxOTcgMTYuOTA5NCAyMS45OTk4IDExLjk5OTQgMjEuOTk5OEM3LjA4OTM5IDIxLjk5OTggMy4xMDkzOCAxOC4wMTk3IDMuMTA5MzggMTMuMTA5N0MzLjEwOTM4IDguMTk5NzQgNy4wODkzOSA0LjIxOTczIDExLjk5OTQgNC4yMTk3M0MxMi42Nzk0IDQuMjE5NzMgMTMuMzM5NCA0LjMwOTc4IDEzLjk3OTQgNC40NTk3OCIgc3Ryb2tlPSIjMjkyRDMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8cGF0aCBvcGFjaXR5PSIwLjQiIGQ9Ik05LjUzOTA2IDE1LjkyVjEwLjU4MDFMOC4wMzkwNiAxMi4yNTAxIiBzdHJva2U9IiMyOTJEMzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjxwYXRoIG9wYWNpdHk9IjAuNCIgZD0iTTE0IDEwLjU4MDFDMTUuMSAxMC41ODAxIDE2IDExLjQ4MDEgMTYgMTIuNTgwMVYxMy45MzAxQzE2IDE1LjAzMDEgMTUuMSAxNS45MzAxIDE0IDE1LjkzMDFDMTIuOSAxNS45MzAxIDEyIDE1LjAzMDEgMTIgMTMuOTMwMVYxMi41ODAxQzEyIDExLjQ3MDEgMTIuOSAxMC41ODAxIDE0IDEwLjU4MDFaIiBzdHJva2U9IiMyOTJEMzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4NCjwvc3ZnPg==)}.controls button[data-state=play]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDgwMCA4MDAiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgwMCA4MDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJMYXllcl8xIj48cGF0aCBkPSJNNzcxLjksNDAwYzAsMjA1LjMtMTY2LjYsMzcxLjktMzcxLjksMzcxLjlTMjguMSw2MDUuMywyOC4xLDQwMFMxOTQuNywyOC4xLDQwMCwyOC4xICAgUzc3MS45LDE5NC43LDc3MS45LDQwMHoiIGZpbGw9IiM0REI2QUMiLz48L2c+PGcgaWQ9IkxheWVyXzIiPjxnPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTYiIHgxPSIzMjMuMyIgeDI9IjMyMy4zIiB5MT0iMjM1LjkiIHkyPSI1NjQuMSIvPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTYiIHgxPSIzMjMuMyIgeDI9IjU1MC40IiB5MT0iMjM1LjkiIHkyPSI0MDAiLz48bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjE2IiB4MT0iNTUwLjQiIHgyPSIzMjMuMyIgeTE9IjQwMCIgeTI9IjU2NC4xIi8+PC9nPjwvZz48L3N2Zz4=)}.controls button[data-state=pause]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48bGluZWFyR3JhZGllbnQgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJTVkdJRF8xXyIgeDE9IjI1NiIgeDI9IjI1NiIgeTE9IjUxMiIgeTI9Ii05LjA5NDk0N2UtMDEzIj48c3RvcCBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGODU3QTYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRjU4NTgiLz48L2xpbmVhckdyYWRpZW50PjxjaXJjbGUgY3g9IjI1NiIgY3k9IjI1NiIgZmlsbD0idXJsKCNTVkdJRF8xXykiIHI9IjI1NiIvPjxnPjxwYXRoIGQ9Ik0yMTMuMiwxMjloLTU5LjFjLTkuMiwwLTE2LjYsNy41LTE2LjYsMTYuNnYyMjAuN2MwLDkuMiw3LjUsMTYuNiwxNi42LDE2LjZoNTkuMWM5LjIsMCwxNi42LTcuNSwxNi42LTE2LjYgICBWMTQ1LjdDMjI5LjksMTM2LjUsMjIyLjQsMTI5LDIxMy4yLDEyOXogTTIxNy40LDM2Ni4zYzAsMi4zLTEuOSw0LjItNC4yLDQuMmgtNTkuMWMtMi4zLDAtNC4yLTEuOS00LjItNC4yVjE0NS43ICAgYzAtMi4zLDEuOS00LjIsNC4yLTQuMmg1OS4xYzIuMywwLDQuMiwxLjksNC4yLDQuMlYzNjYuM3oiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMzU3LjgsMTI5aC01OS4xYy05LjIsMC0xNi42LDcuNS0xNi42LDE2LjZ2MjIwLjdjMCw5LjIsNy41LDE2LjYsMTYuNiwxNi42aDU5LjFjOS4yLDAsMTYuNi03LjUsMTYuNi0xNi42ICAgVjE0NS43QzM3NC41LDEzNi41LDM2NywxMjksMzU3LjgsMTI5eiBNMzYyLDM2Ni4zYzAsMi4zLTEuOSw0LjItNC4yLDQuMmgtNTkuMWMtMi4zLDAtNC4yLTEuOS00LjItNC4yVjE0NS43ICAgYzAtMi4zLDEuOS00LjIsNC4yLTQuMmg1OS4xYzIuMywwLDQuMiwxLjksNC4yLDQuMlYzNjYuM3oiIGZpbGw9IiNGRkZGRkYiLz48L2c+PC9zdmc+)}.controls button[data-state=mute]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyOCAxMjg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPjxnPjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjY0Ii8+PC9nPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02MC41LDM4TDM4LDUySDI4Yy0yLjIsMC00LDEuOC00LDR2MTZjMCwyLjIsMS44LDQsNCw0aDEwbDIyLjUsMTRjMC42LDAuNSwxLjUsMCwxLjUtMC44VjM4LjggIEM2MiwzOC4xLDYxLjIsMzcuNiw2MC41LDM4eiIvPjxnPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04Ny43LDk2LjhsLTEuMy0xLjVjLTAuNC0wLjQtMC4zLTEsMC4xLTEuNEM5NS4xLDg2LjMsMTAwLDc1LjUsMTAwLDY0YzAtMTEuOC01LjEtMjIuOS0xNC4xLTMwLjUgICBjLTAuMi0wLjEtMC41LTAuNC0wLjktMC43cy0wLjUtMC45LTAuMi0xLjNsMS4xLTEuN2MwLjMtMC41LDEtMC42LDEuNC0wLjJjMC41LDAuNCwxLDAuOCwxLDAuOEM5OC4zLDM4LjgsMTA0LDUxLDEwNCw2NCAgIGMwLDEyLjYtNS40LDI0LjYtMTQuOCwzM0M4OC43LDk3LjMsODguMSw5Ny4zLDg3LjcsOTYuOHoiLz48L2c+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjEsODguM2wtMS4yLTEuNmMtMC4zLTAuNC0wLjMtMSwwLjItMS40Qzg0LjQsODAsODgsNzIuMyw4OCw2NHMtMy42LTE2LTEwLTIxLjNjLTAuNC0wLjMtMC41LTEtMC4yLTEuNCAgIGwxLjItMS42YzAuMy0wLjQsMS0wLjUsMS40LTAuMkM4Ny44LDQ1LjcsOTIsNTQuNSw5Miw2NHMtNC4yLDE4LjMtMTEuNSwyNC40QzgwLjEsODguOCw3OS41LDg4LjcsNzkuMSw4OC4zeiIvPjwvZz48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjkuNiw3OC4yYy0wLjQtMC40LTAuMy0xLjEsMC4xLTEuNGM0LTMuMSw2LjMtNy44LDYuMy0xMi43YzAtNS4xLTIuMy05LjgtNi4zLTEyLjdjLTAuNC0wLjMtMC41LTEtMC4yLTEuNCAgIGwxLjMtMS41YzAuMy0wLjQsMC45LTAuNSwxLjQtMC4yQzc3LjEsNTEuOCw4MCw1Ny43LDgwLDY0YzAsNi4xLTIuOSwxMS45LTcuNywxNS44Yy0wLjQsMC4zLTEsMC4zLTEuNC0wLjFMNjkuNiw3OC4yeiIvPjwvZz48L3N2Zz4=)}.controls button[data-state=unmute]{background-image:url(data:image/png;base64,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)}.controls .btn-settings{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyOCAxMjg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjY0Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMyw1N2gtOS4xYy0wLjUsMC0wLjgtMC4zLTEtMC43Yy0wLjctMi42LTEuNy01LTMtNy4zYy0wLjItMC40LTAuMi0wLjksMC4xLTEuMmw2LjQtNi40YzAuNC0wLjQsMC40LTEsMC0xLjQgIEw4OCwzMS41Yy0wLjQtMC40LTEtMC40LTEuNCwwbC02LjQsNi40Yy0wLjMsMC4zLTAuOCwwLjQtMS4yLDAuMmMtMi4zLTEuMy00LjctMi4zLTcuMy0zYy0wLjQtMC4xLTAuNy0wLjUtMC43LTFWMjUgIGMwLTAuNi0wLjQtMS0xLTFINThjLTAuNiwwLTEsMC40LTEsMXY5LjFjMCwwLjUtMC4zLDAuOC0wLjcsMWMtMi42LDAuNy01LDEuNy03LjMsM2MtMC40LDAuMi0wLjksMC4yLTEuMi0wLjEgIGMtMS40LTEuNC00LjktNC45LTYuNC02LjRjLTAuNC0wLjQtMS0wLjQtMS40LDBMMzEuNSw0MGMtMC40LDAuNC0wLjQsMSwwLDEuNGw2LjQsNi40YzAuMywwLjMsMC40LDAuOCwwLjIsMS4yICBjLTEuMywyLjMtMi4zLDQuNy0zLDcuM2MtMC4xLDAuNC0wLjUsMC43LTEsMC43SDI1Yy0wLjYsMC0xLDAuNC0xLDF2MTJjMCwwLjYsMC40LDEsMSwxaDkuMWMwLjUsMCwwLjgsMC4zLDEsMC43ICBjMC43LDIuNiwxLjcsNSwzLDcuM2MwLjIsMC40LDAuMiwwLjktMC4xLDEuMmMtMS40LDEuNC00LjksNC45LTYuNCw2LjRjLTAuNCwwLjQtMC40LDEsMCwxLjRsOC41LDguNWMwLjQsMC40LDEsMC40LDEuNCwwbDYuNC02LjQgIGMwLjMtMC4zLDAuOC0wLjQsMS4yLTAuMmMyLjMsMS4zLDQuNywyLjMsNy4zLDNDNTYuOCw5Myw1Nyw5My41LDU3LDk0djljMCwwLjYsMC41LDEsMS4xLDFoMTJjMC42LDAsMC45LTAuNCwwLjktMXYtOSAgYzAtMC41LDAuNC0wLjksMC44LTEuMWMyLjYtMC43LDUtMS43LDcuMy0zYzAuNC0wLjIsMC45LTAuMiwxLjIsMC4xYzEuNCwxLjQsNC45LDQuOSw2LjQsNi40YzAuNCwwLjQsMSwwLjQsMS40LDBsOC41LTguNSAgYzAuNC0wLjQsMC40LTEsMC0xLjRsLTYuNC02LjRjLTAuMy0wLjMtMC40LTAuOC0wLjItMS4yYzEuMy0yLjMsMi4zLTQuNiwzLTcuMmMwLjEtMC40LDAuNS0wLjcsMS0wLjdoOS4xYzAuNSwwLjEsMC45LTAuNCwwLjktMVY1OCAgQzEwNCw1Ny40LDEwMy42LDU3LDEwMyw1N3ogTTY0LDgyYy05LjksMC0xOC04LjEtMTgtMThzOC4xLTE4LDE4LTE4czE4LDguMSwxOCwxOFM3My45LDgyLDY0LDgyeiIvPjwvc3ZnPg==)}.display-control{opacity:1;background:transparent}.show{display:block}.active{background:green!important}#live-indicator{display:flex;align-items:center;position:absolute;top:89%;left:5%}#red-dot{height:10px;width:10px;background-color:red;border-radius:50%;display:inline-block;margin-right:5px}#live-text{font-size:16px;font-weight:700;color:#fff}.display_none{display:none!important}.quality:focus{background-color:#53a653}\n",document.head.appendChild(F);function Y(){var t=document.getElementById("player"),e=document.getElementById("video"),n=document.getElementById("video-controls"),r=document.getElementById("playpause"),A=document.getElementById("mute"),o=document.getElementById("max"),i=document.getElementById("back"),a=document.getElementById("next"),s=document.getElementById("current-time"),u=document.getElementById("end-time"),l=document.getElementById("progress"),c=document.getElementById("progress-bar"),d=e.getAttribute("data-src"),f=0;if(e.controls=!1,Hls.isSupported()){var h=new Hls;h.loadSource(d),h.attachMedia(e),h.on(Hls.Events.MANIFEST_PARSED,(function(){e.hidden=!1,e.play(),function(t){var e=document.getElementById("quality-btn"),n=document.getElementById("quality");e.addEventListener("click",(function(t){s(),n.classList.toggle("show")}));var r=t.levels;console.log(r);for(;n.firstChild;)n.removeChild(n.firstChild);var A=document.createElement("button");A.setAttribute("data-value",-1),A.setAttribute("class","quality"),A.setAttribute("tabindex","0"),A.setAttribute("id","quality-0"),A.textContent="Auto",n.appendChild(A);for(var o=0;o<r.length;o++){var i=document.createElement("button");i.setAttribute("data-value",o),i.setAttribute("class","quality"),i.setAttribute("tabindex","0"),i.setAttribute("id","quality-"+(o+1)),i.textContent=(r[o].name||r[o].height)+"p",n.appendChild(i)}var a=document.querySelectorAll("#quality button");function s(e){for(var n=0;n<a.length;n++)e||n!=t.currentLevel+1?a[n].classList.remove("active"):t.autoLevelEnabled?(a[0].classList.add("active"),a[n].classList.remove("active")):a[n].classList.add("active");if(e){var r=parseInt(this.getAttribute("data-value"));t.currentLevel=r,this.classList.add("active")}}for(o=0;o<a.length;o++)a[o].addEventListener("click",s)}(h),setTimeout((function(){r.focus()}),500)})),h.on(Hls.Events.LEVEL_LOADED,(function(t,e){var n,r;0===f&&1===(f=(e.details||{}).live?1:2)&&(n=document.getElementById("time"),r=document.getElementById("live-indicator"),n.className="display_none",r.className="",r.setAttribute("data-type","live"))}))}function p(t){"playpause"==t?e.paused||e.ended?(r.setAttribute("data-state","play"),n.classList.add("display-control")):r.setAttribute("data-state","pause"):"mute"==t&&A.setAttribute("data-state",e.muted?"unmute":"mute")}r.addEventListener("click",(function(t){e.paused||e.ended?e.play():e.pause()})),A.addEventListener("click",(function(t){e.muted=!e.muted,p("mute")})),l.addEventListener("click",(function(n){var r=(n.pageX-(this.offsetLeft+this.offsetParent.offsetLeft+t.offsetLeft))/this.offsetWidth;e.currentTime=r*e.duration,s.innerHTML=W(e.currentTime)})),o.addEventListener("click",(function(t){var e,n,r;e=document.getElementById("player"),n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n-e.offsetWidth>40||r-e.offsetHeight>40?(e.style.width="100%",e.style.top="0"):(e.style.width="80%",e.style.top="20px")})),i.addEventListener("click",(function(t){e.currentTime=Math.max(e.currentTime-10,0),s.innerHTML=W(e.currentTime)})),a.addEventListener("click",(function(t){e.currentTime=Math.min(e.currentTime+10,e.duration),s.innerHTML=W(e.currentTime)})),e.addEventListener("loadedmetadata",(function(){var t=Math.min(e.currentTime,e.duration);e.currentTime=t,s.innerHTML=W(e.currentTime),u.innerHTML=W(e.duration)})),e.addEventListener("play",(function(){p("playpause")}),!1),e.addEventListener("pause",(function(){p("playpause")}),!1),e.addEventListener("timeupdate",(function(){l.getAttribute("max")||l.setAttribute("max",e.duration),l.value=e.currentTime,s.innerHTML=W(e.currentTime),c.style.width=Math.floor(e.currentTime/e.duration*100)+"%"}))}function W(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60),A="";return e>0&&(A+="".concat(e.toString().padStart(2,"0"),":")),A+="".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}function H(t){var e=t||"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8";document.getElementById("video").setAttribute("data-src",e),document.getElementById("video-controls"),document.getElementById("video"),document.getElementById("player"),Y()}function U(){var t,e,n,r,A=document.getElementById("video");A.hidden=!0,A.pause(),t=document.getElementById("time"),(e=document.getElementById("live-indicator")).className="display_none",t.className="",e.setAttribute("data-type","video"),document.getElementById("quality").className="dropdown-content",n=document.getElementById("player"),r=n.cloneNode(!0),n.parentNode.replaceChild(r,n)}function G(t){var e=t.match(/quality-(\d+)/);return e&&e[1]?parseInt(e[1],10):null}document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("app"),e=document.createElement("div");e.id="player",e.innerHTML='<video id="video" tabindex="0" poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAEsCAYAAAAhNGCdAAAAAXNSR0IArs4c6QAAELlJREFUeF7t1kERAAAIAkHpX9oeN2sDFh/sHAECBAgQIECAAIGwwMLZRCNAgAABAgQIECBwBq8nIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAAYPXDxAgQIAAAQIECKQFDN50vcIRIECAAAECBAgYvH6AAAECBAgQIEAgLWDwpusVjgABAgQIECBAwOD1AwQIECBAgAABAmkBgzddr3AECBAgQIAAAQIGrx8gQIAAAQIECBBICxi86XqFI0CAAAECBAgQMHj9AAECBAgQIECAQFrA4E3XKxwBAgQIECBAgIDB6wcIECBAgAABAgTSAgZvul7hCBAgQIAAAQIEDF4/QIAAAQIECBAgkBYweNP1CkeAAAECBAgQIGDw+gECBAgQIECAAIG0gMGbrlc4AgQIECBAgAABg9cPECBAgAABAgQIpAUM3nS9whEgQIAAAQIECBi8foAAAQIECBAgQCAtYPCm6xWOAAECBAgQIEDA4PUDBAgQIECAAAECaQGDN12vcAQIECBAgAABAgavHyBAgAABAgQIEEgLGLzpeoUjQIAAAQIECBAweP0AAQIECBAgQIBAWsDgTdcrHAECBAgQIECAgMHrBwgQIECAAAECBNICBm+6XuEIECBAgAABAgQMXj9AgAABAgQIECCQFjB40/UKR4AAAQIECBAgYPD6AQIECBAgQIAAgbSAwZuuVzgCBAgQIECAAAGD1w8QIECAAAECBAikBQzedL3CESBAgAABAgQIGLx+gAABAgQIECBAIC1g8KbrFY4AAQIECBAgQMDg9QMECBAgQIAAAQJpAYM3Xa9wBAgQIECAAAECBq8fIECAAAECBAgQSAsYvOl6hSNAgAABAgQIEDB4/QABAgQIECBAgEBawOBN1yscAQIECBAgQICAwesHCBAgQIAAAQIE0gIGb7pe4QgQIECAAAECBAxeP0CAAAECBAgQIJAWMHjT9QpHgAABAgQIECBg8PoBAgQIECBAgACBtIDBm65XOAIECBAgQIAAgQf4tAEt5FxRQwAAAABJRU5ErkJggg==" hidden></video><div id="video-controls" class="controls display-control"><button id="playpause" tabindex="0" type="button" data-state="play"></button><button id="back" tabindex="0" type="button" data-state="back"></button><button id="next" tabindex="0" type="button" data-state="next"></button><button id="max" tabindex="0" type="button" data-state="max"></button><button id="mute" type="button" data-state="mute">Mute/Unmute</button><div class="dropdown"><button id="quality-btn" class="dropbtn btn-settings"></button><div id="quality" class="dropdown-content"></div></div><div data-type="video" id="live-indicator" class="display_none"><span id="red-dot"></span><span id="live-text">Live</span></div><div id="time"><span id="current-time">10:11</span>/<span id="end-time">11:23</span></div><div class="progress"><progress id="progress" tabindex="0" value="0" min="0"><span id="progress-bar"></span></progress></div></div>'.trim(),t.parentNode.insertBefore(e,t.nextSibling)}));var X,Z=function(t,e){return t===e},V=Symbol("solid-proxy"),q=Symbol("solid-track"),J={equals:Z},K=St,$=1,tt=2,et={owned:null,cleanups:null,context:null,owner:null},nt={},rt=null,At=null,ot=null,it=null,at=null,st=0;function ut(t,e){var n=ot,r=rt,A=0===t.length,o=void 0===e?r:e,i=A?et:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=A?t:function(){return t((function(){return gt((function(){return Qt(i)}))}))};rt=i,ot=null;try{return kt(a,!0)}finally{ot=n,rt=r}}function lt(t,e){var n={value:t,observers:null,observerSlots:null,comparator:(e=e?Object.assign({},J,e):J).equals||void 0};return[Et.bind(n),function(t){return"function"==typeof t&&(t=t(n.value)),Tt(n,t)}]}function ct(t,e,n){Mt(Lt(t,e,!0,$))}function dt(t,e,n){Mt(Lt(t,e,!1,$))}function ft(t,e,n){K=Nt;var r=Lt(t,e,!1,$),A=X&&Ct(X);A&&(r.suspense=A),n&&n.render||(r.user=!0),at?at.push(r):Mt(r)}function ht(t,e,n){n=n?Object.assign({},J,n):J;var r=Lt(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Mt(r),Et.bind(r)}function pt(t,e,n){var r,A,o;2===arguments.length&&"object"==typeof e||1===arguments.length?(r=!0,A=t,o=e||{}):(r=t,A=e,o=n||{});var i=null,a=nt,s=!1,u="initialValue"in o,l="function"==typeof r&&ht(r),c=new Set,d=w((o.storage||lt)(o.initialValue),2),f=d[0],h=d[1],p=w(lt(void 0),2),v=p[0],g=p[1],y=w(lt(void 0,{equals:!1}),2),m=y[0],x=y[1],C=w(lt(u?"ready":"unresolved"),2),b=C[0],E=C[1];function T(t,e,n,r){return i===t&&(i=null,void 0!==r&&(u=!0),t!==a&&e!==a||!o.onHydrated||queueMicrotask((function(){return o.onHydrated(r,{value:e})})),a=nt,function(t,e){kt((function(){void 0===e&&h((function(){return t})),E(void 0!==e?"errored":u?"ready":"unresolved"),g(e);var n,r=I(c.keys());try{for(r.s();!(n=r.n()).done;){n.value.decrement()}}catch(e){r.e(e)}finally{r.f()}c.clear()}),!1)}(e,n)),e}function M(){var t=X,e=f(),n=v();if(void 0!==n&&!i)throw n;return ot&&!ot.user&&t&&ct((function(){m(),i&&(t.resolved||c.has(t)||(t.increment(),c.add(t)))})),e}function L(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===t||!s){s=!1;var e=l?l():r;if(null!=e&&!1!==e){var n,o=a!==nt?a:gt((function(){return A(e,{value:f(),refetching:t})}));return(n=o)&&"object"==typeof n&&"then"in n?(i=o,"value"in o?("success"===o.status?T(i,o.value,void 0,e):T(i,void 0,void 0,e),o):(s=!0,queueMicrotask((function(){return s=!1})),kt((function(){E(u?"refreshing":"pending"),x()}),!1),o.then((function(t){return T(o,t,void 0,e)}),(function(t){return T(o,void 0,zt(t),e)})))):(T(i,o,void 0,e),o)}T(i,gt(f))}}return Object.defineProperties(M,{state:{get:function(){return b()}},error:{get:function(){return v()}},loading:{get:function(){var t=b();return"pending"===t||"refreshing"===t}},latest:{get:function(){if(!u)return M();var t=v();if(t&&!i)throw t;return f()}}}),l?ct((function(){return L(!1)})):L(!1),[M,{refetch:L,mutate:h}]}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,n=new Map,r=Lt((function(r){var A,o=t(),i=I(n.entries());try{for(i.s();!(A=i.n()).done;){var a=w(A.value,2),s=a[0],u=a[1];if(e(s,o)!==e(s,r)){var l,c=I(u.values());try{for(c.s();!(l=c.n()).done;){var d=l.value;d.state=$,d.pure?it.push(d):at.push(d)}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){i.e(f)}finally{i.f()}return o}),void 0,!0,$);return Mt(r),function(t){var A,o=ot;o&&((A=n.get(t))?A.add(o):n.set(t,A=new Set([o])),mt((function(){A.delete(o),!A.size&&n.delete(t)})));return e(t,r.value)}}function gt(t){if(null===ot)return t();var e=ot;ot=null;try{return t()}finally{ot=e}}function yt(t,e,n){var r,A=Array.isArray(t),o=n&&n.defer;return function(n){var i;if(A){i=Array(t.length);for(var a=0;a<t.length;a++)i[a]=t[a]()}else i=t();if(!o){var s=gt((function(){return e(i,r,n)}));return r=i,s}o=!1}}function mt(t){return null===rt||(null===rt.cleanups?rt.cleanups=[t]:rt.cleanups.push(t)),t}function xt(){return rt}function wt(t){var e=ot,n=rt;return Promise.resolve().then((function(){ot=e,rt=n,kt(t,!1),ot=rt=null}))}function It(t,e){var n=Symbol("context");return{id:n,Provider:Pt(n),defaultValue:t}}function Ct(t){return rt&&rt.context&&void 0!==rt.context[t.id]?rt.context[t.id]:t.defaultValue}function bt(t){var e=ht(t),n=ht((function(){return _t(e())}));return n.toArray=function(){var t=n();return Array.isArray(t)?t:null!=t?[t]:[]},n}function Et(){var t=this;if(this.sources&&this.state)if(this.state===$)Mt(this);else{var e=it;it=null,kt((function(){return jt(t)}),!1),it=e}if(ot){var n=this.observers?this.observers.length:0;ot.sources?(ot.sources.push(this),ot.sourceSlots.push(n)):(ot.sources=[this],ot.sourceSlots=[n]),this.observers?(this.observers.push(ot),this.observerSlots.push(ot.sources.length-1)):(this.observers=[ot],this.observerSlots=[ot.sources.length-1])}return this.value}function Tt(t,e,n){var r=t.value;return t.comparator&&t.comparator(r,e)||(t.value=e,t.observers&&t.observers.length&&kt((function(){for(var e=0;e<t.observers.length;e+=1){var n=t.observers[e],r=At&&At.running;r&&At.disposed.has(n),(r?n.tState:n.state)||(n.pure?it.push(n):at.push(n),n.observers&&Dt(n)),r||(n.state=$)}if(it.length>1e6)throw it=[],new Error}),!1)),e}function Mt(t){if(t.fn){Qt(t);var e=st;!function(t,e,n){var r,A=rt,o=ot;ot=rt=t;try{r=t.fn(e)}catch(i){return t.pure&&(t.state=$,t.owned&&t.owned.forEach(Qt),t.owned=null),t.updatedAt=n+1,Rt(i)}finally{ot=o,rt=A}(!t.updatedAt||t.updatedAt<=n)&&(null!=t.updatedAt&&"observers"in t?Tt(t,r):t.value=r,t.updatedAt=n)}(t,t.value,e)}}function Lt(t,e,n){var r={fn:t,state:arguments.length>3&&void 0!==arguments[3]?arguments[3]:$,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:rt,context:rt?rt.context:null,pure:n};return null===rt||rt!==et&&(rt.owned?rt.owned.push(r):rt.owned=[r]),r}function Bt(t){if(0!==t.state){if(t.state===tt)return jt(t);if(t.suspense&&gt(t.suspense.inFallback))return t.suspense.effects.push(t);for(var e=[t];(t=t.owner)&&(!t.updatedAt||t.updatedAt<st);)t.state&&e.push(t);for(var n=e.length-1;n>=0;n--)if((t=e[n]).state===$)Mt(t);else if(t.state===tt){var r=it;it=null,kt((function(){return jt(t,e[0])}),!1),it=r}}}function kt(t,e){if(it)return t();var n=!1;e||(it=[]),at?n=!0:at=[],st++;try{var r=t();return function(t){it&&(St(it),it=null);if(t)return;var e=at;at=null,e.length&&kt((function(){return K(e)}),!1)}(n),r}catch(A){n||(at=null),it=null,Rt(A)}}function St(t){for(var e=0;e<t.length;e++)Bt(t[e])}function Nt(t){var e,n=0;for(e=0;e<t.length;e++){var r=t[e];r.user?t[n++]=r:Bt(r)}for(e=0;e<n;e++)Bt(t[e])}function jt(t,e){t.state=0;for(var n=0;n<t.sources.length;n+=1){var r=t.sources[n];if(r.sources){var A=r.state;A===$?r!==e&&(!r.updatedAt||r.updatedAt<st)&&Bt(r):A===tt&&jt(r,e)}}}function Dt(t){for(var e=0;e<t.observers.length;e+=1){var n=t.observers[e];n.state||(n.state=tt,n.pure?it.push(n):at.push(n),n.observers&&Dt(n))}}function Qt(t){var e;if(t.sources)for(;t.sources.length;){var n=t.sources.pop(),r=t.sourceSlots.pop(),A=n.observers;if(A&&A.length){var o=A.pop(),i=n.observerSlots.pop();r<A.length&&(o.sourceSlots[i]=r,A[r]=o,n.observerSlots[r]=i)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Qt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function zt(t){return t instanceof Error?t:new Error("string"==typeof t?t:"Unknown error",{cause:t})}function Rt(t){throw zt(t)}function _t(t){if("function"==typeof t&&!t.length)return _t(t());if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++){var r=_t(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function Pt(t,e){return function(e){var n;return dt((function(){return n=gt((function(){return rt.context=y(y({},rt.context),{},m({},t,e.value)),bt((function(){return e.children}))}))}),void 0),n}}var Ot=Symbol("fallback");function Ft(t){for(var e=0;e<t.length;e++)t[e]()}function Yt(t,e){return gt((function(){return t(e||{})}))}function Wt(){return!0}var Ht={get:function(t,e,n){return e===V?n:t.get(e)},has:function(t,e){return e===V||t.has(e)},set:Wt,deleteProperty:Wt,getOwnPropertyDescriptor:function(t,e){return{configurable:!0,enumerable:!0,get:function(){return t.get(e)},set:Wt,deleteProperty:Wt}},ownKeys:function(t){return t.keys()}};function Ut(t){return(t="function"==typeof t?t():t)?t:{}}function Gt(){for(var t=0,e=this.length;t<e;++t){var n=this[t]();if(void 0!==n)return n}}function Xt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=!1,A=0;A<e.length;A++){var o=e[A];r=r||!!o&&V in o,e[A]="function"==typeof o?(r=!0,ht(o)):o}if(r)return new Proxy({get:function(t){for(var n=e.length-1;n>=0;n--){var r=Ut(e[n])[t];if(void 0!==r)return r}},has:function(t){for(var n=e.length-1;n>=0;n--)if(t in Ut(e[n]))return!0;return!1},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,v(Object.keys(Ut(e[n]))));return v(new Set(t))}},Ht);for(var i={},a={},s=new Set,u=e.length-1;u>=0;u--){var l=e[u];if(l)for(var c=Object.getOwnPropertyNames(l),d=function(){var t=c[f];if("__proto__"===t||"constructor"===t)return 1;var e=Object.getOwnPropertyDescriptor(l,t);if(s.has(t)){var n=a[t];n?e.get?n.push(e.get.bind(l)):void 0!==e.value&&n.push((function(){return e.value})):void 0===i[t]&&(i[t]=e.value)}else e.get?(s.add(t),Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:Gt.bind(a[t]=[e.get.bind(l)])})):(void 0!==e.value&&s.add(t),i[t]=e.value)},f=0,h=c.length;f<h;f++)d()}return i}var Zt=function(t){return"Stale read from <".concat(t,">.")};function Vt(t){var e="fallback"in t&&{fallback:function(){return t.fallback}};return ht(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],A=[],o=[],i=0,a=e.length>1?[]:null;return mt((function(){return Ft(o)})),function(){var s,u,l=t()||[];return l[q],gt((function(){var t,e,d,f,h,p,v,g,y,m=l.length;if(0===m)0!==i&&(Ft(o),o=[],r=[],A=[],i=0,a&&(a=[])),n.fallback&&(r=[Ot],A[0]=ut((function(t){return o[0]=t,n.fallback()})),i=1);else if(0===i){for(A=new Array(m),u=0;u<m;u++)r[u]=l[u],A[u]=ut(c);i=m}else{for(d=new Array(m),f=new Array(m),a&&(h=new Array(m)),p=0,v=Math.min(i,m);p<v&&r[p]===l[p];p++);for(v=i-1,g=m-1;v>=p&&g>=p&&r[v]===l[g];v--,g--)d[g]=A[v],f[g]=o[v],a&&(h[g]=a[v]);for(t=new Map,e=new Array(g+1),u=g;u>=p;u--)y=l[u],s=t.get(y),e[u]=void 0===s?-1:s,t.set(y,u);for(s=p;s<=v;s++)y=r[s],void 0!==(u=t.get(y))&&-1!==u?(d[u]=A[s],f[u]=o[s],a&&(h[u]=a[s]),u=e[u],t.set(y,u)):o[s]();for(u=p;u<m;u++)u in d?(A[u]=d[u],o[u]=f[u],a&&(a[u]=h[u],a[u](u))):A[u]=ut(c);A=A.slice(0,i=m),r=l.slice(0)}return A}));function c(t){if(o[u]=t,a){var n=w(lt(u),2),r=n[0],A=n[1];return a[u]=A,e(l[u],r)}return e(l[u])}}}((function(){return t.each}),t.children,e||void 0))}function qt(t){var e=t.keyed,n=ht((function(){return t.when}),void 0,{equals:function(t,n){return e?t===n:!t==!n}});return ht((function(){var r=n();if(r){var A=t.children;return"function"==typeof A&&A.length>0?gt((function(){return A(e?r:function(){if(!gt(n))throw Zt("Show");return t.when})})):A}return t.fallback}),void 0,void 0)}var Jt,Kt=w(lt(null),2),$t=Kt[0],te=Kt[1],ee=h((function t(e){p(this,t),m(this,"releaseCallback",void 0),this.releaseCallback=e})),ne=function(t){i(n,t);var e=s(n);function n(t,r){var A,o,i;return p(this,n),m(l(i=e.call(this,t)),"textureMap",new Map),m(l(i),"zeroReferenceTextureSet",new Set),m(l(i),"options",void 0),i.options={textureCleanupIntervalMs:null!==(A=r.textureCleanupIntervalMs)&&void 0!==A?A:1e4,textureCleanupAgeThreadholdMs:null!==(o=r.textureCleanupAgeThreadholdMs)&&void 0!==o?o:6e4},setInterval((function(){var t,e=Date.now(),n=i.options.textureCleanupAgeThreadholdMs,r=I(i.zeroReferenceTextureSet);try{for(r.s();!(t=r.n()).done;){var A=t.value;e-A.lastUpdate>n&&(i.releaseCallback(A.id),i.textureMap.delete(A.id),i.zeroReferenceTextureSet.delete(A))}}catch(o){r.e(o)}finally{r.f()}}),i.options.textureCleanupIntervalMs),i}return h(n,[{key:"registerTexture",value:function(t){var e,n=null===(e=t.options)||void 0===e?void 0:e.id;if(a(n,"Texture must have an id to be registered"),!this.textureMap.has(n)){var r={id:n,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(n,r),this.zeroReferenceTextureSet.add(r)}}},{key:"incrementTextureRefCount",value:function(t){var e,n=null===(e=t.options)||void 0===e?void 0:e.id;a(n,"Texture must have an id to be registered");var r=this.textureMap.get(n);r||(this.registerTexture(t),r=this.textureMap.get(n)),a(r,"Texture must have been registered"),"SubTexture"===t.txType&&this.incrementTextureRefCount(t.props.texture),r.nodeRefCount++,r.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(r)&&this.zeroReferenceTextureSet.delete(r)}},{key:"decrementTextureRefCount",value:function(t){var e,n=null===(e=t.options)||void 0===e?void 0:e.id;a(n,"Texture must have an id to be registered");var r=this.textureMap.get(n);a(r,"Texture must have been registered"),r.nodeRefCount--,r.lastUpdate=Date.now(),0===r.nodeRefCount&&this.zeroReferenceTextureSet.add(r),"SubTexture"===t.txType&&this.decrementTextureRefCount(t.props.texture)}}]),n}(ee),re=function(t){i(n,t);var e=s(n);function n(t){var r;return p(this,n),m(l(r=e.call(this,t)),"registry",void 0),r.registry=new FinalizationRegistry(t),r}return h(n,[{key:"registerTexture",value:function(t){var e,n;a(null===(e=t.options)||void 0===e?void 0:e.id,"Texture must have an ID to be registered"),this.registry.register(t,null===(n=t.options)||void 0===n?void 0:n.id)}},{key:"incrementTextureRefCount",value:function(){}},{key:"decrementTextureRefCount",value:function(){}}]),n}(ee),Ae=function(t){i(A,t);var e,n=s(A);function A(t,e,r){var o,i,a;p(this,A),m(l(a=n.call(this)),"root",null),m(l(a),"driver",void 0),m(l(a),"canvas",void 0),m(l(a),"settings",void 0),m(l(a),"nodes",new Map),m(l(a),"nextTextureId",1),m(l(a),"textureTracker",void 0);var s={appWidth:t.appWidth||1920,appHeight:t.appHeight||1080,deviceLogicalPixelRatio:t.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:t.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:null!==(o=t.clearColor)&&void 0!==o?o:0,coreExtensionModule:t.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:null!==(i=t.experimental_FinalizationRegistryTextureUsageTracker)&&void 0!==i&&i,textureCleanupOptions:t.textureCleanupOptions||{},fpsUpdateInterval:t.fpsUpdateInterval||0};a.settings=s;var u=s.appWidth,c=s.appHeight,d=s.deviceLogicalPixelRatio,f=s.devicePhysicalPixelRatio,h=function(t){a.driver.releaseTexture(t)},v=s.experimental_FinalizationRegistryTextureUsageTracker&&"function"==typeof FinalizationRegistry;a.textureTracker=v?new re(h):new ne(h,a.settings.textureCleanupOptions);var g=u*d,y=c*d;a.driver=r;var x,w=document.createElement("canvas");if(a.canvas=w,w.width=g*f,w.height=y*f,w.style.width="".concat(g,"px"),w.style.height="".concat(y,"px"),!(x="string"==typeof e?document.getElementById(e):e))throw new Error("Could not find target element");return r.onCreateNode=function(t){a.nodes.set(t.id,t)},r.onBeforeDestroyNode=function(t){a.nodes.delete(t.id)},r.onFpsUpdate=function(t){a.emit("fpsUpdate",t)},x.appendChild(w),a}return h(A,[{key:"init",value:(e=o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.driver.init(this,this.settings,this.canvas);case 2:this.root=this.driver.getRootNode();case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"createNode",value:function(t){return this.driver.createNode(this.resolveNodeDefaults(t))}},{key:"createTextNode",value:function(t){var e,n,r,A,o,i,a,s,u,l,c,d,f,h;return this.driver.createTextNode(y(y({},this.resolveNodeDefaults(t)),{},{text:null!==(e=t.text)&&void 0!==e?e:"",textRendererOverride:null!==(n=t.textRendererOverride)&&void 0!==n?n:null,fontSize:null!==(r=t.fontSize)&&void 0!==r?r:16,fontFamily:null!==(A=t.fontFamily)&&void 0!==A?A:"sans-serif",fontStyle:null!==(o=t.fontStyle)&&void 0!==o?o:"normal",fontWeight:null!==(i=t.fontWeight)&&void 0!==i?i:"normal",fontStretch:null!==(a=t.fontStretch)&&void 0!==a?a:"normal",textAlign:null!==(s=t.textAlign)&&void 0!==s?s:"left",contain:null!==(u=t.contain)&&void 0!==u?u:"none",scrollable:null!==(l=t.scrollable)&&void 0!==l&&l,scrollY:null!==(c=t.scrollY)&&void 0!==c?c:0,offsetY:null!==(d=t.offsetY)&&void 0!==d?d:0,letterSpacing:null!==(f=t.letterSpacing)&&void 0!==f?f:0,debug:null!==(h=t.debug)&&void 0!==h?h:{}}))}},{key:"resolveNodeDefaults",value:function(t){var e,n,r,A,o,i,a,s,u,l,c,d,f,h,p,v,g,y,m,x,w,I,C,b,E,T,M,L,B,k,S,N,j,D,Q,z,R,_,P,O,F,Y,W,H,U,G=null!==(e=t.color)&&void 0!==e?e:4294967295,X=null!==(n=null!==(r=null!==(A=t.colorTl)&&void 0!==A?A:t.colorTop)&&void 0!==r?r:t.colorLeft)&&void 0!==n?n:G,Z=null!==(o=null!==(i=null!==(a=t.colorTr)&&void 0!==a?a:t.colorTop)&&void 0!==i?i:t.colorRight)&&void 0!==o?o:G,V=null!==(s=null!==(u=null!==(l=t.colorBl)&&void 0!==l?l:t.colorBottom)&&void 0!==u?u:t.colorLeft)&&void 0!==s?s:G,q=null!==(c=null!==(d=null!==(f=t.colorBr)&&void 0!==f?f:t.colorBottom)&&void 0!==d?d:t.colorRight)&&void 0!==c?c:G;return{x:null!==(h=t.x)&&void 0!==h?h:0,y:null!==(p=t.y)&&void 0!==p?p:0,width:null!==(v=t.width)&&void 0!==v?v:0,height:null!==(g=t.height)&&void 0!==g?g:0,alpha:null!==(y=t.alpha)&&void 0!==y?y:1,clipping:null!==(m=t.clipping)&&void 0!==m&&m,color:G,colorTop:null!==(x=t.colorTop)&&void 0!==x?x:G,colorBottom:null!==(w=t.colorBottom)&&void 0!==w?w:G,colorLeft:null!==(I=t.colorLeft)&&void 0!==I?I:G,colorRight:null!==(C=t.colorRight)&&void 0!==C?C:G,colorBl:V,colorBr:q,colorTl:X,colorTr:Z,zIndex:null!==(b=t.zIndex)&&void 0!==b?b:0,zIndexLocked:null!==(E=t.zIndexLocked)&&void 0!==E?E:0,parent:null!==(T=t.parent)&&void 0!==T?T:null,texture:null!==(M=t.texture)&&void 0!==M?M:null,shader:null!==(L=t.shader)&&void 0!==L?L:null,src:null!==(B=t.src)&&void 0!==B?B:"",scale:null!==(k=t.scale)&&void 0!==k?k:null,scaleX:null!==(S=null!==(N=t.scaleX)&&void 0!==N?N:t.scale)&&void 0!==S?S:1,scaleY:null!==(j=null!==(D=t.scaleY)&&void 0!==D?D:t.scale)&&void 0!==j?j:1,mount:null!==(Q=t.mount)&&void 0!==Q?Q:0,mountX:null!==(z=null!==(R=t.mountX)&&void 0!==R?R:t.mount)&&void 0!==z?z:0,mountY:null!==(_=null!==(P=t.mountY)&&void 0!==P?P:t.mount)&&void 0!==_?_:0,pivot:null!==(O=t.pivot)&&void 0!==O?O:.5,pivotX:null!==(F=null!==(Y=t.pivotX)&&void 0!==Y?Y:t.pivot)&&void 0!==F?F:.5,pivotY:null!==(W=null!==(H=t.pivotY)&&void 0!==H?H:t.pivot)&&void 0!==W?W:.5,rotation:null!==(U=t.rotation)&&void 0!==U?U:0}}},{key:"destroyNode",value:function(t){return this.driver.destroyNode(t)}},{key:"createTexture",value:function(t,e,n){var r=this.nextTextureId++,A={descType:"texture",txType:t,props:e,options:y(y({},n),{},{id:r})};return this.textureTracker.registerTexture(A),A}},{key:"createShader",value:function(t,e){return{descType:"shader",shType:t,props:e}}},{key:"getNodeById",value:function(t){return this.nodes.get(t)||null}},{key:"toggleFreeze",value:function(){throw new Error("Not implemented")}},{key:"advanceFrame",value:function(){throw new Error("Not implemented")}},{key:"rerender",value:function(){throw new Error("Not implemented")}}]),A}(c),oe=function(t){i(n,t);var e=s(n);function n(t,r,A){var o;return p(this,n),m(l(o=e.call(this)),"node",void 0),m(l(o),"props",void 0),m(l(o),"settings",void 0),m(l(o),"propStartValues",{}),m(l(o),"restoreValues",{}),m(l(o),"progress",0),m(l(o),"timingFunction",void 0),m(l(o),"propsList",void 0),o.node=t,o.props=r,o.settings=A,o.propStartValues={},o.propsList=Object.keys(r),o.propsList.forEach((function(e){o.propStartValues[e]=t[e]})),o.timingFunction=function(t){return t},A.easing&&"string"==typeof A.easing&&(o.timingFunction=f(A.easing)),o}return h(n,[{key:"reset",value:function(){this.progress=0,this.update(0)}},{key:"restore",value:function(){var t=this;this.reset(),Object.keys(this.props).forEach((function(e){t.node[e]=t.propStartValues[e]}))}},{key:"reverse",value:function(){var t=this;this.progress=0,Object.keys(this.props).forEach((function(e){var n=t.props[e],r=t.propStartValues[e];t.props[e]=r,t.propStartValues[e]=n})),this.settings.loop||(this.settings.stopMethod=!1)}},{key:"applyEasing",value:function(t,e,n){return(this.timingFunction(t)||t)*(n-e)+e}},{key:"update",value:function(t){var e=this.settings,n=e.duration,r=e.loop,A=e.easing,o=e.stopMethod;if(n)if(this.progress+=t/n,this.progress>1&&(this.progress=r?0:1,o))this.emit("finished",{});else{for(var i=0;i<this.propsList.length;i++){var a=this.propsList[i],s=this.props[a],u=this.propStartValues[a],l=s;if(-1===a.indexOf("color"))this.node[a]=A?this.applyEasing(this.progress,u,l):u+(l-u)*this.progress;else{if(u===l){this.node[a]=u;continue}if(A){var c=this.timingFunction(this.progress)||this.progress,d=g(u,l,c);this.node[a]=d;continue}this.node[a]=g(u,l,this.progress)}}1===this.progress&&this.emit("finished",{})}else this.emit("finished",{})}}]),n}(c),ie=function(){function t(e,n){p(this,t),m(this,"manager",void 0),m(this,"animation",void 0),m(this,"stoppedPromise",null),m(this,"stoppedResolve",null),m(this,"state",void 0),this.manager=e,this.animation=n,this.state="stopped"}return h(t,[{key:"start",value:function(){return this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}},{key:"stop",value:function(){return this.manager.unregisterAnimation(this.animation),null!==this.stoppedResolve&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}},{key:"pause",value:function(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}},{key:"restore",value:function(){return this.stoppedResolve=null,this.animation.restore(),this}},{key:"waitUntilStopped",value:function(){this.makeStoppedPromise();var t=this.stoppedPromise;return a(t),t}},{key:"makeStoppedPromise",value:function(){var t=this;null===this.stoppedResolve&&(this.stoppedPromise=new Promise((function(e){t.stoppedResolve=e})))}},{key:"finished",value:function(){a(this.stoppedResolve);var t=this.animation.settings,e=t.loop;if("reverse"===t.stopMethod)return this.animation.reverse(),void this.start();this.stoppedResolve(),this.stoppedResolve=null,e||this.manager.unregisterAnimation(this.animation)}}]),t}(),ae=function(){function t(e){p(this,t),m(this,"data",void 0),e?(this.data=new Float32Array(9),this.data[0]=e[0],this.data[3]=e[3],this.data[6]=e[6],this.data[1]=e[1],this.data[4]=e[4],this.data[7]=e[7],this.data[2]=e[2],this.data[5]=e[5],this.data[8]=e[8]):this.data=new Float32Array(9)}return h(t,[{key:"translate",value:function(t,e){return this.data[6]=this.data[0]*t+this.data[3]*e+this.data[6],this.data[7]=this.data[1]*t+this.data[4]*e+this.data[7],this}},{key:"scale",value:function(t,e){return this.data[0]=this.data[0]*t,this.data[3]=this.data[3]*e,this.data[1]=this.data[1]*t,this.data[4]=this.data[4]*e,this}},{key:"rotate",value:function(t){if(0===t||!(t%Math.PI*2))return this;var e=Math.cos(t),n=Math.sin(t),r=this.data[0]*e+this.data[3]*n,A=this.data[3]*e-this.data[0]*n,o=this.data[1]*e+this.data[4]*n,i=this.data[4]*e-this.data[1]*n;return this.data[0]=r,this.data[3]=A,this.data[1]=o,this.data[4]=i,this}},{key:"multiply",value:function(e){return t.multiply(this,e,this)}},{key:"tx",get:function(){return this.data[6]}},{key:"ty",get:function(){return this.data[7]}},{key:"ta",get:function(){return this.data[0]}},{key:"tb",get:function(){return this.data[3]}},{key:"tc",get:function(){return this.data[1]}},{key:"td",get:function(){return this.data[4]}},{key:"transformPoint",value:function(t,e){return[this.data[0]*t+this.data[3]*e+this.data[6],this.data[1]*t+this.data[4]*e+this.data[1]]}}],[{key:"temp",get:function(){return se}},{key:"multiply",value:function(e,n,r){var A=e.data[0]*n.data[0]+e.data[3]*n.data[1]+e.data[6]*n.data[2],o=e.data[0]*n.data[3]+e.data[3]*n.data[4]+e.data[6]*n.data[5],i=e.data[0]*n.data[6]+e.data[3]*n.data[7]+e.data[6]*n.data[8],a=e.data[1]*n.data[0]+e.data[4]*n.data[1]+e.data[7]*n.data[2],s=e.data[1]*n.data[3]+e.data[4]*n.data[4]+e.data[7]*n.data[5],u=e.data[1]*n.data[6]+e.data[4]*n.data[7]+e.data[7]*n.data[8],l=e.data[2]*n.data[0]+e.data[5]*n.data[1]+e.data[8]*n.data[2],c=e.data[2]*n.data[3]+e.data[5]*n.data[4]+e.data[8]*n.data[5],d=e.data[2]*n.data[6]+e.data[5]*n.data[7]+e.data[8]*n.data[8];return r||(r=new t),r.data[0]=A,r.data[3]=o,r.data[6]=i,r.data[1]=a,r.data[4]=s,r.data[7]=u,r.data[2]=l,r.data[5]=c,r.data[8]=d,r}},{key:"identity",value:function(e){return e||(e=new t),e.data[0]=1,e.data[3]=0,e.data[6]=0,e.data[1]=0,e.data[4]=1,e.data[7]=0,e.data[2]=0,e.data[5]=0,e.data[8]=1,e}},{key:"translate",value:function(e,n,r){return r||(r=new t),r.data[0]=1,r.data[3]=0,r.data[6]=e,r.data[1]=0,r.data[4]=1,r.data[7]=n,r.data[2]=0,r.data[5]=0,r.data[8]=1,r}},{key:"scale",value:function(e,n,r){return r||(r=new t),r.data[0]=e,r.data[3]=0,r.data[6]=0,r.data[1]=0,r.data[4]=n,r.data[7]=0,r.data[2]=0,r.data[5]=0,r.data[8]=1,r}},{key:"rotate",value:function(e,n){var r=Math.cos(e),A=Math.sin(e);return n||(n=new t),n.data[0]=r,n.data[3]=-A,n.data[6]=0,n.data[1]=A,n.data[4]=r,n.data[7]=0,n.data[2]=0,n.data[5]=0,n.data[8]=1,n}},{key:"copy",value:function(e,n,r){return n||(n=new t),n.data[0]=e.data[0],n.data[1]=e.data[1],n.data[2]=e.data[2],n.data[3]=e.data[3],n.data[4]=e.data[4],n.data[5]=e.data[5],n.data[6]=e.data[6],n.data[7]=e.data[7],n.data[8]=e.data[8],n}}]),t}(),se=new ae;!function(t){t[t.Children=1]="Children",t[t.ScaleRotate=2]="ScaleRotate",t[t.Local=4]="Local",t[t.Global=8]="Global",t[t.Clipping=16]="Clipping",t[t.CalculatedZIndex=32]="CalculatedZIndex",t[t.ZIndexSortedChildren=64]="ZIndexSortedChildren",t[t.PremultipliedColors=128]="PremultipliedColors",t[t.WorldAlpha=256]="WorldAlpha",t[t.None=0]="None",t[t.All=511]="All"}(Jt||(Jt={}));var ue=function(t){i(n,t);var e=s(n);function n(t,r){var A;return p(this,n),m(l(A=e.call(this)),"stage",void 0),m(l(A),"children",[]),m(l(A),"props",void 0),m(l(A),"updateType",Jt.All),m(l(A),"globalTransform",void 0),m(l(A),"scaleRotateTransform",void 0),m(l(A),"localTransform",void 0),m(l(A),"clippingRect",null),m(l(A),"isRenderable",!1),m(l(A),"parentClippingRect",null),m(l(A),"worldAlpha",1),m(l(A),"premultipliedColorTl",0),m(l(A),"premultipliedColorTr",0),m(l(A),"premultipliedColorBl",0),m(l(A),"premultipliedColorBr",0),m(l(A),"calcZIndex",0),m(l(A),"isComplex",!1),m(l(A),"onTextureLoaded",(function(t,e){A.stage.requestRender(),A.emit("loaded",{type:"texture",dimensions:e})})),m(l(A),"onTextureFailed",(function(t,e){A.emit("failed",{type:"texture",error:e})})),A.stage=t,A.props=y(y({},r),{},{parent:null}),A.parent=r.parent,A.updateScaleRotateTransform(),A}return h(n,[{key:"loadTexture",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.props.texture&&this.unloadTexture();var A=this.stage.txManager.loadTexture(t,e,r);this.props.texture=A,this.props.textureOptions=r,this.checkIsRenderable(),queueMicrotask((function(){"loaded"===A.state?n.onTextureLoaded(A,A.dimensions):"failed"===A.state&&n.onTextureFailed(A,A.error),A.on("loaded",n.onTextureLoaded),A.on("failed",n.onTextureFailed)}))}},{key:"unloadTexture",value:function(){this.props.texture&&(this.props.texture.off("loaded",this.onTextureLoaded),this.props.texture.off("failed",this.onTextureFailed)),this.props.texture=null,this.props.textureOptions=null,this.checkIsRenderable()}},{key:"loadShader",value:function(t,e){var n=this.stage.renderer.getShaderManager();a(n);var r=n.loadShader(t,e),A=r.shader,o=r.props;this.props.shader=A,this.props.shaderProps=o,this.checkIsRenderable()}},{key:"setUpdateType",value:function(t){this.updateType|=t;var e=this.props.parent;!e||e.updateType&Jt.Children||e.setUpdateType(Jt.Children)}},{key:"sortChildren",value:function(){this.children.sort((function(t,e){return t.calcZIndex-e.calcZIndex}))}},{key:"updateScaleRotateTransform",value:function(){this.scaleRotateTransform=ae.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}},{key:"updateLocalTransform",value:function(){a(this.scaleRotateTransform);var t=this.props.pivotX*this.props.width,e=this.props.pivotY*this.props.height,n=this.props.mountX*this.props.width,r=this.props.mountY*this.props.height;this.localTransform=ae.translate(t-n+this.props.x,e-r+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-t,-e),this.setUpdateType(Jt.Global)}},{key:"update",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.updateType&Jt.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(Jt.Local)),this.updateType&Jt.Local&&(this.updateLocalTransform(),this.setUpdateType(Jt.Global));var r=this.props.parent,A=Jt.None;this.updateType&Jt.Global&&(a(this.localTransform),this.globalTransform=ae.copy((null==r?void 0:r.globalTransform)||this.localTransform,this.globalTransform),r&&this.globalTransform.multiply(this.localTransform),this.setUpdateType(Jt.Clipping|Jt.Children),A|=Jt.Global),this.updateType&Jt.Clipping&&(this.calculateClippingRect(n),this.checkIsRenderable(),this.setUpdateType(Jt.Children),A|=Jt.Clipping),this.updateType&Jt.WorldAlpha&&(this.worldAlpha=r?r.worldAlpha*this.props.alpha:this.props.alpha,this.setUpdateType(Jt.Children|Jt.PremultipliedColors),A|=Jt.WorldAlpha),this.updateType&Jt.PremultipliedColors&&(this.premultipliedColorTl=x(this.props.colorTl,this.worldAlpha,!0),this.premultipliedColorTr=x(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=x(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=x(this.props.colorBr,this.worldAlpha,!0),this.checkIsRenderable(),this.setUpdateType(Jt.Children),A|=Jt.PremultipliedColors),r&&this.updateType&Jt.CalculatedZIndex&&(this.calculateZIndex(),r.setUpdateType(Jt.ZIndexSortedChildren)),this.updateType&Jt.Children&&this.children.length&&this.children.forEach((function(n){n.setUpdateType(A),0!==n.updateType&&n.update(t,e.clippingRect)})),this.updateType&Jt.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}},{key:"checkIsRenderable",value:function(){var t=this;if(this.props.texture)return this.isRenderable=!0;if(this.props.shader)return this.isRenderable=!0;if(this.props.clipping)return this.isRenderable=!0;return["color","colorTop","colorBottom","colorLeft","colorRight","colorTl","colorTr","colorBl","colorBr"].some((function(e){return 0!==t.props[e]}))?this.isRenderable=!0:this.isRenderable=!1}},{key:"calculateClippingRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(a(this.globalTransform),this.parentClippingRect!==t||!this.clippingRect){var e=this.globalTransform,n=0!==e.tb||0!==e.tc,r=this.props.clipping&&!n?{x:e.tx,y:e.ty,width:this.width*e.ta,height:this.height*e.td}:null;t&&r?r=C(t,r):t&&(r=t),this.parentClippingRect=t,this.clippingRect=r}}},{key:"calculateZIndex",value:function(){var t,e,n=this.props,r=n.zIndex||0,A=(null===(t=n.parent)||void 0===t?void 0:t.zIndex)||0,o=r;null!==(e=n.parent)&&void 0!==e&&e.zIndexLocked&&(o=r<A?r:A),this.calcZIndex=o}},{key:"renderQuads",value:function(t){var e=this.props,n=e.width,r=e.height,A=e.texture,o=e.textureOptions,i=e.shader,s=e.shaderProps,u=this.premultipliedColorTl,l=this.premultipliedColorTr,c=this.premultipliedColorBl,d=this.premultipliedColorBr,f=this.zIndex,h=this.worldAlpha,p=this.globalTransform,v=this.clippingRect;a(p),t.addQuad({width:n,height:r,colorTl:u,colorTr:l,colorBl:c,colorBr:d,texture:A,textureOptions:o,zIndex:f,shader:i,shaderProps:s,alpha:h,clippingRect:v,tx:p.tx,ty:p.ty,ta:p.ta,tb:p.tb,tc:p.tc,td:p.td})}},{key:"id",get:function(){return this.props.id}},{key:"x",get:function(){return this.props.x},set:function(t){this.props.x!==t&&(this.props.x=t,this.setUpdateType(Jt.Local))}},{key:"absX",get:function(){var t,e;return this.props.x+((null===(t=this.props.parent)||void 0===t?void 0:t.absX)||(null===(e=this.props.parent)||void 0===e||null===(e=e.globalTransform)||void 0===e?void 0:e.tx)||0)}},{key:"absY",get:function(){var t,e;return this.props.y+(null!==(t=null===(e=this.props.parent)||void 0===e?void 0:e.absY)&&void 0!==t?t:0)}},{key:"y",get:function(){return this.props.y},set:function(t){this.props.y!==t&&(this.props.y=t,this.setUpdateType(Jt.Local))}},{key:"width",get:function(){return this.props.width},set:function(t){this.props.width!==t&&(this.props.width=t,this.setUpdateType(Jt.Local))}},{key:"height",get:function(){return this.props.height},set:function(t){this.props.height!==t&&(this.props.height=t,this.setUpdateType(Jt.Local))}},{key:"scale",get:function(){return this.scaleX},set:function(t){this.scaleX=t,this.scaleY=t}},{key:"scaleX",get:function(){return this.props.scaleX},set:function(t){this.props.scaleX!==t&&(this.props.scaleX=t,this.setUpdateType(Jt.ScaleRotate))}},{key:"scaleY",get:function(){return this.props.scaleY},set:function(t){this.props.scaleY!==t&&(this.props.scaleY=t,this.setUpdateType(Jt.ScaleRotate))}},{key:"mount",get:function(){return this.props.mount},set:function(t){this.props.mountX===t&&this.props.mountY===t||(this.props.mountX=t,this.props.mountY=t,this.props.mount=t,this.setUpdateType(Jt.Local))}},{key:"mountX",get:function(){return this.props.mountX},set:function(t){this.props.mountX!==t&&(this.props.mountX=t,this.setUpdateType(Jt.Local))}},{key:"mountY",get:function(){return this.props.mountY},set:function(t){this.props.mountY!==t&&(this.props.mountY=t,this.setUpdateType(Jt.Local))}},{key:"pivot",get:function(){return this.props.pivot},set:function(t){this.props.pivotX===t&&this.props.pivotY===t||(this.props.pivotX=t,this.props.pivotY=t,this.props.pivot=t,this.setUpdateType(Jt.Local))}},{key:"pivotX",get:function(){return this.props.pivotX},set:function(t){this.props.pivotX!==t&&(this.props.pivotX=t,this.setUpdateType(Jt.Local))}},{key:"pivotY",get:function(){return this.props.pivotY},set:function(t){this.props.pivotY!==t&&(this.props.pivotY=t,this.setUpdateType(Jt.Local))}},{key:"rotation",get:function(){return this.props.rotation},set:function(t){this.props.rotation!==t&&(this.props.rotation=t,this.setUpdateType(Jt.ScaleRotate))}},{key:"alpha",get:function(){return this.props.alpha},set:function(t){this.props.alpha=t,this.setUpdateType(Jt.PremultipliedColors|Jt.WorldAlpha)}},{key:"clipping",get:function(){return this.props.clipping},set:function(t){this.props.clipping=t,this.setUpdateType(Jt.Clipping)}},{key:"color",get:function(){return this.props.color},set:function(t){this.props.colorTl===t&&this.props.colorTr===t&&this.props.colorBl===t&&this.props.colorBr===t||(this.colorTl=t,this.colorTr=t,this.colorBl=t,this.colorBr=t),this.props.color=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorTop",get:function(){return this.props.colorTop},set:function(t){this.props.colorTl===t&&this.props.colorTr===t||(this.colorTl=t,this.colorTr=t),this.props.colorTop=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorBottom",get:function(){return this.props.colorBottom},set:function(t){this.props.colorBl===t&&this.props.colorBr===t||(this.colorBl=t,this.colorBr=t),this.props.colorBottom=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorLeft",get:function(){return this.props.colorLeft},set:function(t){this.props.colorTl===t&&this.props.colorBl===t||(this.colorTl=t,this.colorBl=t),this.props.colorLeft=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorRight",get:function(){return this.props.colorRight},set:function(t){this.props.colorTr===t&&this.props.colorBr===t||(this.colorTr=t,this.colorBr=t),this.props.colorRight=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorTl",get:function(){return this.props.colorTl},set:function(t){this.props.colorTl=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorTr",get:function(){return this.props.colorTr},set:function(t){this.props.colorTr=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorBl",get:function(){return this.props.colorBl},set:function(t){this.props.colorBl=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"colorBr",get:function(){return this.props.colorBr},set:function(t){this.props.colorBr=t,this.setUpdateType(Jt.PremultipliedColors)}},{key:"zIndexLocked",get:function(){return this.props.zIndexLocked||0},set:function(t){this.props.zIndexLocked=t,this.setUpdateType(Jt.CalculatedZIndex|Jt.Children),this.children.forEach((function(t){t.setUpdateType(Jt.CalculatedZIndex)}))}},{key:"zIndex",get:function(){return this.props.zIndex},set:function(t){this.props.zIndex=t,this.setUpdateType(Jt.CalculatedZIndex|Jt.Children),this.children.forEach((function(t){t.setUpdateType(Jt.CalculatedZIndex)}))}},{key:"parent",get:function(){return this.props.parent},set:function(t){var e=this.props.parent;if(e!==t){if(this.props.parent=t,e){var n=e.children.indexOf(this);a(-1!==n,"CoreNode.parent: Node not found in old parent's children!"),e.children.splice(n,1)}t&&(t.children.push(this),this.setUpdateType(Jt.All),t.setUpdateType(Jt.Children|Jt.ZIndexSortedChildren)),this.updateScaleRotateTransform()}}}]),n}(c),le=1;function ce(){return le++}var de=function(t){i(n,t);var e=s(n);function n(t,r,A,o){var i,a;return p(this,n),m(l(a=e.call(this)),"rendererMain",void 0),m(l(a),"stage",void 0),m(l(a),"id",void 0),m(l(a),"coreNode",void 0),m(l(a),"_children",[]),m(l(a),"_src",""),m(l(a),"_parent",null),m(l(a),"_texture",null),m(l(a),"_shader",null),m(l(a),"onTextureLoaded",(function(t,e){a.emit("loaded",e)})),m(l(a),"onTextureFailed",(function(t,e){a.emit("failed",e)})),a.rendererMain=r,a.stage=A,a.id=null!==(i=null==o?void 0:o.id)&&void 0!==i?i:ce(),a.coreNode=o||new ue(a.stage,{id:a.id,x:t.x,y:t.y,width:t.width,height:t.height,alpha:t.alpha,clipping:t.clipping,color:t.color,colorTop:t.colorTop,colorBottom:t.colorBottom,colorLeft:t.colorLeft,colorRight:t.colorRight,colorTl:t.colorTl,colorTr:t.colorTr,colorBl:t.colorBl,colorBr:t.colorBr,zIndex:t.zIndex,zIndexLocked:t.zIndexLocked,scaleX:t.scaleX,scaleY:t.scaleY,mountX:t.mountX,mountY:t.mountY,mount:t.mount,pivot:t.pivot,pivotX:t.pivotX,pivotY:t.pivotY,rotation:t.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null}),a.coreNode.on("loaded",a.onTextureLoaded),a.coreNode.on("failed",a.onTextureFailed),a.parent=t.parent,a.shader=t.shader,a.texture=t.texture,a.src=t.src,a}return h(n,[{key:"x",get:function(){return this.coreNode.x},set:function(t){this.coreNode.x=t}},{key:"y",get:function(){return this.coreNode.y},set:function(t){this.coreNode.y=t}},{key:"width",get:function(){return this.coreNode.width},set:function(t){this.coreNode.width=t}},{key:"height",get:function(){return this.coreNode.height},set:function(t){this.coreNode.height=t}},{key:"alpha",get:function(){return this.coreNode.alpha},set:function(t){this.coreNode.alpha=t}},{key:"clipping",get:function(){return this.coreNode.clipping},set:function(t){this.coreNode.clipping=t}},{key:"color",get:function(){return this.coreNode.color},set:function(t){this.coreNode.color=t}},{key:"colorTop",get:function(){return this.coreNode.colorTop},set:function(t){this.coreNode.colorTop=t}},{key:"colorBottom",get:function(){return this.coreNode.colorBottom},set:function(t){this.coreNode.colorBottom=t}},{key:"colorLeft",get:function(){return this.coreNode.colorLeft},set:function(t){this.coreNode.colorLeft=t}},{key:"colorRight",get:function(){return this.coreNode.colorRight},set:function(t){this.coreNode.colorRight=t}},{key:"colorTl",get:function(){return this.coreNode.colorTl},set:function(t){this.coreNode.colorTl=t}},{key:"colorTr",get:function(){return this.coreNode.colorTr},set:function(t){this.coreNode.colorTr=t}},{key:"colorBl",get:function(){return this.coreNode.colorBl},set:function(t){this.coreNode.colorBl=t}},{key:"colorBr",get:function(){return this.coreNode.colorBr},set:function(t){this.coreNode.colorBr=t}},{key:"scale",get:function(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX},set:function(t){null!==t&&(this.coreNode.scaleX=t,this.coreNode.scaleY=t)}},{key:"scaleX",get:function(){return this.coreNode.scaleX},set:function(t){this.coreNode.scaleX=t}},{key:"scaleY",get:function(){return this.coreNode.scaleY},set:function(t){this.coreNode.scaleY=t}},{key:"mount",get:function(){return this.coreNode.mount},set:function(t){this.coreNode.mount=t}},{key:"mountX",get:function(){return this.coreNode.mountX},set:function(t){this.coreNode.mountX=t}},{key:"mountY",get:function(){return this.coreNode.mountY},set:function(t){this.coreNode.mountY=t}},{key:"pivot",get:function(){return this.coreNode.pivot},set:function(t){this.coreNode.pivot=t}},{key:"pivotX",get:function(){return this.coreNode.pivotX},set:function(t){this.coreNode.pivotX=t}},{key:"pivotY",get:function(){return this.coreNode.pivotY},set:function(t){this.coreNode.pivotY=t}},{key:"rotation",get:function(){return this.coreNode.rotation},set:function(t){this.coreNode.rotation=t}},{key:"parent",get:function(){return this._parent},set:function(t){var e,n=this._parent;if(this._parent=t,this.coreNode.parent=null!==(e=null==t?void 0:t.coreNode)&&void 0!==e?e:null,n){var r=n.children.indexOf(this);a(-1!==r,"MainOnlyNode.parent: Node not found in old parent's children!"),n.children.splice(r,1)}t&&t.children.push(this)}},{key:"children",get:function(){return this._children}},{key:"zIndex",get:function(){return this.coreNode.zIndex},set:function(t){this.coreNode.zIndex=t}},{key:"zIndexLocked",get:function(){return this.coreNode.zIndexLocked},set:function(t){this.coreNode.zIndexLocked=t}},{key:"src",get:function(){return this._src},set:function(t){this._src!==t&&(this._src=t,this.texture=t?this.rendererMain.createTexture("ImageTexture",{src:t}):null)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),t&&this.rendererMain.textureTracker.incrementTextureRefCount(t),this._texture=t,t?this.coreNode.loadTexture(t.txType,t.props,t.options):this.coreNode.unloadTexture())}},{key:"shader",get:function(){return this._shader},set:function(t){this._shader!==t&&(this._shader=t,t&&this.coreNode.loadShader(t.shType,t.props))}},{key:"destroy",value:function(){this.emit("beforeDestroy",{}),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}},{key:"flush",value:function(){}},{key:"animate",value:function(t,e){var n=new oe(this.coreNode,t,e);return new ie(this.stage.animationManager,n)}}]),n}(c),fe=function(t){i(n,t);var e=s(n);function n(t){return p(this,n),e.call(this,{renderer:t,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}return h(n,[{key:"bindTextures",value:function(t){var e=this.gl;e.getParameter(e.TEXTURE_BINDING_2D)!==t[0].ctxTexture&&(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture))}}]),n}(b);m(fe,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});var he=function(t){i(n,t);var e=s(n);function n(t){var r;return p(this,n),m(l(r=e.call(this,{renderer:t,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]})),"supportsIndexedTextures",!0),r}return h(n,[{key:"bindTextures",value:function(t){var e=this.renderer,n=this.gl;if(t.length>e.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error("DefaultShaderBatched: Cannot bind more than ".concat(e.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS," textures"));t.forEach((function(t,e){n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,t.ctxTexture)}));var r=Array.from(Array(t.length).keys());this.setUniform("u_textures[0]",r)}}]),n}(b);m(he,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:function(t){return"\n      #define txUnits ".concat(t,"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[").concat(t,"], int idx, vec2 uv) {\n        ").concat(Array.from(Array(t).keys()).map((function(t){return"\n          ".concat(0!==t?"else ":"","if (idx == ").concat(t,") {\n            return texture2D(textures[").concat(t,"], uv);\n          }\n        ")})).join(""),"\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    ")}});var pe=function(){function t(e){p(this,t),m(this,"priority",1),m(this,"name",""),m(this,"ref",void 0),m(this,"target",void 0),m(this,"passParameters",""),m(this,"declaredUniforms",""),m(this,"uniformInfo",{});var n=e.ref,r=e.target,A=e.props,o=void 0===A?{}:A;this.ref=n,this.target=r;var i={},a=[],s="",u=this.constructor.uniforms||{};for(var l in u){var c=u[l],d=c.type,f="".concat(n,"_").concat(l),h="";c.size&&(h="[".concat(c.size(o),"]")),a.push(f),s+="uniform ".concat(d," ").concat(f).concat(h,";"),i[l]={name:f,uniform:u[l].method}}this.passParameters=a.join(","),this.declaredUniforms=s,this.uniformInfo=i}return h(t,null,[{key:"getEffectKey",value:function(t){return""}},{key:"getMethodParameters",value:function(t,e){var n=[];for(var r in t){var A=t[r],o="";A.size&&(o="[".concat(A.size(e),"]")),n.push("".concat(A.type," ").concat(r).concat(o))}return n.join(",")}},{key:"resolveDefaults",value:function(t){return{}}},{key:"makeEffectKey",value:function(t){return!1}}]),t}();m(pe,"uniforms",{}),m(pe,"methods",void 0),m(pe,"onShaderMask",void 0),m(pe,"onColorize",void 0),m(pe,"onEffectMask",void 0);var ve=function(t){i(n,t);var e=s(n);function n(t,r,A){var o;p(this,n);var i=n.createShader(r,A);return m(l(o=e.call(this,{renderer:t,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"}].concat(v(i.uniforms)),shaderSources:{vertex:i.vertex,fragment:i.fragment}})),"effects",[]),o.effects=i.effects,o}return h(n,[{key:"bindTextures",value:function(t){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture)}},{key:"bindProps",value:function(t){var e,n=this,r=this.renderer.shManager.getRegisteredEffects();null===(e=t.effects)||void 0===e||e.forEach((function(t,e){var A,o=n.effects[e],i=r[o.name],a=null!==(A=t.props)&&void 0!==A?A:{},s=o.uniformInfo;Object.keys(a).forEach((function(t){var e=i.uniforms[t],r=s[t],A=e.validator?e.validator(a[t],a):a[t];Array.isArray(A)&&(A=new Float32Array(A)),n.setUniform(r.name,A)}))}))}}],[{key:"createShader",value:function(t,e){var r={},A={},o="",i=[],a=[],s=t.effects.map((function(t){var n=e[t.type],A=n.getEffectKey(t.props||{});r[A]=r[A]?++r[A]:1;var s=r[A];1===s&&a.push({key:A,type:t.type,props:t.props});var u=new n({ref:"".concat(A).concat(1===s?"":s),target:A,props:t.props});return o+=u.declaredUniforms,i.push.apply(i,v(Object.values(u.uniformInfo))),u})),u="";null==a||a.forEach((function(t){var r,o=e[t.type],i=o.resolveDefaults(null!==(r=t.props)&&void 0!==r?r:{}),a=[];for(var s in o.methods){var l=s,c=o.methods[s];A[s]&&A[s]!==c&&(l=n.resolveMethodDuplicate(s,c,A)),A[l]=c.replace("function",l),a.push({m:s,cm:l})}var d=o.onShaderMask instanceof Function?o.onShaderMask(i):o.onShaderMask,f=o.onColorize instanceof Function?o.onColorize(i):o.onColorize,h=o.onEffectMask instanceof Function?o.onEffectMask(i):o.onEffectMask;a.forEach((function(t){var e=t.m,n=t.cm,r=new RegExp("\\$".concat(e),"g");d&&(d=d.replace(r,n)),f&&(f=f.replace(r,n)),h&&(h=h.replace(r,n))}));var p=o.getMethodParameters(o.uniforms,i),v=p.length>0?", ".concat(p):"";d&&(u+="\n        float fx_".concat(t.key,"_onShaderMask(float shaderMask ").concat(v,") {\n          ").concat(d,"\n        }\n        ")),f&&(u+="\n          vec4 fx_".concat(t.key,"_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(v,") {\n            ").concat(f,"\n          }\n        ")),h&&(u+="\n          vec4 fx_".concat(t.key,"_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(v,") {\n            ").concat(h,"\n          }\n        "))}));var l="";for(var c in A)l+=A[c];for(var d="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",f="\n\n    ",h=0;h<s.length;h++){var p=s[h],g=p.passParameters.length>0?", ".concat(p.passParameters):"",y=e[p.name];y.onShaderMask&&(f+="\n        shaderMask = fx_".concat(p.target,"_onShaderMask(shaderMask ").concat(g,");\n        ")),y.onColorize&&(f+="\n        maskColor = fx_".concat(p.target,"_onColorize(shaderMask, maskColor, shaderColor").concat(g,");\n        ")),y.onEffectMask&&(d="fx_".concat(p.target,"_onEffectMask(shaderMask, maskColor, shaderColor").concat(g,")"));var m=s[h+1];(void 0===m||e[m.name].onEffectMask)&&(f+="\n          shaderColor = ".concat(d,";\n        "))}return{effects:s,uniforms:i,fragment:n.fragment(o,l,u,f),vertex:n.vertex()}}},{key:"resolveMethodDuplicate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,A=t+(r>0?r:"");return n[A]&&n[A]!==e?this.resolveMethodDuplicate(t,e,n,++r):A}},{key:"resolveDefaults",value:function(t,e){var n;return{effects:(null!==(n=t.effects)&&void 0!==n?n:[]).map((function(t){return{type:t.type,props:e[t.type].resolveDefaults(t.props||{})}})),$dimensions:{width:0,height:0},$alpha:0}}},{key:"makeCacheKey",value:function(t,e){var n,r="";return null===(n=t.effects)||void 0===n||n.forEach((function(t){var n=e[t.type].getEffectKey(t.props||{});r+=",".concat(n)})),"DynamicShader".concat(r)}}]),n}(b);m(ve,"z$__type__Props",void 0),m(ve,"vertex",(function(){return"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  "})),m(ve,"fragment",(function(t,e,n,r){return"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ".concat(t,"\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ").concat(e,"\n\n    ").concat(n,"\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ").concat(r,"\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  ")}));var ge=function(t){i(n,t);var e=s(n);function n(t){return p(this,n),e.call(this,{renderer:t,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}return h(n,[{key:"bindTextures",value:function(t){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture)}},{key:"bindProps",value:function(t){this.setUniform("u_radius",t.radius)}},{key:"canBatchShaderProps",value:function(t,e){return t.radius===e.radius&&t.$dimensions.width===e.$dimensions.width&&t.$dimensions.height===e.$dimensions.height}}],[{key:"resolveDefaults",value:function(t){return{radius:t.radius||10,$dimensions:{width:0,height:0}}}}]),n}(b);m(ge,"z$__type__Props",void 0),m(ge,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});var ye=new Float32Array([1,0,0,0,1,0,0,0,1]),me=function(t){i(n,t);var e=s(n);function n(t){return p(this,n),e.call(this,{renderer:t,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}return h(n,[{key:"bindTextures",value:function(t){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture)}},{key:"bindProps",value:function(t){var e=n.resolveDefaults(t);for(var r in e)if("transform"===r)this.setUniform("u_transform",!1,e[r]);else if("scrollY"===r)this.setUniform("u_scrollY",e[r]);else if("color"===r){var A=E(e.color);this.setUniform("u_color",A)}else"size"===r?this.setUniform("u_size",e[r]):"distanceRange"===r?this.setUniform("u_distanceRange",e[r]):"debug"===r&&this.setUniform("u_debug",e[r]?1:0)}}],[{key:"resolveDefaults",value:function(){var t,e,n,r,A,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{transform:null!==(t=i.transform)&&void 0!==t?t:ye,scrollY:null!==(e=i.scrollY)&&void 0!==e?e:0,color:null!==(n=i.color)&&void 0!==n?n:4294967295,size:null!==(r=i.size)&&void 0!==r?r:16,distanceRange:null!==(A=i.distanceRange)&&void 0!==A?A:1,debug:null!==(o=i.debug)&&void 0!==o&&o}}}]),n}(b);m(me,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n        gl_Position = vec4((transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1), 0, 1);\n        v_texcoord = a_textureCoordinate;\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});var xe=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","radius"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"radius"}},{key:"resolveDefaults",value:function(t){var e;return{radius:null!==(e=t.radius)&&void 0!==e?e:10}}}]),n}(pe);m(xe,"z$__type__Props",void 0),m(xe,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:function(t){var e=t;return Array.isArray(e)?2===e.length?e=[e[0],e[1],e[0],e[1]]:3===e.length?e=[e[0],e[1],e[2],e[0]]:4!==e.length&&(e=[e[0],e[0],e[0],e[0]]):"number"==typeof e&&(e=[e,e,e,e]),e}}}),m(xe,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),m(xe,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),m(xe,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");var we=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","border"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"border"}},{key:"resolveDefaults",value:function(t){var e,n;return{width:null!==(e=t.width)&&void 0!==e?e:10,color:null!==(n=t.color)&&void 0!==n?n:4294967295}}}]),n}(pe);m(we,"z$__type__Props",void 0),m(we,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(t){return E(t)},method:"uniform4fv",type:"vec4"}}),m(we,"onEffectMask","\n  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);\n  return mix(shaderColor, maskColor, mask);\n  "),m(we,"onColorize","\n    return color;\n  ");var Ie=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","linearGradient"),t}return h(n,null,[{key:"getEffectKey",value:function(t){return"linearGradient".concat(t.colors.length)}},{key:"resolveDefaults",value:function(t){var e,n,r=null!==(e=t.colors)&&void 0!==e?e:[4278190080,4294967295],A=t.stops;if(!A){A=[];for(var o=r.length-1,i=0;i<r.length;i++)A.push(i*(1/o))}return{colors:r,stops:A,angle:null!==(n=t.angle)&&void 0!==n?n:0}}}]),n}(pe);m(Ie,"z$__type__Props",void 0),m(Ie,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:function(t){return t.map((function(t){return E(t)})).reduce((function(t,e){return t.concat(e)}),[])},size:function(t){return t.colors.length},method:"uniform4fv",type:"vec4"},stops:{value:[],validator:function(t,e){var n,r=null!==(n=e.colors)&&void 0!==n?n:[],A=t,o=t;if(0===A.length||A&&A.length!==r.length){for(var i=0;i<r.length;i++)A[i]?(o[i]=A[i],void 0===A[i-1]&&void 0!==o[i-2]&&(o[i-1]=o[i-2]+(A[i]-o[i-2])/2)):o[i]=i*(1/(r.length-1));A=o}return o},size:function(t){return t.colors.length},method:"uniform1fv",type:"float"}}),m(Ie,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),m(Ie,"ColorLoop",(function(t){for(var e="",n=2;n<t;n++)e+="colorOut = mix(colorOut, colors[".concat(n,"], clamp((dist - stops[").concat(n-1,"]) / (stops[").concat(n,"] - stops[").concat(n-1,"]), 0.0, 1.0));");return e})),m(Ie,"onColorize",(function(t){var e=t.colors.length||1;return"\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      for(int i = 1; i < ".concat(e,"-1; i++) {\n        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);\n        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));\n      }\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")}));var Ce=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","grayscale"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"grayscale"}}]),n}(pe);m(Ce,"onColorize","\n    vec3 color = pow(maskColor.rgb, vec3(2.0));\n    float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n    float gammaGray = sqrt(gray);\n    return vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  ");var be=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","borderRight"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"borderRight"}},{key:"resolveDefaults",value:function(t){var e,n;return{width:null!==(e=t.width)&&void 0!==e?e:10,color:null!==(n=t.color)&&void 0!==n?n:4294967295}}}]),n}(pe);m(be,"z$__type__Props",void 0),m(be,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(t){return E(t)},method:"uniform4fv",type:"vec4"}}),m(be,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),m(be,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),m(be,"onColorize","\n    return color;\n  ");var Ee=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","borderTop"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"borderTop"}},{key:"resolveDefaults",value:function(t){var e,n;return{width:null!==(e=t.width)&&void 0!==e?e:10,color:null!==(n=t.color)&&void 0!==n?n:4294967295}}}]),n}(pe);m(Ee,"z$__type__Props",void 0),m(Ee,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(t){return E(t)},method:"uniform4fv",type:"vec4"}}),m(Ee,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),m(Ee,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),m(Ee,"onColorize","\n    return color;\n  ");var Te=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","borderBottom"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"borderBottom"}},{key:"resolveDefaults",value:function(t){var e,n;return{width:null!==(e=t.width)&&void 0!==e?e:10,color:null!==(n=t.color)&&void 0!==n?n:4294967295}}}]),n}(pe);m(Te,"z$__type__Props",void 0),m(Te,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(t){return E(t)},method:"uniform4fv",type:"vec4"}}),m(Te,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),m(Te,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),m(Te,"onColorize","\n    return color;\n  ");var Me=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","borderLeft"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"borderLeft"}},{key:"resolveDefaults",value:function(t){var e,n;return{width:null!==(e=t.width)&&void 0!==e?e:10,color:null!==(n=t.color)&&void 0!==n?n:4294967295}}}]),n}(pe);m(Me,"z$__type__Props",void 0),m(Me,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(t){return E(t)},method:"uniform4fv",type:"vec4"}}),m(Me,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),m(Me,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),m(Me,"onColorize","\n    return color;\n  ");var Le=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","glitch"),t}return h(n,null,[{key:"getEffectKey",value:function(t){return"glitch"}},{key:"resolveDefaults",value:function(t){var e,n,r,A,o;return{amplitude:null!==(e=t.amplitude)&&void 0!==e?e:.2,narrowness:null!==(n=t.narrowness)&&void 0!==n?n:4,blockiness:null!==(r=t.blockiness)&&void 0!==r?r:2,minimizer:null!==(A=t.minimizer)&&void 0!==A?A:8,time:null!==(o=t.time)&&void 0!==o?o:Date.now()}}}]),n}(pe);m(Le,"z$__type__Props",void 0),m(Le,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:function(t){return(Date.now()-t)%1e3},type:"float"}}),m(Le,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),m(Le,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");var Be=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","fadeOut"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"fadeOut"}},{key:"resolveDefaults",value:function(t){var e;return{fade:null!==(e=t.fade)&&void 0!==e?e:10}}}]),n}(pe);m(Be,"z$__type__Props",void 0),m(Be,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:function(t){var e=t;return Array.isArray(e)?2===e.length?e=[e[0],e[1],e[0],e[1]]:3===e.length?e=[e[0],e[1],e[2],e[0]]:4!==e.length&&(e=[e[0],e[0],e[0],e[0]]):"number"==typeof e&&(e=[e,e,e,e]),e}}}),m(Be,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");var ke=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","radialGradient"),t}return h(n,null,[{key:"getEffectKey",value:function(t){return"radialGradient".concat(t.colors.length)}},{key:"resolveDefaults",value:function(t){var e,n,r,A,o,i=null!==(e=t.colors)&&void 0!==e?e:[4278190080,4294967295],a=t.stops;if(!a){a=[];for(var s=i.length-1,u=0;u<i.length;u++)a.push(u*(1/s))}return{colors:i,stops:a,width:null!==(n=t.width)&&void 0!==n?n:0,height:null!==(r=null!==(A=t.height)&&void 0!==A?A:t.width)&&void 0!==r?r:0,pivot:null!==(o=t.pivot)&&void 0!==o?o:[.5,.5]}}}]),n}(pe);m(ke,"z$__type__Props",void 0),m(ke,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:function(t){return t.map((function(t){return E(t)})).reduce((function(t,e){return t.concat(e)}),[])},size:function(t){return t.colors.length},method:"uniform4fv",type:"vec4"},stops:{value:[],validator:function(t,e){var n,r=null!==(n=e.colors)&&void 0!==n?n:[],A=t,o=t;if(0===A.length||A&&A.length!==r.length){for(var i=0;i<r.length;i++)A[i]?(o[i]=A[i],void 0===A[i-1]&&void 0!==o[i-2]&&(o[i-1]=o[i-2]+(A[i]-o[i-2])/2)):o[i]=i*(1/(r.length-1));A=o}return o},size:function(t){return t.colors.length},method:"uniform1fv",type:"float"}}),m(ke,"onColorize",(function(t){var e=t.colors.length||1;return"\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      for(int i = 1; i < ".concat(e,"-1; i++) {\n        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);\n        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));\n      }\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")}));var Se=function(t){i(n,t);var e=s(n);function n(){var t;p(this,n);for(var r=arguments.length,A=new Array(r),o=0;o<r;o++)A[o]=arguments[o];return m(l(t=e.call.apply(e,[this].concat(A))),"name","radialProgress"),t}return h(n,null,[{key:"getEffectKey",value:function(){return"radialProgress"}},{key:"resolveDefaults",value:function(t){var e,n,r,A,o,i,a;return{width:null!==(e=t.width)&&void 0!==e?e:10,progress:null!==(n=t.progress)&&void 0!==n?n:.5,offset:null!==(r=t.offset)&&void 0!==r?r:0,range:null!==(A=t.range)&&void 0!==A?A:2*Math.PI,rounded:null!==(o=t.rounded)&&void 0!==o&&o,radius:null!==(i=t.radius)&&void 0!==i?i:1,color:null!==(a=t.color)&&void 0!==a?a:4294967295}}}]),n}(pe);m(Se,"z$__type__Props",void 0),m(Se,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:function(t){return t?1:0}},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(t){return E(t)},method:"uniform4fv",type:"vec4"}}),m(Se,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),m(Se,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),m(Se,"onColorize","\n    return color;\n  ");var Ne=function(){function t(){p(this,t),m(this,"shCache",new Map),m(this,"shConstructors",{}),m(this,"attachedShader",null),m(this,"effectConstructors",{}),m(this,"renderer",void 0),this.registerShaderType("DefaultShader",fe),this.registerShaderType("DefaultShaderBatched",he),this.registerShaderType("RoundedRectangle",ge),this.registerShaderType("DynamicShader",ve),this.registerShaderType("SdfShader",me),this.registerEffectType("border",we),this.registerEffectType("borderBottom",Te),this.registerEffectType("borderLeft",Me),this.registerEffectType("borderRight",be),this.registerEffectType("borderTop",Ee),this.registerEffectType("fadeOut",Be),this.registerEffectType("linearGradient",Ie),this.registerEffectType("radialGradient",ke),this.registerEffectType("grayscale",Ce),this.registerEffectType("glitch",Le),this.registerEffectType("radius",xe),this.registerEffectType("radialProgress",Se)}return h(t,[{key:"registerShaderType",value:function(t,e){this.shConstructors[t]=e}},{key:"registerEffectType",value:function(t,e){this.effectConstructors[t]=e}},{key:"getRegisteredEffects",value:function(){return this.effectConstructors}},{key:"getRegisteredShaders",value:function(){return this.shConstructors}},{key:"loadShader",value:function(t,e){if(!this.renderer)throw new Error("Renderer is not been defined");var n=this.shConstructors[t];if(!n)throw new Error('Shader type "'.concat(t,'" is not registered'));if("DynamicShader"===t)return this.loadDynamicShader(e);var r=n.resolveDefaults(e),A=n.makeCacheKey(r)||n.name;if(A&&this.shCache.has(A))return{shader:this.shCache.get(A),props:r};var o=new n(this.renderer,e);return A&&this.shCache.set(A,o),{shader:o,props:r}}},{key:"loadDynamicShader",value:function(t){if(!this.renderer)throw new Error("Renderer is not been defined");var e=ve.resolveDefaults(t,this.effectConstructors),n=ve.makeCacheKey(e,this.effectConstructors);if(n&&this.shCache.has(n))return{shader:this.shCache.get(n),props:e};var r=new ve(this.renderer,t,this.effectConstructors);return n&&this.shCache.set(n,r),{shader:r,props:e}}},{key:"useShader",value:function(t){this.attachedShader!==t&&(this.attachedShader&&this.attachedShader.detach(),t.attach(),this.attachedShader=t)}}]),t}(),je=function(){function t(){p(this,t),m(this,"activeAnimations",new Set)}return h(t,[{key:"registerAnimation",value:function(t){this.activeAnimations.add(t)}},{key:"unregisterAnimation",value:function(t){this.activeAnimations.delete(t)}},{key:"update",value:function(t){this.activeAnimations.forEach((function(e){e.update(t)}))}}]),t}(),De=function(t){i(A,t);var e,n=s(A);function A(t,e){var r;return p(this,A),m(l(r=n.call(this,t)),"props",void 0),r.props=A.resolveDefaults(e),r}return h(A,[{key:"getTextureData",value:(e=o(r().mark((function t(){var e,n,A,o,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.src,A=e.premultiplyAlpha,n){t.next=3;break}return t.abrupt("return",{data:null});case 3:if(!(n instanceof ImageData)){t.next=5;break}return t.abrupt("return",{data:n,premultiplyAlpha:A});case 5:return t.next=7,fetch(n);case 7:return o=t.sent,t.next=10,o.blob();case 10:return i=t.sent,t.next=13,createImageBitmap(i,{premultiplyAlpha:A?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"});case 13:return t.t0=t.sent,t.abrupt("return",{data:t.t0});case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(t){var e=A.resolveDefaults(t);return!(e.src instanceof ImageData)&&"ImageTexture,".concat(e.src,",").concat(e.premultiplyAlpha)}},{key:"resolveDefaults",value:function(t){var e,n;return{src:null!==(e=t.src)&&void 0!==e?e:"",premultiplyAlpha:null===(n=t.premultiplyAlpha)||void 0===n||n}}}]),A}(T);m(De,"z$__type__Props",void 0);var Qe=function(t){i(A,t);var e,n=s(A);function A(t,e){var r;return p(this,A),m(l(r=n.call(this,t)),"props",void 0),r.props=A.resolveDefaults(e),r}return h(A,[{key:"getTextureData",value:(e=o(r().mark((function t(){var e,n,A,o,i,a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=this.props,n=e.width,A=e.height,o=n*A*4,i=new Uint8ClampedArray(o),a=0;a<o;a+=4)s=Math.floor(256*Math.random()),i[a]=s,i[a+1]=s,i[a+2]=s,i[a+3]=255;return t.abrupt("return",{data:new ImageData(i,n,A)});case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(t){var e=A.resolveDefaults(t);return"NoiseTexture,".concat(e.width,",").concat(e.height,",").concat(e.cacheId)}},{key:"resolveDefaults",value:function(t){var e,n,r;return{width:null!==(e=t.width)&&void 0!==e?e:128,height:null!==(n=t.height)&&void 0!==n?n:128,cacheId:null!==(r=t.cacheId)&&void 0!==r?r:0}}}]),A}(T);m(Qe,"z$__type__Props",void 0);var ze=function(){function t(){p(this,t),m(this,"usedMemory",0),m(this,"txConstructors",{}),m(this,"textureKeyCache",new Map),m(this,"textureIdCache",new Map),m(this,"ctxTextureCache",new WeakMap),m(this,"textureRefCountMap",new WeakMap),m(this,"renderer",void 0),this.registerTextureType("ImageTexture",De),this.registerTextureType("ColorTexture",M),this.registerTextureType("NoiseTexture",Qe),this.registerTextureType("SubTexture",L)}return h(t,[{key:"registerTextureType",value:function(t,e){this.txConstructors[t]=e}},{key:"loadTexture",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=this.txConstructors[t];if(!A)throw new Error('Texture type "'.concat(t,'" is not registered'));if(void 0!==(null==r?void 0:r.id)&&this.textureIdCache.has(r.id)&&(n=this.textureIdCache.get(r.id)),!n){var o,i=null==r?void 0:r.id,a=null!==(o=null==r?void 0:r.cacheKey)&&void 0!==o?o:A.makeCacheKey(e);n=a&&this.textureKeyCache.has(a)?this.textureKeyCache.get(a):new A(this,e),i&&this.addTextureIdToCache(i,a,n)}null!=r&&r.preload&&this.getCtxTexture(n).load();return n}},{key:"addTextureIdToCache",value:function(t,e,n){var r=this.textureIdCache,A=this.textureRefCountMap;r.set(t,n),A.has(n)?A.get(n).count++:(A.set(n,{cacheKey:e,count:1}),e&&this.textureKeyCache.set(e,n))}},{key:"removeTextureIdFromCache",value:function(t){var e=this.textureIdCache,n=this.textureRefCountMap,r=e.get(t);if(r&&(e.delete(t),n.has(r))){var A=n.get(r);a(A),A.count--,0===A.count&&(n.delete(r),A.cacheKey&&this.textureKeyCache.delete(A.cacheKey))}}},{key:"getDebugInfo",value:function(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}},{key:"getCtxTexture",value:function(t){if(this.ctxTextureCache.has(t))return this.ctxTextureCache.get(t);var e=this.renderer.createCtxTexture(t);return this.ctxTextureCache.set(t,e),e}}]),t}(),Re=function(){function t(e){p(this,t),m(this,"textRenderers",void 0),this.textRenderers=e}return h(t,[{key:"addFontFace",value:function(t){for(var e in this.textRenderers){var n=this.textRenderers[e];n&&n.isFontFaceSupported(t)&&n.addFontFace(t)}}}],[{key:"resolveFontFace",value:function(t,e){return t.reduce((function(t,n){if(t)return t;var r=n[e.fontFamily];if(r){var A,o=new Set(r),i=I(o);try{for(i.s();!(A=i.n()).done;){var a=A.value;a.descriptors.stretch===e.fontStretch&&a.descriptors.style===e.fontStyle&&a.descriptors.weight===e.fontWeight||o.delete(a)}}catch(s){i.e(s)}finally{i.f()}return o.values().next().value}}),void 0)||[][0]}}]),t}(),_e={x:function(t,e){t.props.x=e},y:function(t,e){t.props.y=e},width:function(t,e){t.props.width=e},height:function(t,e){t.props.height=e},color:function(t,e){t.props.color=e},zIndex:function(t,e){t.props.zIndex=e},fontFamily:function(t,e){t.props.fontFamily=e},fontWeight:function(t,e){t.props.fontWeight=e},fontStyle:function(t,e){t.props.fontStyle=e},fontStretch:function(t,e){t.props.fontStretch=e},fontSize:function(t,e){t.props.fontSize=e},text:function(t,e){t.props.text=e},textAlign:function(t,e){t.props.textAlign=e},contain:function(t,e){t.props.contain=e},offsetY:function(t,e){t.props.offsetY=e},scrollable:function(t,e){t.props.scrollable=e},scrollY:function(t,e){t.props.scrollY=e},letterSpacing:function(t,e){t.props.letterSpacing=e},debug:function(t,e){t.props.debug=e}},Pe=function(){function t(e){p(this,t),m(this,"stage",void 0),m(this,"set",void 0),this.stage=e;var n=y(y({},_e),this.getPropertySetters());this.set=Object.freeze(Object.fromEntries(Object.entries(n).map((function(t){var e=w(t,2),n=e[0],r=e[1];return[n,function(t,e){t.props[n]!==e&&r(t,e)}]}))))}return h(t,[{key:"setStatus",value:function(t,e,n){t.status!==e&&(t.status=e,t.emitter.emit(e,n))}},{key:"scheduleUpdateState",value:function(t){var e=this;t.updateScheduled||(t.updateScheduled=!0,queueMicrotask((function(){t.updateScheduled=!1,e.updateState(t)})))}}]),t}();var Oe=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,t),m(this,"iterator",void 0),m(this,"peekBuffer",[]),m(this,"_lastIndex",void 0),this.iterator=e,this.iterator=e,this._lastIndex=n-1,this.peekBuffer=[]}return h(t,[{key:"next",value:function(){var t=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return t.done?this._lastIndex=-1:this._lastIndex++,t}},{key:"peek",value:function(){if(this.peekBuffer.length>0)return this.peekBuffer[0];var t=this.iterator.next();return this.peekBuffer.push(t),t}},{key:"lastIndex",get:function(){return this._lastIndex}}]),t}();function Fe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r().mark((function n(){var A,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:A=e;case 1:if(!(A<t.length)){n.next=10;break}if(void 0!==(o=t.codePointAt(A))){n.next=5;break}throw new Error("Invalid Unicode code point");case 5:return n.next=7,o;case 7:A+=o<=65535?1:2,n.next=1;break;case 10:case"end":return n.stop()}}),n)}))()}function Ye(t,e,n,r,A,o,i,s,u,l,c,d,f,h,p,v){a(h,"Font face must be loaded"),a(h.loaded,"Font face must be loaded"),a(h.data,"Font face must be loaded"),a(h.shaper,"Font face must be loaded");for(var g,y=h.data.info.size,m=s/y,x=o/m,w=u/m,C=d[t],b=(null==C?void 0:C.codepointIndex)||0,E=(null==C?void 0:C.maxX)||0,T=(null==C?void 0:C.maxY)||0,M=e,L=n,B=0,k={codepointIndex:-1,bufferOffset:-1,xStart:-1},S=h.shaper,N={letterSpacing:w},j=S.shapeText(N,new Oe(Fe(r,b),b)),D=-1,Q=[],z=i/m,R=function(t,e,n){var r,A=0,o=I(n.shapeText(e,new Oe(Fe(t,0),0)));try{for(o.s();!(r=o.n()).done;){var i=r.value;i.mapped&&(A+=i.xAdvance)}}catch(a){o.e(a)}finally{o.f()}return A}("...",N,S),_=!0;_;){for(var P="both"!==c||v||L+y+y<=z,O=P?x:x-R,F=0;(g=j.next())&&!g.done;){var Y=g.value;if(t===d.length)d.push({codepointIndex:Y.cluster,maxY:T,maxX:E});else if(t>d.length)throw new Error("Unexpected lineCache length");if(32===Y.codepoint||10===Y.codepoint?-1!==k.codepointIndex&&(k.codepointIndex=-1,F=M):-1===k.codepointIndex&&(k.codepointIndex=Y.cluster,k.bufferOffset=B,k.xStart=F),Y.mapped){var W=M+Y.xOffset+Y.width;if("none"!==c&&W>=O&&-1!==k.codepointIndex&&k.codepointIndex<Y.cluster&&k.xStart>0){if(P){j=S.shapeText(N,new Oe(Fe(r,k.codepointIndex),k.codepointIndex)),B=k.bufferOffset;break}j=S.shapeText(N,new Oe(Fe("...",0),0)),M=k.xStart,B=k.bufferOffset}else{var H=M+Y.xOffset,U=L+Y.yOffset,G=!f||L+y>=f.y1/m,X=!f||L<=f.y2/m;if(G&&X){-1===D&&(D=B);var Z=h.getAtlasEntry(Y.glyphId),V=Z.x/h.data.common.scaleW,q=Z.y/h.data.common.scaleH,J=Z.width/h.data.common.scaleW,K=Z.height/h.data.common.scaleH;l[B++]=H,l[B++]=U,l[B++]=V,l[B++]=q,l[B++]=H+Y.width,l[B++]=U,l[B++]=V+J,l[B++]=q,l[B++]=H,l[B++]=U+Y.height,l[B++]=V,l[B++]=q+K,l[B++]=H+Y.width,l[B++]=U+Y.height,l[B++]=V+J,l[B++]=q+K}T=Math.max(T,U+Y.height),M+=Y.xAdvance,E=Math.max(E,M)}}else if(10===Y.codepoint)break}-1!==D&&(Q.push({bufferStart:D,bufferEnd:B}),D=-1),M=0,L+=y,t++,k.codepointIndex=-1,F=0,!p&&"both"===c&&f&&L>f.y2/m||g&&g.done?_=!1:"both"!==c||v||P||(_=!1)}if("center"===A)for(var $="none"===c?E:x,tt=0;tt<Q.length;tt++)for(var et=Q[tt],nt=($-(l[et.bufferEnd-4]-l[et.bufferStart]))/2,rt=et.bufferStart;rt<et.bufferEnd;rt+=4)l[rt]+=nt;else if("right"===A)for(var At="none"===c?E:x,ot=0;ot<Q.length;ot++)for(var it=Q[ot],at=At-(it.bufferEnd===it.bufferStart?0:l[it.bufferEnd-4]-l[it.bufferStart]),st=it.bufferStart;st<it.bufferEnd;st+=4)l[st]+=at;return a(g),{bufferNumFloats:B,bufferNumQuads:B/16,layoutNumCharacters:g.done?r.length-b:g.value.cluster-b+1,fullyProcessed:!!g.done,maxX:E,maxY:T}}var We=k(0,0,0,0),He=function(t){i(n,t);var e=s(n);function n(t){var r;return p(this,n),m(l(r=e.call(this,t)),"ssdfFontFamilies",{}),m(l(r),"msdfFontFamilies",{}),m(l(r),"sdfShader",void 0),m(l(r),"rendererBounds",void 0),r.sdfShader=r.stage.shManager.loadShader("SdfShader").shader,r.rendererBounds={x1:0,y1:0,x2:r.stage.options.appWidth,y2:r.stage.options.appHeight},r}return h(n,[{key:"getPropertySetters",value:function(){var t=this;return{fontFamily:function(e,n){e.props.fontFamily=n,e.trFontFace=void 0,t.invalidateLayoutCache(e)},fontWeight:function(e,n){e.props.fontWeight=n,e.trFontFace=void 0,t.invalidateLayoutCache(e)},fontStyle:function(e,n){e.props.fontStyle=n,e.trFontFace=void 0,t.invalidateLayoutCache(e)},fontStretch:function(e,n){e.props.fontStretch=n,e.trFontFace=void 0,t.invalidateLayoutCache(e)},fontSize:function(e,n){e.props.fontSize=n,t.invalidateLayoutCache(e)},text:function(e,n){e.props.text=n,t.invalidateLayoutCache(e)},textAlign:function(e,n){e.props.textAlign=n,t.invalidateLayoutCache(e)},color:function(t,e){t.props.color=e},x:function(e,n){e.props.x=n,t.invalidateVisibleWindowCache(e)},y:function(e,n){e.props.y=n,t.invalidateVisibleWindowCache(e)},contain:function(e,n){e.props.contain=n,t.invalidateLayoutCache(e)},width:function(e,n){e.props.width=n,t.invalidateLayoutCache(e)},height:function(e,n){e.props.height=n,t.invalidateLayoutCache(e)},offsetY:function(e,n){e.props.offsetY=n,t.invalidateLayoutCache(e)},scrollable:function(e,n){e.props.scrollable=n,t.invalidateLayoutCache(e)},scrollY:function(e,n){e.props.scrollY=n,t.scheduleUpdateState(e)},letterSpacing:function(e,n){e.props.letterSpacing=n,t.invalidateLayoutCache(e)},debug:function(t,e){t.props.debug=e}}}},{key:"canRenderFont",value:function(t){var e=t.fontFamily;return e in this.ssdfFontFamilies||e in this.msdfFontFamilies||"$$SDF_FAILURE_TEST$$"===e}},{key:"isFontFaceSupported",value:function(t){return t instanceof S}},{key:"addFontFace",value:function(t){a(t instanceof S);var e=t.fontFamily,n="ssdf"===t.type?this.ssdfFontFamilies:"msdf"===t.type?this.msdfFontFamilies:void 0;if(n){var r=n[e];r||(r=new Set,n[e]=r),r.add(t)}else console.warn("Invalid font face type: ".concat(t.type))}},{key:"createState",value:function(t){return{props:t,status:"initialState",updateScheduled:!1,emitter:new c,lineCache:[],forceFullLayoutCalc:!1,renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}},{key:"updateState",value:function(t){var e=this,n=t.trFontFace,r=t.textH,A=t.lineCache,o=t.debugData,i=t.forceFullLayoutCalc;if(o.updateCount++,"initialState"===t.status&&this.setStatus(t,"loading"),!n&&(n=this.resolveFontFace(t.props),t.trFontFace=n,!n)){var s="SdfTextRenderer: Could not resolve font face for family: '".concat(t.props.fontFamily,"'");return console.error(s),void this.setStatus(t,"failed",new Error(s))}if(n.loaded){a(n.data,"Font face data should be loaded");var u=t.props,l=u.text,c=u.fontSize,d=u.x,f=u.y,h=u.contain,p=u.width,v=u.height,g=u.scrollable,y="both"===h&&g?t.props.scrollY:0,m=t.renderWindow,x=n.data.info.size,w=c/x;t.distanceRange=w*n.data.distanceField.distanceRange;var I=24*l.length,C=t.vertexBuffer;(!C||C.length<I)&&(C=new Float32Array(2*I));var b=t.visibleWindow;if(!b.valid){var E=k(d,f,"none"!==h?d+p:1/0,"both"===h?f+v:1/0,We);N(this.rendererBounds,E,t.visibleWindow),b.valid=!0}if(!i&&m){if(d+m.x1<=b.x1&&d+m.x2>=b.x2&&f-y+m.y1<=b.y1&&f-y+m.y2>=b.y2)return void this.setStatus(t,"loaded");m=t.renderWindow=void 0,this.setStatus(t,"loading")}var T=t.props,M=T.offsetY,L=T.textAlign;if(!m){var S=b.y2-b.y1;m=function(t,e,n,r,A,o){var i=r*A,a=o.x1-t,s=o.y1-e;return B(o)?{x1:a,y1:s+n-i,x2:a+(o.x2-o.x1),y2:s+n+(o.y2-o.y1)+i}:{x1:0,y1:0,x2:0,y2:0}}(d,f,y,x,Math.ceil(S/x),b)}var j=function(t,e,n,r,A,o,i){var a=0;A&&(a=Math.min(Math.max(Math.floor(A.y1/t),0),o.length));var s=e/n+a*r;if(!(i&&s>=i/n))return{x:0,y:s,lineIndex:a}}(c,M,w,x,m,A,r);if(j){var D=t.props.letterSpacing,Q=Ye(j.lineIndex,j.x,j.y,l,L,p,v,c,D,C,h,A,m,n,i,g);t.bufferUploaded=!1,t.bufferNumFloats=Q.bufferNumFloats,t.bufferNumQuads=Q.bufferNumQuads,t.vertexBuffer=C,t.renderWindow=m,o.lastLayoutNumCharacters=Q.layoutNumCharacters,o.bufferSize=C.byteLength,Q.fullyProcessed&&(t.textW=Q.maxX*w,t.textH=Q.maxY*w),this.setStatus(t,"loaded")}else this.setStatus(t,"loaded")}else n.once("loaded",(function(){e.scheduleUpdateState(t)}))}},{key:"renderQuads",value:function(t,e,n,r){var A,o;if(t.vertexBuffer){performance.now();var i=this.stage.renderer;this.stage.options;var s=t.props,u=s.fontSize,l=s.color,c=s.contain,d=s.scrollable,f=s.zIndex,h=s.debug,p="both"===c&&d?t.props.scrollY:0,v=t.textW,g=void 0===v?0:v,y=t.textH,m=void 0===y?0:y,x=t.distanceRange,w=t.vertexBuffer,I=t.bufferUploaded,C=t.trFontFace,b=t.webGlBuffers;if(!b){var E=i.gl,T=4*Float32Array.BYTES_PER_ELEMENT,M=E.createBuffer();a(M),t.webGlBuffers=new j([{buffer:M,attributes:{a_position:{name:"a_position",size:2,type:E.FLOAT,normalized:!1,stride:T,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:E.FLOAT,normalized:!1,stride:T,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),t.bufferUploaded=!1,a(t.webGlBuffers),b=t.webGlBuffers}if(!I){var L,B,k=i.gl,S=null!==(L=null===(B=b)||void 0===B?void 0:B.getBuffer("a_textureCoordinate"))&&void 0!==L?L:null;k.bindBuffer(k.ARRAY_BUFFER,S),k.bufferData(k.ARRAY_BUFFER,w,k.STATIC_DRAW),t.bufferUploaded=!0}a(C);var N=new D(i.gl,i.options,b,this.sdfShader,{transform:e.data,color:Q(l,r),size:u/((null===(A=C.data)||void 0===A?void 0:A.info.size)||0),scrollY:p,distanceRange:x,debug:h.sdfShaderDebug},r,n,{height:m,width:g},0,f),z=null===(o=t.trFontFace)||void 0===o?void 0:o.texture;a(z);var R=this.stage.txManager.getCtxTexture(z);N.addTexture(R),N.length=t.bufferNumFloats,N.numQuads=t.bufferNumQuads,i.addRenderOp(N)}}},{key:"resolveFontFace",value:function(t){return Re.resolveFontFace([this.msdfFontFamilies,this.ssdfFontFamilies],t)}},{key:"invalidateVisibleWindowCache",value:function(t){t.visibleWindow.valid=!1,this.scheduleUpdateState(t)}},{key:"invalidateLayoutCache",value:function(t){t.visibleWindow.valid=!1,t.renderWindow=void 0,t.textH=void 0,t.textW=void 0,t.lineCache=[],this.setStatus(t,"loading"),this.scheduleUpdateState(t)}}]),n}(Pe),Ue=function(){function t(e,n){p(this,t),m(this,"_canvas",void 0),m(this,"_context",void 0),m(this,"_settings",void 0),m(this,"renderInfo",void 0),this._canvas=e,this._context=n,this._settings=this.mergeDefaults({})}return h(t,[{key:"settings",get:function(){return this._settings},set:function(t){this._settings=this.mergeDefaults(t)}},{key:"getPrecision",value:function(){return this._settings.precision}},{key:"setFontProperties",value:function(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}},{key:"_getFontSetting",value:function(){for(var t=[this._settings.fontFace],e=[],n=0,r=t.length;n<r;n++)"serif"===t[n]||"sans-serif"===t[n]?e.push(t[n]):e.push('"'.concat(t[n],'"'));return"".concat(this._settings.fontStyle," ").concat(this._settings.fontSize*this.getPrecision(),"px ").concat(e.join(","))}},{key:"_load",value:function(){var t=this;if(document.fonts){var e=this._getFontSetting();try{if(!document.fonts.check(e,this._settings.text))return document.fonts.load(e,this._settings.text).catch((function(t){console.warn("[Lightning] Font load error",t,e)})).then((function(){document.fonts.check(e,t._settings.text)||console.warn("[Lightning] Font not found",e)}))}catch(n){console.warn("[Lightning] Can't check font loading for "+e)}}}},{key:"calculateRenderInfo",value:function(){var t={},e=this.getPrecision(),n=this._settings.paddingLeft*e,r=this._settings.paddingRight*e,A=this._settings.fontSize*e,o=null===this._settings.offsetY?null:this._settings.offsetY*e,i=(this._settings.lineHeight||A)*e,a=this._settings.w*e,s=this._settings.h*e,u=this._settings.wordWrapWidth*e,l=this._settings.cutSx*e,c=this._settings.cutEx*e,d=this._settings.cutSy*e,f=this._settings.cutEy*e,h=(this._settings.letterSpacing||0)*e,p=this._settings.textIndent*e;this.setFontProperties();var v,g=a||2048/this.getPrecision(),y=g-n;if(y<10&&(g+=10-y,y=10),u||(u=y),this._settings.textOverflow&&!this._settings.wordWrap){var m;switch(this._settings.textOverflow){case"clip":m="";break;case"ellipsis":m=this._settings.maxLinesSuffix;break;default:m=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,u-p,m)}if(this._settings.wordWrap)v=this.wrapText(this._settings.text,u,h,p);else for(var x=(v={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]}).l.length,w=0;w<x-1;w++)v.n.push(w);var I=v.l;if(this._settings.maxLines&&I.length>this._settings.maxLines){var C,b=I.slice(0,this._settings.maxLines),E=null;if(this._settings.maxLinesSuffix){var T=this._settings.maxLinesSuffix?this.measureText(this._settings.maxLinesSuffix):0,M=this.wrapText(b[b.length-1],u-T,h,p);b[b.length-1]="".concat(M.l[0]).concat(this._settings.maxLinesSuffix),E=[M.l.length>1?M.l[1]:""]}else E=[""];var L=I.length,B=0,k=v.n.length;for(C=this._settings.maxLines;C<L;C++)E[B]+="".concat(E[B]?" ":"").concat(I[C]),C+1<k&&v.n[C+1]&&B++;t.remainingText=E.join("\n"),t.moreTextLines=!0,I=b}else t.moreTextLines=!1,t.remainingText="";for(var S,N=0,j=[],D=0;D<I.length;D++){var Q=this.measureText(I[D],h)+(0===D?p:0);j.push(Q),N=Math.max(N,Q)}if(t.lineWidths=j,a||(g=N+n+r,y=N),i=i||A,s)S=s;else{var z="bottom"!=this._settings.textBaseline?.5*A:0;S=i*(I.length-1)+z+Math.max(i,A)+(o||0)}return null===o&&(o=A),t.w=g,t.h=S,t.lines=I,t.precision=e,g||(g=1),S||(S=1),(l||c)&&(g=Math.min(g,c-l)),(d||f)&&(S=Math.min(S,f-d)),t.width=g,t.innerWidth=y,t.height=S,t.fontSize=A,t.cutSx=l,t.cutSy=d,t.cutEx=c,t.cutEy=f,t.lineHeight=i,t.lineWidths=j,t.offsetY=o,t.paddingLeft=n,t.paddingRight=r,t.letterSpacing=h,t.textIndent=p,t}},{key:"draw",value:function(t,e){var n,r,A=this.getPrecision(),o=(null==e?void 0:e.lines)||t.lines,i=(null==e?void 0:e.lineWidths)||t.lineWidths,a=e?e.lines.length*t.lineHeight:t.height;this._canvas.width=Math.min(Math.ceil(t.width+this._settings.textRenderIssueMargin),2048),this._canvas.height=Math.min(Math.ceil(a),2048),this.setFontProperties(),t.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(t.cutSx||t.cutSy)&&this._context.translate(-t.cutSx,-t.cutSy);for(var s=[],u=0,l=o.length;u<l;u++)n=0===u?t.textIndent:0,r=u*t.lineHeight+t.offsetY,"middle"==this._settings.verticalAlign?r+=(t.lineHeight-t.fontSize)/2:"bottom"==this._settings.verticalAlign&&(r+=t.lineHeight-t.fontSize),"right"===this._settings.textAlign?n+=t.innerWidth-i[u]:"center"===this._settings.textAlign&&(n+=(t.innerWidth-i[u])/2),n+=t.paddingLeft,s.push({text:o[u],x:n,y:r,w:i[u]});if(this._settings.highlight){var c=this._settings.highlightColor,d=this._settings.highlightHeight*A||1.5*t.fontSize,f=this._settings.highlightOffset*A,h=null!==this._settings.highlightPaddingLeft?this._settings.highlightPaddingLeft*A:t.paddingLeft,p=null!==this._settings.highlightPaddingRight?this._settings.highlightPaddingRight*A:t.paddingRight;this._context.fillStyle=z(c);for(var v=0;v<s.length;v++){var g=s[v];this._context.fillRect(g.x-h,g.y-t.offsetY+f,g.w+p+h,d)}}var y=null;this._settings.shadow&&(y=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=z(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*A,this._context.shadowOffsetY=this._settings.shadowOffsetY*A,this._context.shadowBlur=this._settings.shadowBlur*A),this._context.fillStyle=z(this._settings.textColor);for(var m=0,x=s.length;m<x;m++){var w=s[m];if(0===t.letterSpacing)this._context.fillText(w.text,w.x,w.y);else for(var I=w.text.split(""),C=w.x,b=0,E=I.length;b<E;b++)this._context.fillText(I[b],C,w.y),C+=this.measureText(I[b],t.letterSpacing)}y&&(this._context.shadowColor=y[0],this._context.shadowOffsetX=y[1],this._context.shadowOffsetY=y[2],this._context.shadowBlur=y[3]),(t.cutSx||t.cutSy)&&this._context.translate(t.cutSx,t.cutSy),this.renderInfo=t}},{key:"wrapWord",value:function(t,e,n){var r=this._context.measureText(n).width,A=t.length,o=this._context.measureText(t).width;if(o<=e)return t;var i=Math.floor(e*A/o),a=this._context.measureText(t.substring(0,i)).width+r;if(a>e)for(;i>0&&(a=this._context.measureText(t.substring(0,i)).width+r)>e;)i-=1;else for(;i<A;){if(!((a=this._context.measureText(t.substring(0,i)).width+r)<e)){i-=1;break}i+=1}return t.substring(0,i)+(e>=r?n:"")}},{key:"wrapText",value:function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,A=t.split(/\r?\n/g),o=[],i=[],a=0;a<A.length;a++){for(var s=[],u="",l=e-r,c=A[a].split(" "),d=0;d<c.length;d++){var f=this.measureText(c[d],n),h=f+this.measureText(" ",n);0===d||h>l?(d>0&&(s.push(u),u=""),u+=c[d],l=e-f-(0===d?r:0)):(l-=h,u+=" ".concat(c[d]))}s.push(u),u="",o=o.concat(s),a<A.length-1&&i.push(o.length)}return{l:o,n:i}}},{key:"measureText",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n?t.split("").reduce((function(t,r){return t+e._context.measureText(r).width+n}),0):this._context.measureText(t).width}},{key:"mergeDefaults",value:function(t){return y({text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,maxLinesSuffix:"..",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0},t)}}]),t}(),Ge="undefined"==typeof self?globalThis:self,Xe=(null===(e=Ge.document)||void 0===e?void 0:e.fonts)||Ge.fonts;var Ze=k(0,0,0,0),Ve=function(t){i(n,t);var e=s(n);function n(t){var r;p(this,n),m(l(r=e.call(this,t)),"canvas",void 0),m(l(r),"context",void 0),m(l(r),"rendererBounds",void 0),"undefined"!=typeof OffscreenCanvas?r.canvas=new OffscreenCanvas(0,0):r.canvas=document.createElement("canvas");var A=r.canvas.getContext("2d");return A||(r.canvas=document.createElement("canvas"),A=r.canvas.getContext("2d")),a(A),r.context=A,r.rendererBounds={x1:0,y1:0,x2:r.stage.options.appWidth,y2:r.stage.options.appHeight},r}return h(n,[{key:"getPropertySetters",value:function(){var t=this;return{fontFamily:function(e,n){e.props.fontFamily=n,e.fontInfo=void 0,t.invalidateLayoutCache(e)},fontWeight:function(e,n){e.props.fontWeight=n,e.fontInfo=void 0,t.invalidateLayoutCache(e)},fontStyle:function(e,n){e.props.fontStyle=n,e.fontInfo=void 0,t.invalidateLayoutCache(e)},fontStretch:function(e,n){e.props.fontStretch=n,e.fontInfo=void 0,t.invalidateLayoutCache(e)},fontSize:function(e,n){e.props.fontSize=n,e.fontInfo=void 0,t.invalidateLayoutCache(e)},text:function(e,n){e.props.text=n,t.invalidateLayoutCache(e)},textAlign:function(e,n){e.props.textAlign=n,t.invalidateLayoutCache(e)},color:function(e,n){e.props.color=n,t.invalidateLayoutCache(e)},x:function(e,n){e.props.x=n,t.invalidateVisibleWindowCache(e)},y:function(e,n){e.props.y=n,t.invalidateVisibleWindowCache(e)},contain:function(e,n){e.props.contain=n,t.invalidateLayoutCache(e)},width:function(e,n){e.props.width=n,t.invalidateLayoutCache(e)},height:function(e,n){e.props.height=n,t.invalidateLayoutCache(e)},offsetY:function(e,n){e.props.offsetY=n,t.invalidateLayoutCache(e)},scrollY:function(t,e){t.props.scrollY=e},letterSpacing:function(e,n){e.props.letterSpacing=n,t.invalidateLayoutCache(e)}}}},{key:"canRenderFont",value:function(t){return!0}},{key:"isFontFaceSupported",value:function(t){return t instanceof R}},{key:"addFontFace",value:function(t){a(t instanceof R),Xe.add(t.fontFace)}},{key:"createState",value:function(t){return{props:t,status:"initialState",updateScheduled:!1,emitter:new c,canvasPages:void 0,lightning2TextRenderer:new Ue(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}},{key:"updateState",value:function(t){if("initialState"===t.status&&this.setStatus(t,"loading"),!t.fontInfo){var e=(n=t.props,r=n.fontFamily,A=n.fontStyle,o=n.fontWeight,i=n.fontStretch,a=n.fontSize,[A,o,i,"".concat(a,"px"),r].join(" "));if(t.fontInfo={cssString:e,loaded:!1},!t.fontInfo.loaded)return void Xe.load(e).then(this.onFontLoaded.bind(this,t,e)).catch(this.onFontLoadError.bind(this,t,e))}var n,r,A,o,i,a;if(t.fontInfo.loaded){t.renderInfo||(t.lightning2TextRenderer.settings={text:t.props.text,textAlign:t.props.textAlign,fontFace:t.props.fontFamily,fontSize:t.props.fontSize,fontStyle:[t.props.fontStretch,t.props.fontStyle,t.props.fontWeight].join(" "),textColor:E(t.props.color),offsetY:t.props.fontSize+t.props.offsetY,wordWrap:"none"!==t.props.contain,wordWrapWidth:"none"===t.props.contain?void 0:t.props.width,letterSpacing:t.props.letterSpacing},t.renderInfo=t.lightning2TextRenderer.calculateRenderInfo(),t.textH=t.renderInfo.lineHeight*t.renderInfo.lines.length,t.textW=t.renderInfo.width,t.renderWindow=void 0);var s=t.props,u=s.x,l=s.y,c=s.width,d=s.height,f=s.scrollY,h=s.contain,p=t.visibleWindow,v=t.renderWindow,g=t.canvasPages;if(!p.valid){var y=k(u,l,"none"!==h?u+c:1/0,"both"===h?l+d:1/0,Ze);N(this.rendererBounds,y,p),p.valid=!0}var m=p.y2-p.y1,x=Math.ceil(m/t.renderInfo.lineHeight);if(0===m)return g=void 0,v=void 0,void this.setStatus(t,"loaded");if(v&&g){var w=u+v.x1,C=l-f+v.y1,b=u+v.x2,T=l-f+v.y2;if(w<=p.x1&&b>=p.x2&&C<=p.y1&&T>=p.y2)return void this.setStatus(t,"loaded");T<p.y2?(v.y1+=x*t.renderInfo.lineHeight,v.y2+=x*t.renderInfo.lineHeight,g.push(g.shift()),g[2].lineNumStart=g[1].lineNumStart+x,g[2].lineNumEnd=g[2].lineNumStart+x,g[2].valid=!1):C>p.y1&&(v.y1-=x*t.renderInfo.lineHeight,v.y2-=x*t.renderInfo.lineHeight,g.unshift(g.pop()),g[0].lineNumStart=g[1].lineNumStart-x,g[0].lineNumEnd=g[0].lineNumStart+x,g[0].valid=!1)}else{var M,L,B,S=t.renderInfo.lineHeight*x,j=Math.ceil(f/S),D=j*x,Q=D-x,z=D+x;g=[{texture:null===(M=g)||void 0===M?void 0:M[0].texture,lineNumStart:Q,lineNumEnd:Q+x,valid:!1},{texture:null===(L=g)||void 0===L?void 0:L[1].texture,lineNumStart:D,lineNumEnd:D+x,valid:!1},{texture:null===(B=g)||void 0===B?void 0:B[2].texture,lineNumStart:z,lineNumEnd:z+x,valid:!1}],t.canvasPages=g;var R=j*S;v={x1:0,y1:R-S,x2:c,y2:R+2*S}}t.renderWindow=v,performance.now();var _,P=I(g);try{for(P.s();!(_=P.n()).done;){var O=_.value;O.valid||(O.lineNumStart<0?(O.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),O.valid=!0):(t.lightning2TextRenderer.draw(t.renderInfo,{lines:t.renderInfo.lines.slice(O.lineNumStart,O.lineNumEnd),lineWidths:t.renderInfo.lineWidths.slice(O.lineNumStart,O.lineNumEnd)}),0!==this.canvas.width&&0!==this.canvas.height&&(O.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0})),O.valid=!0))}}catch(F){P.e(F)}finally{P.f()}this.setStatus(t,"loaded")}}},{key:"renderQuads",value:function(t,e,n,r){var A=this.stage,o=t.canvasPages,i=t.textW,s=void 0===i?0:i,u=t.textH,l=void 0===u?0:u,c=t.renderWindow;if(o&&c){var d=t.props,f=d.x,h=d.y,p=d.scrollY,v=d.contain,g=d.width,y=d.height,m={x:f,y:h,width:"none"!==v?g:s,height:"both"===v?y:l};C({x:0,y:0,width:A.options.appWidth,height:A.options.appHeight},m),a(o,"canvasPages is not defined"),a(c,"renderWindow is not defined");var w,I,b,E,T,M,L=(c.y2-c.y1)/3,B=t.props,k=B.zIndex,S=B.color,N=r*_(S),j=x(4294967295,N);if(o[0].valid)this.stage.renderer.addQuad({alpha:N,clippingRect:n,colorBl:j,colorBr:j,colorTl:j,colorTr:j,width:(null===(w=o[0].texture)||void 0===w||null===(w=w.dimensions)||void 0===w?void 0:w.width)||0,height:(null===(I=o[0].texture)||void 0===I||null===(I=I.dimensions)||void 0===I?void 0:I.height)||0,texture:o[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:k,tx:e.tx,ty:e.ty-p+c.y1,ta:e.ta,tb:e.tb,tc:e.tc,td:e.td});if(o[1].valid)this.stage.renderer.addQuad({alpha:N,clippingRect:n,colorBl:j,colorBr:j,colorTl:j,colorTr:j,width:(null===(b=o[1].texture)||void 0===b||null===(b=b.dimensions)||void 0===b?void 0:b.width)||0,height:(null===(E=o[1].texture)||void 0===E||null===(E=E.dimensions)||void 0===E?void 0:E.height)||0,texture:o[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:k,tx:e.tx,ty:e.ty-p+c.y1+L,ta:e.ta,tb:e.tb,tc:e.tc,td:e.td});if(o[2].valid)this.stage.renderer.addQuad({alpha:N,clippingRect:n,colorBl:j,colorBr:j,colorTl:j,colorTr:j,width:(null===(T=o[2].texture)||void 0===T||null===(T=T.dimensions)||void 0===T?void 0:T.width)||0,height:(null===(M=o[2].texture)||void 0===M||null===(M=M.dimensions)||void 0===M?void 0:M.height)||0,texture:o[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:k,tx:e.tx,ty:e.ty-p+c.y1+L+L,ta:e.ta,tb:e.tb,tc:e.tc,td:e.td})}}},{key:"invalidateVisibleWindowCache",value:function(t){t.visibleWindow.valid=!1,this.setStatus(t,"loading"),this.scheduleUpdateState(t)}},{key:"invalidateLayoutCache",value:function(t){t.renderInfo=void 0,this.setStatus(t,"loading"),this.scheduleUpdateState(t)}},{key:"onFontLoaded",value:function(t,e){var n;e===(null===(n=t.fontInfo)||void 0===n?void 0:n.cssString)&&t.fontInfo&&(t.fontInfo.loaded=!0,this.scheduleUpdateState(t))}},{key:"onFontLoadError",value:function(t,e,n){var r;e===(null===(r=t.fontInfo)||void 0===r?void 0:r.cssString)&&t.fontInfo&&(t.fontInfo.loaded=!0,console.error("CanvasTextRenderer: Error loading font '".concat(t.fontInfo.cssString,"'"),n),this.scheduleUpdateState(t))}}]),n}(Pe),qe=function(t){i(n,t);var e=s(n);function n(t){var r;p(this,n),m(l(r=e.call(this)),"options",void 0),m(l(r),"animationManager",void 0),m(l(r),"txManager",void 0),m(l(r),"fontManager",void 0),m(l(r),"textRenderers",void 0),m(l(r),"shManager",void 0),m(l(r),"renderer",void 0),m(l(r),"root",void 0),m(l(r),"deltaTime",0),m(l(r),"lastFrameTime",0),m(l(r),"currentFrameTime",0),m(l(r),"fpsNumFrames",0),m(l(r),"fpsElapsedTime",0),m(l(r),"renderRequested",!1),r.options=t;var A=t.canvas,o=t.clearColor,i=t.rootId,s=t.debug,u=t.appWidth,c=t.appHeight;r.txManager=new ze,r.shManager=new Ne,r.animationManager=new je,null!=s&&s.monitorTextureCache&&setInterval((function(){a(r.txManager);var t=r.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",t.idCacheSize),console.log("Texture Key Cache Size: ",t.keyCacheSize)}),1e3),r.renderer=new P({stage:l(r),canvas:A,pixelRatio:t.devicePhysicalPixelRatio*t.deviceLogicalPixelRatio,clearColor:null!=o?o:4278190080,bufferMemory:2e6,txManager:r.txManager,shManager:r.shManager}),r.txManager.renderer=r.renderer,r.textRenderers={canvas:new Ve(l(r)),sdf:new He(l(r))},r.fontManager=new Re(r.textRenderers);var d,f=new ue(l(r),{id:i,x:0,y:0,width:u,height:c,alpha:1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null});return r.root=f,d=l(r),requestAnimationFrame((function t(){d.updateAnimations(),d.hasSceneUpdates()?(d.drawFrame(),requestAnimationFrame(t)):setTimeout(t,16.666666666666668)})),r}return h(n,[{key:"updateAnimations",value:function(){var t=this.animationManager;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=performance?performance.now():Date.now(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,t.update(this.deltaTime))}},{key:"hasSceneUpdates",value:function(){return!!this.root.updateType||this.renderRequested}},{key:"drawFrame",value:function(){var t=this.renderer,e=this.renderRequested;0!==this.root.updateType&&this.root.update(this.deltaTime),null==t||t.reset(),this.addQuads(this.root),null==t||t.render(),e&&(this.renderRequested=!1);var n=this.options.fpsUpdateInterval;if(n&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=n)){var r=Math.round(1e3*this.fpsNumFrames/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",r)}}},{key:"addQuads",value:function(t){a(this.renderer&&t.globalTransform),t.isRenderable&&t.renderQuads(this.renderer);for(var e=0;e<t.children.length;e++){var n=t.children[e];n&&(0!==(null==n?void 0:n.worldAlpha)&&this.addQuads(n))}}},{key:"requestRender",value:function(){this.renderRequested=!0}},{key:"resolveTextRenderer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!1;if(e){var r=this.textRenderers[e];r?r.canRenderFont(t)||(console.warn("Cannot use override text renderer '".concat(e,"' for font"),t),e=null,n=!0):(console.warn("Text renderer override '".concat(e,"' not found.")),e=null,n=!0)}if(!e){for(var A=0,o=Object.entries(this.textRenderers);A<o.length;A++){var i=w(o[A],2),s=i[0],u=i[1];if("canvas"!==s&&u.canRenderFont(t)){e=s;break}}e||(e="canvas")}n&&console.warn("Falling back to text renderer ".concat(String(e)));var l=this.textRenderers[e];return a(l,"resolvedTextRenderer undefined"),l}}]),n}(c),Je=function(t){i(r,t);var e=s(r);function r(t,n){var A;p(this,r),m(l(A=e.call(this,t,n)),"textRenderer",void 0),m(l(A),"trState",void 0),m(l(A),"_textRendererOverride",null),m(l(A),"onTextLoaded",(function(){var t=l(A).contain,e=A.trState.props.width,n=A.trState.props.height,r=A.trState.textW||0,o=A.trState.textH||0;"both"===t?(A.props.width=e,A.props.height=n):"width"===t?(A.props.width=e,A.props.height=o):"none"===t&&(A.props.width=r,A.props.height=o),A.updateLocalTransform(),A.stage.requestRender(),A.emit("loaded",{type:"text",dimensions:{width:A.trState.textW||0,height:A.trState.textH||0}})})),m(l(A),"onTextFailed",(function(t,e){A.emit("failed",{type:"text",error:e})})),A._textRendererOverride=n.textRendererOverride;var o=A.resolveTextRendererAndState({x:A.absX,y:A.absY,width:n.width,height:n.height,textAlign:n.textAlign,color:n.color,zIndex:n.zIndex,contain:n.contain,scrollable:n.scrollable,scrollY:n.scrollY,offsetY:n.offsetY,letterSpacing:n.letterSpacing,debug:n.debug,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStretch:n.fontStretch,fontStyle:n.fontStyle,fontWeight:n.fontWeight,text:n.text},void 0),i=o.resolvedTextRenderer,a=o.textRendererState;return A.textRenderer=i,A.trState=a,A}return h(r,[{key:"width",get:function(){return this.trState.props.width},set:function(t){this.textRenderer.set.width(this.trState,t)}},{key:"height",get:function(){return this.trState.props.height},set:function(t){this.textRenderer.set.height(this.trState,t)}},{key:"color",get:function(){return this.trState.props.color},set:function(t){this.textRenderer.set.color(this.trState,t)}},{key:"text",get:function(){return this.trState.props.text},set:function(t){this.textRenderer.set.text(this.trState,t),this.checkIsRenderable()}},{key:"textRendererOverride",get:function(){return this._textRendererOverride},set:function(t){this._textRendererOverride=t;var e=this.resolveTextRendererAndState(this.trState.props,this.trState),n=e.resolvedTextRenderer,r=e.textRendererState;this.textRenderer=n,this.trState=r}},{key:"fontSize",get:function(){return this.trState.props.fontSize},set:function(t){this.textRenderer.set.fontSize(this.trState,t)}},{key:"fontFamily",get:function(){return this.trState.props.fontFamily},set:function(t){this.textRenderer.set.fontFamily(this.trState,t)}},{key:"fontStretch",get:function(){return this.trState.props.fontStretch},set:function(t){this.textRenderer.set.fontStretch(this.trState,t)}},{key:"fontStyle",get:function(){return this.trState.props.fontStyle},set:function(t){this.textRenderer.set.fontStyle(this.trState,t)}},{key:"fontWeight",get:function(){return this.trState.props.fontWeight},set:function(t){this.textRenderer.set.fontWeight(this.trState,t)}},{key:"textAlign",get:function(){return this.trState.props.textAlign},set:function(t){this.textRenderer.set.textAlign(this.trState,t)}},{key:"contain",get:function(){return this.trState.props.contain},set:function(t){this.textRenderer.set.contain(this.trState,t)}},{key:"scrollable",get:function(){return this.trState.props.scrollable},set:function(t){this.textRenderer.set.scrollable(this.trState,t)}},{key:"scrollY",get:function(){return this.trState.props.scrollY},set:function(t){this.textRenderer.set.scrollY(this.trState,t)}},{key:"offsetY",get:function(){return this.trState.props.offsetY},set:function(t){this.textRenderer.set.offsetY(this.trState,t)}},{key:"letterSpacing",get:function(){return this.trState.props.letterSpacing},set:function(t){this.textRenderer.set.letterSpacing(this.trState,t)}},{key:"debug",get:function(){return this.trState.props.debug},set:function(t){this.textRenderer.set.debug(this.trState,t)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(d(r.prototype),"update",this).call(this,t,e),a(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}},{key:"checkIsRenderable",value:function(){return!!n(d(r.prototype),"checkIsRenderable",this).call(this)||(""!==this.trState.props.text?this.isRenderable=!0:this.isRenderable=!1)}},{key:"renderQuads",value:function(t){a(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha)}},{key:"resolveTextRendererAndState",value:function(t,e){var n=this.stage.resolveTextRenderer(t,this._textRendererOverride),r=n.createState(t);return e&&["loading","loaded","failed"].forEach((function(t){e.emitter.off(t)})),r.emitter.on("loaded",this.onTextLoaded),r.emitter.on("failed",this.onTextFailed),n.scheduleUpdateState(r),{resolvedTextRenderer:n,textRendererState:r}}}]),r}(ue),Ke=function(t){i(n,t);var e=s(n);function n(t,r,A){return p(this,n),e.call(this,t,r,A,new Je(A,{id:ce(),x:t.x,y:t.y,width:t.width,height:t.height,alpha:t.alpha,clipping:t.clipping,color:t.color,colorTop:t.colorTop,colorBottom:t.colorBottom,colorLeft:t.colorLeft,colorRight:t.colorRight,colorTl:t.colorTl,colorTr:t.colorTr,colorBl:t.colorBl,colorBr:t.colorBr,zIndex:t.zIndex,zIndexLocked:t.zIndexLocked,scaleX:t.scaleX,scaleY:t.scaleY,mountX:t.mountX,mountY:t.mountY,mount:t.mount,pivot:t.pivot,pivotX:t.pivotX,pivotY:t.pivotY,rotation:t.rotation,text:t.text,fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStretch:t.fontStretch,fontStyle:t.fontStyle,contain:t.contain,scrollable:t.scrollable,letterSpacing:t.letterSpacing,textAlign:t.textAlign,scrollY:t.scrollY,offsetY:t.offsetY,textRendererOverride:t.textRendererOverride,debug:t.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null}))}return h(n,[{key:"text",get:function(){return this.coreNode.text},set:function(t){this.coreNode.text=t}},{key:"textRendererOverride",get:function(){return this.coreNode.textRendererOverride},set:function(t){this.coreNode.textRendererOverride=t}},{key:"fontSize",get:function(){return this.coreNode.fontSize},set:function(t){this.coreNode.fontSize=t}},{key:"fontFamily",get:function(){return this.coreNode.fontFamily},set:function(t){this.coreNode.fontFamily=t}},{key:"fontWeight",get:function(){return this.coreNode.fontWeight},set:function(t){this.coreNode.fontWeight=t}},{key:"fontStretch",get:function(){return this.coreNode.fontStretch},set:function(t){this.coreNode.fontStretch=t}},{key:"fontStyle",get:function(){return this.coreNode.fontStyle},set:function(t){this.coreNode.fontStyle=t}},{key:"textAlign",get:function(){return this.coreNode.textAlign},set:function(t){this.coreNode.textAlign=t}},{key:"contain",get:function(){return this.coreNode.contain},set:function(t){this.coreNode.contain=t}},{key:"scrollable",get:function(){return this.coreNode.scrollable},set:function(t){this.coreNode.scrollable=t}},{key:"scrollY",get:function(){return this.coreNode.scrollY},set:function(t){this.coreNode.scrollY=t}},{key:"offsetY",get:function(){return this.coreNode.offsetY},set:function(t){this.coreNode.offsetY=t}},{key:"letterSpacing",get:function(){return this.coreNode.letterSpacing},set:function(t){this.coreNode.letterSpacing=t}},{key:"debug",get:function(){return this.coreNode.debug},set:function(t){this.coreNode.debug=t}}]),n}(de),$e=function(t,e,n){return t()};function tn(t,e){return en.apply(this,arguments)}function en(){return(en=o(r().mark((function t(e,n){var o,i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Loading core extension",e),t.next=4,$e((function(){return A.import(e)}),void 0,A.meta.url);case 4:o=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),console.error("The core extension module at '".concat(e,"' could not be loaded.")),console.error(t.t0),t.abrupt("return");case 12:if(o.default){t.next=15;break}return console.error("The core extension module at '".concat(e,"' does not have a default export.")),t.abrupt("return");case 15:if(i=o.default,!(i.prototype instanceof O)){t.next=29;break}return a=new i,t.prev=18,t.next=21,a.run(n);case 21:t.next=27;break;case 23:t.prev=23,t.t1=t.catch(18),console.error("The core extension at '".concat(e,"' threw an error.")),console.error(t.t1);case 27:t.next=30;break;case 29:console.error("The core extension at '".concat(e,"' does not extend CoreExtension."));case 30:case"end":return t.stop()}}),t,null,[[0,7],[18,23]])})))).apply(this,arguments)}var nn,rn,An=function(){function t(){p(this,t),m(this,"root",null),m(this,"stage",null),m(this,"rendererMain",null)}var e;return h(t,[{key:"init",value:(e=o(r().mark((function t(e,n,A){var o,i=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.stage=new qe({rootId:ce(),appWidth:n.appWidth,appHeight:n.appHeight,deviceLogicalPixelRatio:n.deviceLogicalPixelRatio,devicePhysicalPixelRatio:n.devicePhysicalPixelRatio,clearColor:n.clearColor,canvas:A,fpsUpdateInterval:n.fpsUpdateInterval,debug:{monitorTextureCache:!1}}),this.rendererMain=e,a(this.stage.root),o=new de(e.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root),this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),!n.coreExtensionModule){t.next=10;break}return t.next=10,tn(n.coreExtensionModule,this.stage);case 10:this.stage.on("fpsUpdate",(function(t,e){i.onFpsUpdate(e)}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"createNode",value:function(t){a(this.rendererMain),a(this.stage);var e=new de(t,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}},{key:"createTextNode",value:function(t){a(this.rendererMain),a(this.stage);var e=new Ke(t,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}},{key:"destroyNode",value:function(t){t.destroy()}},{key:"releaseTexture",value:function(t){var e=this.stage;a(e),e.txManager.removeTextureIdFromCache(t)}},{key:"getRootNode",value:function(){return a(this.root),this.root}},{key:"onCreateNode",value:function(t){throw new Error("Method not implemented.")}},{key:"onBeforeDestroyNode",value:function(t){throw new Error("Method not implemented.")}},{key:"onFpsUpdate",value:function(t){throw new Error("Method not implemented.")}}]),t}();function on(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new An;return nn=new Ae(t,t.rootId||"app",e),rn=nn.createShader.bind(nn),nn}var an=function(t){i(n,t);var e=s(n);function n(t){var r;return p(this,n),(r=e.call(this))._parent=t,r}return h(n,[{key:"selected",get:function(){return this[this._parent.selected||0]}},{key:"firstChild",get:function(){return this[0]}},{key:"insert",value:function(t,e){if(e){var n=this.indexOf(e);this.splice(n,0,t)}else this.push(t);t.parent=this._parent,this._parent._isDirty=!0}},{key:"remove",value:function(t){var e=this.indexOf(t);e>=0&&this.splice(e,1)}}]),n}(t(Array));A.meta.env={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0}||{MODE:"development"};var sn={debug:!1,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}};function un(t){return"function"==typeof t}function ln(t){return Array.isArray(t)}var cn=function(t){i(n,t);var e=s(n);function n(t){var r,A=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,n);var i=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];r=e.call.apply(e,[A].concat(n))};return ln(o)?i.apply(void 0,v(o)):"string"==typeof o?i(o):i.apply(void 0,v(Object.entries(o).filter((function(t){var e=w(t,2);e[0];return e[1]})).map((function(t){return w(t,1)[0]})))),r.onChange=t,u(r,l(r))}return h(n,[{key:"has",value:function(t){return this.indexOf(t)>=0}},{key:"is",value:function(t){return this.indexOf(t)>=0}},{key:"add",value:function(t){this.push(t),this.onChange()}},{key:"toggle",value:function(t){this.has(t)?this.remove(t):this.add(t)}},{key:"remove",value:function(t){var e=this.indexOf(t);e>=0&&(this.splice(e,1),this.onChange())}}]),n}(t(Array));var dn=sn.animationSettings;function fn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{set:function(e){"number"==typeof e&&(e={width:e,color:255}),this.effects=y(y({},this.effects||{}),m({},"border".concat(t),e)),this["_border".concat(t)]=e},get:function(){return this["_border".concat(t)]}}}var hn=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],pn=["clipping","contain","fontFamily","src","text","textAlign","texture","maxLines","maxLinesSuffix","textBaseline","textOverflow","verticalAlign","wordWrap"],vn=function(t){i(n,t);var e=s(n);function n(t){var r;p(this,n),(r=e.call(this)).lng=null,r._parent=null,r.name=t,r.rendered=!1,r.autofocus=!1,r._renderProps={x:0,y:0},r.children=new an(l(r));var A,o=I(hn);try{var i=function(){var t=A.value;Object.defineProperty(l(r),t,{get:function(){return this["_".concat(t)]||this.lng&&this.lng[t]},set:function(e){var n;this["_".concat(t)]=ln(n=e)?n[0]:n,this._sendToLightningAnimatable(t,e)}})};for(o.s();!(A=o.n()).done;)i()}catch(c){o.e(c)}finally{o.f()}var a,s=I(pn);try{var u=function(){var t=a.value;Object.defineProperty(l(r),t,{get:function(){return this["_".concat(t)]||this.lng&&this.lng[t]},set:function(e){this["_".concat(t)]=e,this._sendToLightning(t,e)}})};for(s.s();!(a=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return Object.defineProperties(l(r),{borderRadius:{set:function(t){this._borderRadius=t,this.effects=y(y({},this.effects||{}),{radius:{radius:t}})},get:function(){return this._borderRadius}},border:fn(),borderLeft:fn("Left"),borderRight:fn("Right"),borderTop:fn("Top"),borderBottom:fn("Bottom")}),Object.defineProperties(l(r),{linearGradient:{set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._linearGradient=t,this.effects=y(y({},this.effects||{}),{linearGradient:t})},get:function(){return this._linearGradient}}}),r}return h(n,[{key:"effects",get:function(){return this._effects},set:function(t){this._effects=t,this.shader=function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var A=w(r[n],2),o=A[0],i=A[1];e.push({type:o,props:i})}return rn("DynamicShader",{effects:e})}(t)}},{key:"parent",get:function(){return this._parent},set:function(t){var e;(this._parent=t,this.rendered&&this.lng)&&(this.lng.parent=null!==(e=null==t?void 0:t.lng)&&void 0!==e?e:null)}},{key:"shader",get:function(){return this._shader},set:function(t){ln(t)?this._shader=rn.apply(void 0,v(t)):this._shader=t,this._sendToLightning("shader",this._shader)}},{key:"_sendToLightningAnimatable",value:function(t,e){if(this.rendered&&this.lng){if(ln(e))return this.createAnimation(m({},t,e[0]),e[1]).start();if(this._animate)return this.createAnimation(m({},t,e)).start();this.lng[t]=e}else ln(e)&&(e=e[0]),this._renderProps[t]=e}},{key:"_sendToLightning",value:function(t,e){this.rendered&&this.lng?this.lng[t]=e:this._renderProps[t]=e}},{key:"createAnimation",value:function(t,e){return a(this.lng,"Node must be rendered before animating"),this.lng.animate(t,e||this.animationSettings)}},{key:"setFocus",value:function(){this.rendered?te(this):this.autofocus=!0}},{key:"isTextNode",value:function(){return"text"===this.name}},{key:"_resizeOnTextLoad",value:function(){var t=this;this.lng.once("loaded",(function(e,n){if("text"===n.type){var r=n.dimensions;t.width=r.width,t.height=r.height,t.parent.updateLayout(t,r)}}))}},{key:"getText",value:function(){return this.children.map((function(t){return t.text})).join("")}},{key:"destroy",value:function(){this.lng&&nn.destroyNode(this.lng)}},{key:"style",get:function(){return this._style},set:function(t){for(var e in t)"animate"===e&&(e="_animate"),this[e]||(this[e]=t[e]);this._style=t}},{key:"hasChildren",get:function(){return this.children.length>0}},{key:"states",get:function(){return this._states=this._states||new cn(this._stateChanged.bind(this)),this._states},set:function(t){this._states=new cn(this._stateChanged.bind(this),t),this.rendered&&this._stateChanged()}},{key:"animationSettings",get:function(){return this._animationSettings||dn},set:function(t){this._animationSettings=t}},{key:"updateLayout",value:function(t,e){if(this.hasChildren){var n;if(un(this.onBeforeLayout)&&this.onBeforeLayout.call(this,t,e),"flex"===this.display)if(function(t){for(var e=[],n=0;n<t.children.length;n++){var r=t.children[n];if("TextNode"!==r.name){if("text"===r.name&&!r.width&&!r.height)return!1;e.push(r)}}var A=e.length,o="row"===(t.flexDirection||"row"),i=o?"width":"height",s=o?"height":"width",u=o?"marginLeft":"marginTop",l=o?"marginRight":"marginBottom",c=o?"x":"y",d=o?"y":"x",f=t[i]||0,h=t[s]||0,p=t.gap||0,v=t.justifyContent||"flexStart",g=t.alignItems,y=0;["center","spaceBetween","spaceEvenly"].includes(v)&&(y=e.reduce((function(t,e){return t+(e[i]||0)}),0));var m=h&&g?function(t){"flexStart"===g?t[d]=0:"center"===g?t[d]=(h-(t[s]||0))/2:"flexEnd"===g&&(t[d]=h-(t[s]||0))}:function(t){return t};if("flexStart"===v){var x=0;if(e.forEach((function(t){t[c]=x+(t[u]||0),x+=(t[i]||0)+p+(t[u]||0)+(t[l]||0),m(t)})),t._autosized){var w=x-p;if(w!==t[i])return t[i]=w,!0}}else if("flexEnd"===v)for(var I=f,C=A-1;C>=0;C--){var b=e[C];a(b),b[c]=I-(b[i]||0)-(b[l]||0),I-=(b[i]||0)+p+(b[u]||0)+(b[l]||0),m(b)}else if("center"===v){var E=(f-(y+p*(A-1)))/2;e.forEach((function(t){t[c]=E,E+=(t[i]||0)+p,m(t)}))}else if("spaceBetween"===v){var T=(f-y)/(A-1),M=0;e.forEach((function(t){t[c]=M,M+=(t[i]||0)+T,m(t)}))}else if("spaceEvenly"===v){var L=(f-y)/(A+1),B=L;e.forEach((function(t){t[c]=B,B+=(t[i]||0)+L,m(t)}))}return!1}(this))null===(n=this.parent)||void 0===n||n.updateLayout();un(this.onLayout)&&this.onLayout.call(this,t,e)}}},{key:"_stateChanged",value:function(){var t,e=this;if(this.states,this.forwardStates){var n=this.states.slice();this.children.forEach((function(t){return t.states=n}))}var r=(null===(t=sn.stateMapperHook)||void 0===t?void 0:t.call(sn,this,this.states))||this.states;if(this._undoStates||this.style&&function(t,e){var n,r=I(e);try{for(r.s();!(n=r.n()).done;)if(n.value in t)return!0}catch(A){r.e(A)}finally{r.f()}return!1}(this.style,r)){this._undoStates=this._undoStates||{};for(var A={},o=0,i=Object.entries(this._undoStates);o<i.length;o++){var a=w(i[o],2),s=a[0],u=a[1];r.includes(s)||(A=y(y({},A),u))}var l=r.reduce((function(t,n){var r=e.style[n];return r&&(t=y(y({},t),r),e._undoStates&&!e._undoStates[n]&&(e._undoStates[n]={},Object.keys(r).forEach((function(t){e._undoStates[n][t]=e[t]})))),t}),{});Object.assign(this,y(y({},A),l))}}},{key:"render",value:function(){var t=this,e=this.parent;e._isDirty&&(e.updateLayout(),e._isDirty=!1),t.updateLayout(),this.states.length&&this._stateChanged();var n=t._renderProps;e.lng&&(n.parent=e.lng),t.isTextNode()?((n=y(y(y({},sn.fontSettings),n),{},{text:t.getText()})).contain&&(n.width||(n.width=(e.width||0)-n.x-(n.marginRight||0),t._width=n.width,t._autosized=!0),n.height||"both"!==n.contain||(n.height=(e.height||0)-n.y-(n.marginBottom||0),t._height=n.height,t._autosized=!0)),t.lng=nn.createTextNode(n),un(this.onCreate)&&this.onCreate.call(this,t),un(t.onLoad)&&t.lng.on("loaded",t.onLoad),t.width&&t.height||(t._autosized=!0,t._resizeOnTextLoad())):(n.src||n.texture||(isNaN(n.width)&&(n.width=(e.width||0)-n.x,t._width=n.width,t._autosized=!0),isNaN(n.height)&&(n.height=(e.height||0)-n.y,t._height=n.height,t._autosized=!0),n.color||(t._color=n.color=0)),t.lng=nn.createNode(n),t.onFail&&t.lng.on("failed",t.onFail),t.onLoad&&t.lng.on("loaded",t.onLoad),un(this.onCreate)&&this.onCreate.call(this,t)),t.rendered=!0,t.autofocus&&t.setFocus(),delete this._renderProps}}]),n}(t(Object)),gn=function(t){return e=Mn("text"),Bn(e,t,!1),e;var e},yn=function(t){return e=Mn("node"),Bn(e,t,!1),e;var e};function mn(t){"TextNode"!==t.name&&(a(t instanceof vn),t.render(),t.children.forEach((function(t){return mn(t)})))}var xn=function(t){var e,n,r=on(t.options),A=r.init();return ft((function(){A.then((function(){a(e),e.lng=r.root,e.children.forEach(mn),un(t.onFirstRender)&&t.onFirstRender(e)})).catch(console.error)})),n=Mn("canvas"),"function"==typeof e?Nn(e,n):e=n,Ln(n,(function(){return t.children})),n};function wn(t){var e=t.createElement,n=t.createTextNode,r=t.isTextNode,A=t.replaceText,o=t.insertNode,i=t.removeNode,a=t.setProperty,s=t.getParentNode,u=t.getFirstChild,l=t.getNextSibling;function c(t,e,n,r){if(void 0===n||r||(r=[]),"function"!=typeof e)return d(t,e,r,n);dt((function(r){return d(t,e(),r,n)}),r)}function d(t,e,i,a,s){for(;"function"==typeof i;)i=i();if(e===i)return i;var l=typeof e,c=void 0!==a;if("string"===l||"number"===l)if("number"===l&&(e=e.toString()),c){var y=i[0];y&&r(y)?A(y,e):y=n(e),i=p(t,i,a,y)}else""!==i&&"string"==typeof i?A(u(t),i=e):(p(t,i,a,n(e)),i=e);else if(null==e||"boolean"===l)i=p(t,i,a);else{if("function"===l)return dt((function(){for(var n=e();"function"==typeof n;)n=n();i=d(t,n,i,a)})),function(){return i};if(Array.isArray(e)){var m=[];if(f(m,e,s))return dt((function(){return i=d(t,m,i,a,!0)})),function(){return i};if(0===m.length){var x=p(t,i,a);if(c)return i=x}else Array.isArray(i)?0===i.length?v(t,m,a):h(t,i,m):null==i||""===i?v(t,m):h(t,c&&i||[u(t)],m);i=m}else{if(Array.isArray(i)){if(c)return i=p(t,i,a,e);p(t,i,null,e)}else null!=i&&""!==i&&u(t)?g(t,e,u(t)):o(t,e);i=e}}return i}function f(t,e,r){for(var A=!1,o=0,i=e.length;o<i;o++){var a=e[o],s=void 0;if(null==a||!0===a||!1===a);else if(Array.isArray(a))A=f(t,a)||A;else if("string"==(s=typeof a)||"number"===s)t.push(n(a));else if("function"===s)if(r){for(;"function"==typeof a;)a=a();A=f(t,Array.isArray(a)?a:[a])||A}else t.push(a),A=!0;else t.push(a)}return A}function h(t,e,n){for(var r=n.length,A=e.length,a=r,s=0,u=0,c=l(e[A-1]),d=null;s<A||u<a;)if(e[s]!==n[u]){for(;e[A-1]===n[a-1];)A--,a--;if(A===s)for(var f=a<r?u?l(n[u-1]):n[a-u]:c;u<a;)o(t,n[u++],f);else if(a===u)for(;s<A;)d&&d.has(e[s])||i(t,e[s]),s++;else if(e[s]===n[a-1]&&n[u]===e[A-1]){var h=l(e[--A]);o(t,n[u++],l(e[s++])),o(t,n[--a],h),e[A]=n[a]}else{if(!d){d=new Map;for(var p=u;p<a;)d.set(n[p],p++)}var v=d.get(e[s]);if(null!=v)if(u<v&&v<a){for(var y=s,m=1,x=void 0;++y<A&&y<a&&null!=(x=d.get(e[y]))&&x===v+m;)m++;if(m>v-u)for(var w=e[s];u<v;)o(t,n[u++],w);else g(t,n[u++],e[s++])}else s++;else i(t,e[s++])}}else s++,u++}function p(t,e,r,A){if(void 0===r){for(var a;a=u(t);)i(t,a);return A&&o(t,A),""}var l=A||n("");if(e.length)for(var c=!1,d=e.length-1;d>=0;d--){var f=e[d];if(l!==f){var h=s(f)===t;c||d?h&&i(t,f):h?g(t,l,f):o(t,l,r)}else c=!0}else o(t,l,r);return[l]}function v(t,e,n){for(var r=0,A=e.length;r<A;r++)o(t,e[r],n)}function g(t,e,n){o(t,e,n),i(t,n)}function y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e||(e={}),(arguments.length>3?arguments[3]:void 0)||dt((function(){return n.children=d(t,e.children,n.children)})),dt((function(){return e.ref&&e.ref(t)})),dt((function(){for(var r in e)if("children"!==r&&"ref"!==r){var A=e[r];A!==n[r]&&(a(t,r,A,n[r]),n[r]=A)}})),n}return{render:function(t,e){var n;return ut((function(r){n=r,c(e,t())})),n},insert:c,spread:function(t,e,n){"function"==typeof e?dt((function(r){return y(t,e(),r,n)})):y(t,e,void 0,n)},createElement:e,createTextNode:n,insertNode:o,setProp:function(t,e,n,r){return a(t,e,n,r),n},mergeProps:Xt,effect:dt,memo:ht,createComponent:Yt,use:function(t,e,n){return gt((function(){return t(e,n)}))}}}var In={createElement:function(t){var e=new vn(t);return nn.root&&ft((function(){return e.render()})),e},createTextNode:function(t){return{name:"TextNode",text:t,parent:null}},replaceText:function(t,e){t.text=e;var n=t.parent;a(n),n._autosized&&n._resizeOnTextLoad(),n.text=n.getText()},setProperty:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"animate"!==e?t[e]=n:t._animate=n},insertNode:function(t,e,n){t&&(t.children.insert(e,n),"TextNode"===e.name&&t.isTextNode()&&(t._autosized&&t._resizeOnTextLoad(),t.text=t.getText()))},isTextNode:function(t){return t.isTextNode()},removeNode:function(t,e){t.children.remove(e),e instanceof vn&&e.destroy()},getParentNode:function(t){var e;return null!==(e=t.parent)&&void 0!==e?e:void 0},getFirstChild:function(t){return t.children[0]},getNextSibling:function(t){if(t.parent){var e=t.parent.children||[],n=e.indexOf(t)+1;if(n<e.length)return e[n]}}},Cn=function(t){var e=wn(t);return e.mergeProps=Xt,e}(In),bn=Cn.render,En=(Cn.effect,Cn.memo),Tn=Cn.createComponent,Mn=Cn.createElement,Ln=(Cn.createTextNode,Cn.insertNode,Cn.insert),Bn=Cn.spread,kn=Cn.setProp,Sn=Cn.mergeProps,Nn=Cn.use;function jn(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=e,Number.isInteger(t)?e:"string"==typeof e?e.startsWith("#")?Number(e.replace("#","0x")+(7===e.length?"ff":"")):e.startsWith("0x")?Number(e):Number("0x"+(6===e.length?e+"ff":e)):0}var Dn="_$DX_DELEGATE";function Qn(t){var e="$$".concat(t.type),n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return n||document}});n;){var r=n[e];if(r&&!n.disabled){var A=n["".concat(e,"Data")];if(void 0!==A?r.call(n,A,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}var zn=/^(?:[a-z0-9]+:)?\/\//i,Rn=/^\/+|(\/)\/+$/g;function _n(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.replace(Rn,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Pn(t,e,n){if(!zn.test(e)){var r=_n(t),A=n&&_n(n),o="";return((o=!A||e.startsWith("/")?r:0!==A.toLowerCase().indexOf(r.toLowerCase())?r+A:A)||"/")+_n(e,!o)}}function On(t){var e={};return t.searchParams.forEach((function(t,n){e[n]=t})),e}function Fn(t,e,n){var r=w(t.split("/*",2),2),A=r[0],o=r[1],i=A.split("/").filter(Boolean),a=i.length;return function(t){var r=t.split("/").filter(Boolean),A=r.length-a;if(A<0||A>0&&void 0===o&&!e)return null;for(var s={path:a?"":"/",params:{}},u=function(t){return void 0===n?void 0:n[t]},l=0;l<a;l++){var c=i[l],d=r[l],f=":"===c[0],h=f?c.slice(1):c;if(f&&Yn(d,u(h)))s.params[h]=d;else if(f||!Yn(d,c))return null;s.path+="/".concat(d)}if(o){var p=A?r.slice(-A).join("/"):"";if(!Yn(p,u(o)))return null;s.params[o]=p}return s}}function Yn(t,e){var n=function(e){return 0===e.localeCompare(t,void 0,{sensitivity:"base"})};return void 0===e||("string"==typeof e?n(e):"function"==typeof e?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp&&e.test(t))}function Wn(t){var e=new Map,n=xt();return new Proxy({},{get:function(r,A){return e.has(A)||function(t,e){var n=rt,r=ot;rt=t,ot=null;try{return kt(e,!0)}catch(A){Rt(A)}finally{rt=n,ot=r}}(n,(function(){return e.set(A,ht((function(){return t()[A]})))})),e.get(A)()},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},ownKeys:function(){return Reflect.ownKeys(t())}})}function Hn(t){var e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];for(var n=t.slice(0,e.index),r=t.slice(e.index+e[0].length),A=[n,n+=e[1]];e=/^(\/\:[^\/]+)\?/.exec(r);)A.push(n+=e[1]),r=r.slice(e[0].length);return Hn(r).reduce((function(t,e){return[].concat(v(t),v(A.map((function(t){return t+e}))))}),[])}var Un,Gn=It(),Xn=It(),Zn=function(){return function(t,e){if(null==t)throw new Error(e);return t}(Ct(Gn),"Make sure your app is wrapped in a <Router />")},Vn=function(){return Zn().navigatorFactory()},qn=function(){return Zn().location},Jn=function(){return(Ct(Xn)||Zn().base).params};function Kn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.component,r=t.load,A=t.children,o=t.metadata,i=!A||Array.isArray(A)&&!A.length,a={key:t,component:n,load:r,metadata:o};return tr(t.path).reduce((function(n,r){var A,o,s=I(Hn(r));try{for(s.s();!(A=s.n()).done;){var u=A.value,l=(o=u,_n(e).replace(/\/*(\*.*)?$/g,"")+_n(o)),c=i?l:l.split("/*",1)[0];n.push(y(y({},a),{},{originalPath:u,pattern:c,matcher:Fn(c,!i,t.matchFilters)}))}}catch(d){s.e(d)}finally{s.f()}return n}),[])}function $n(t){var e,n,r,A,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{routes:t,score:1e4*(e=t[t.length-1],n=w(e.pattern.split("/*",2),2),r=n[0],A=n[1],o=r.split("/").filter(Boolean),o.reduce((function(t,e){return t+(e.startsWith(":")?2:3)}),o.length-(void 0===A?0:1)))-i,matcher:function(e){for(var n=[],r=t.length-1;r>=0;r--){var A=t[r],o=A.matcher(e);if(!o)return null;n.unshift(y(y({},o),{},{route:A}))}return n}}}function tr(t){return Array.isArray(t)?t:[t]}function er(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],A=tr(t),o=0,i=A.length;o<i;o++){var a=A[o];if(a&&"object"==typeof a){a.hasOwnProperty("path")||(a.path="");var s,u=I(Kn(a,e));try{for(u.s();!(s=u.n()).done;){var l=s.value;n.push(l);var c=Array.isArray(a.children)&&0===a.children.length;if(a.children&&!c)er(a.children,l.pattern,n,r);else{var d=$n(v(n),r.length);r.push(d)}n.pop()}}catch(f){u.e(f)}finally{u.f()}}}return n.length?r:r.sort((function(t,e){return e.score-t.score}))}function nr(t,e){for(var n=0,r=t.length;n<r;n++){var A=t[n].matcher(e);if(A)return A}return[]}function rr(t,e){var n,A,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=w(t.signal,2),s=a[0],u=a[1],l=t.utils,c=void 0===l?{}:l,d=c.parsePath||function(t){return t},f=c.renderPath||function(t){return t},h=c.beforeLeave||(n=new Set,A=!1,{subscribe:function(t){return n.add(t),function(){return n.delete(t)}},confirm:function(t,e){if(A)return!(A=!1);var r,o={to:t,options:e,defaultPrevented:!1,preventDefault:function(){return o.defaultPrevented=!0}},i=I(n);try{var a=function(){var n=r.value;n.listener(y(y({},o),{},{from:n.location,retry:function(r){r&&(A=!0),n.navigate(t,e)}}))};for(i.s();!(r=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return!o.defaultPrevented}}),p=Pn("",i.base||"");if(void 0===p)throw new Error("".concat(p," is not a valid base path"));p&&!s().value&&u({value:p,replace:!0,scroll:!1});var v=w(lt(!1),2),g=v[0],m=v[1],x=function(){var t=o(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,wt(e);case 4:return t.prev=4,m(!1),t.finish(4);case 7:case"end":return t.stop()}}),t,null,[[1,,4,7]])})));return function(e){return t.apply(this,arguments)}}(),C=w(lt(s().value),2),b=C[0],E=C[1],T=w(lt(s().state),2),M=T[0],L=T[1],B=function(t,e){var n=new URL("http://sar"),r=ht((function(e){var r=t();try{return new URL(r,n)}catch(A){return console.error("Invalid path ".concat(r)),e}}),n,{equals:function(t,e){return t.href===e.href}}),A=ht((function(){return r().pathname})),o=ht((function(){return r().search}),!0),i=ht((function(){return r().hash}));return{get pathname(){return A()},get search(){return o()},get hash(){return i()},get state(){return e()},get key(){return""},query:Wn(yt(o,(function(){return On(r())})))}}(b,M),k=[],S=lt([]),N={pattern:p,params:{},path:function(){return p},outlet:function(){return null},resolvePath:function(t){return Pn(p,t)}};return dt((function(){var t=s(),e=t.value,n=t.state;gt((function(){e!==b()&&x((function(){Un="native",E(e),L(n),S[1]([])})).then((function(){Un=void 0}))}))})),{base:N,location:B,isRouting:g,renderPath:f,parsePath:d,navigatorFactory:function(t){return t=t||Ct(Xn)||N,function(e,n){return function(t,e,n){gt((function(){if("number"!=typeof e){var r=y({replace:!1,resolve:!0,scroll:!0},n),A=r.replace,o=r.resolve,i=r.scroll,a=r.state,s=o?t.resolvePath(e):Pn("",e);if(void 0===s)throw new Error("Path '".concat(e,"' is not a routable path"));if(k.length>=100)throw new Error("Too many redirects");var l=b();if((s!==l||a!==M())&&h.confirm(s,n)){var d=k.push({value:l,replace:A,scroll:i,state:M()});x((function(){Un="navigate",E(s),L(a),S[1]([])})).then((function(){var t,e;k.length===d&&(Un=void 0,t={value:s,state:a},(e=k[0])&&(t.value===e.value&&t.state===e.state||u(y(y({},t),{},{replace:e.replace,scroll:e.scroll})),k.length=0))}))}}else e&&(c.go?h.confirm(e,n)&&c.go(e):console.warn("Router integration does not support relative routing"))}))}(t,e,n)}},beforeLeave:h,preloadRoute:function(t,n){var r=nr(e(),t.pathname),A=Un;for(var o in Un="preload",r){var i=r[o],a=i.route,s=i.params;a.component&&a.component.preload&&a.component.preload(),n&&a.load&&a.load({params:s,location:{pathname:t.pathname,search:t.search,hash:t.hash,query:On(t),state:null,key:""},intent:"preload"})}Un=A},submissions:S}}var Ar=function(t){return function(e){var n=e.base,r=bt((function(){return e.children})),A=ht((function(){return er(e.root?{component:e.root,children:r()}:r(),e.base||"")})),o=rr(t,A,{base:n});return t.create&&t.create(o),Tn(Gn.Provider,{value:o,get children(){return Tn(or,{routerState:o,get branches(){return A()}})}})}};function or(t){var e,n=ht((function(){return nr(t.branches,t.routerState.location.pathname)})),r=Wn((function(){for(var t=n(),e={},r=0;r<t.length;r++)Object.assign(e,t[r].params);return e})),A=[],o=ht(yt(n,(function(i,a,s){for(var u=a&&i.length===a.length,l=[],c=function(e){var c=a&&a[e],d=i[e];s&&c&&d.route.key===c.route.key?l[e]=s[e]:(u=!1,A[e]&&A[e](),ut((function(i){A[e]=i,l[e]=function(t,e,n,r,A){var o=t.base,i=t.location,a=r().route,s=a.pattern,u=a.component,l=a.load,c=ht((function(){return r().path}));u&&u.preload&&u.preload();var d=l?l({params:A,location:i,intent:Un||"initial"}):void 0;return{parent:e,pattern:s,path:c,params:A,outlet:function(){return u?Yt(u,{params:A,location:i,data:d,get children(){return n()}}):n()},resolvePath:function(t){return Pn(o.path(),t,c())}}}(t.routerState,l[e-1]||t.routerState.base,ir((function(){return o()[e+1]})),(function(){return n()[e]}),r)})))},d=0,f=i.length;d<f;d++)c(d);return A.splice(i.length).forEach((function(t){return t()})),s&&u?s:(e=l[0],l)})));return Tn(qt,{get when(){return o()&&e},keyed:!0,children:function(t){return Tn(Xn.Provider,{value:t,get children(){return t.outlet()}})}})}var ir=function(t){return function(){return Tn(qt,{get when(){return t()},keyed:!0,children:function(t){return Tn(Xn.Provider,{value:t,get children(){return t.outlet()}})}})}},ar=function(t){var e=bt((function(){return t.children}));return Xt(t,{get children(){return e()}})};function sr(t){var e=!1,n=function(t){return"string"==typeof t?{value:t}:t},r=function(t,e,n){var r=w(t,2),A=r[0],o=r[1];return[e?function(){return e(A())}:A,n?function(t){return o(n(t))}:o]}(lt(n(t.get()),{equals:function(t,e){return t.value===e.value}}),void 0,(function(n){return!e&&t.set(n),n}));return t.init&&mt(t.init((function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.get();e=!0,r[1](n(A)),e=!1}))),Ar({signal:r,create:t.create,utils:t.utils})}function ur(t,e){var n=function(t){if("#"===t)return null;try{return document.querySelector(t)}catch(e){return null}}("#".concat(t));n?n.scrollIntoView():e&&window.scrollTo(0,0)}var lr=new Map;function cr(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/_server";return function(r){var A=r.base.path(),o=r.navigatorFactory(r.base),i={};function a(t){if(!(t.defaultPrevented||0!==t.button||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)){var n=t.composedPath().find((function(t){return t instanceof Node&&"A"===t.nodeName.toUpperCase()}));if(n&&(!e||n.getAttribute("link"))){var r="http://www.w3.org/2000/svg"===n.namespaceURI,o=r?n.href.baseVal:n.href;if(!(r?n.target.baseVal:n.target)&&(o||n.hasAttribute("state"))){var i=(n.getAttribute("rel")||"").split(/\s+/);if(!(n.hasAttribute("download")||i&&i.includes("external"))){var a=r?new URL(o,document.baseURI):new URL(o);if(!(a.origin!==window.location.origin||A&&a.pathname&&!a.pathname.toLowerCase().startsWith(A.toLowerCase())))return[n,a]}}}}}function s(t){var e=a(t);if(e){var n=w(e,2),A=n[0],i=n[1],s=r.parsePath(i.pathname+i.search+i.hash),u=A.getAttribute("state");t.preventDefault(),o(s,{resolve:!1,replace:A.hasAttribute("replace"),scroll:!A.hasAttribute("noscroll"),state:u&&JSON.parse(u)})}}function u(t){var e=a(t);if(e){var n=w(e,2),A=n[0],o=n[1];i[o.pathname]||r.preloadRoute(o,"false"!==A.getAttribute("preload"))}}function l(t){var e=a(t);if(e){var n=w(e,2),A=n[0],o=n[1];i[o.pathname]||(i[o.pathname]=setTimeout((function(){r.preloadRoute(o,"false"!==A.getAttribute("preload")),delete i[o.pathname]}),200))}}function c(t){var e=a(t);if(e){var n=w(e,2)[1];i[n.pathname]&&(clearTimeout(i[n.pathname]),delete i[n.pathname])}}function d(t){var e=t.submitter&&t.submitter.hasAttribute("formaction")?t.submitter.formAction:t.target.action;if(e){if(!e.startsWith("action:")){var A=new URL(e);if(!(e=r.parsePath(A.pathname+A.search)).startsWith(n))return}if("POST"!==t.target.method.toUpperCase())throw new Error("Only POST forms are supported for Actions");var o=lr.get(e);if(o){t.preventDefault();var i=new FormData(t.target);o.call(r,i)}}}!function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=e[Dn]||(e[Dn]=new Set),r=0,A=t.length;r<A;r++){var o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,Qn))}}(["click","submit"]),document.addEventListener("click",s),t&&(document.addEventListener("mouseover",l),document.addEventListener("mouseout",c),document.addEventListener("focusin",u),document.addEventListener("touchstart",u)),document.addEventListener("submit",d),mt((function(){document.removeEventListener("click",s),t&&(document.removeEventListener("mouseover",l),document.removeEventListener("mouseout",c),document.removeEventListener("focusin",u),document.removeEventListener("touchstart",u)),document.removeEventListener("submit",d)}))}}function dr(t){var e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){var n=w(window.location.hash.split("#",2),2)[1];return"".concat(void 0===n?"/":n,"#").concat(e)}return e}function fr(t){return sr({get:function(){return window.location.hash.slice(1)},set:function(t){var e=t.value,n=t.replace,r=t.scroll,A=t.state;n?window.history.replaceState(A,"","#"+e):window.location.hash=e;var o=e.indexOf("#");ur(o>=0?e.slice(o+1):"",r)},init:function(t){return e=window,n="hashchange",r=function(){return t()},e.addEventListener(n,r),function(){return e.removeEventListener(n,r)};var e,n,r},create:cr(t.preload,t.explicitLinks,t.actionBase),utils:{go:function(t){return window.history.go(t)},renderPath:function(t){return"#".concat(t)},parsePath:dr}})(t)}var hr=mt;function pr(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt(),A=0;return function(){return A++,mt((function(){A--,queueMicrotask((function(){!A&&n&&(n(),n=e=void 0)}))})),n||ut((function(r){return e=t(n=r)}),r),e}}var vr=pr((function(){var t,e,n,r,A=w(lt(null),2),o=A[0],i=A[1];return t=window,e="keydown",n=function(t){i(t),setTimeout((function(){return i(null)}))},t.addEventListener(e,n,r),hr(t.removeEventListener.bind(t,e,n,r)),o}));function gr(t){return"function"==typeof t}function yr(t,e){if(!t)throw new Error(e||"Assertion failed")}var mr,xr={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Enter:"Enter",Last:"l"},wr=w(lt([]),2),Ir=wr[0],Cr=wr[1];function br(t,e){var n,r,A,o,i=e();if(Array.isArray(i))if(2===i.length)n=o=i[0],r=A=i[1];else if(3===i.length)n=i[0],r=A=i[1],o=i[2];else{var a=w(i,4);n=a[0],A=a[1],o=a[2],r=a[3]}else n=A=o=r=i;t.onBeforeLayout=function(e,i){if(i){t.width=t.children.reduce((function(t,e){return t+(e.width||0)}),0)+r+A;var a=t.children[0];a&&(a.x=r,a.marginLeft=r);var s=0;t.children.forEach((function(t){t.y=(t.y||0)+n,t.marginTop=n,s=Math.max(s,t.height||0)})),t.height=s+n+o}}}function Er(t){return new Promise((function(e){setTimeout(e,t)}))}function Tr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",r=window.speechSynthesis;return new Promise((function(A,o){var i=new SpeechSynthesisUtterance(t);i.lang=n,i.onend=function(){A()},i.onerror=function(t){o(t)},e.push(i),r.speak(i)}))}function Mr(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],A=window.speechSynthesis,i=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];for(t=0;t<e.length;t++){var r=e[t];if("string"!=typeof r||r.includes("PAUSE-"))break;n.push(e[t])}return[n.join(",\b ")].concat(e.slice(t))}(Array.isArray(t)?t:[t]),a=[],s=[],u=!0;return{series:o(r().mark((function t(){var n,A,o,l,c,d;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!u||!i.length){t.next=62;break}return t.next=4,Promise.resolve(i.shift());case 4:if(n=t.sent,u){t.next=9;break}return t.abrupt("break",62);case 9:if("string"!=typeof n||!n.includes("PAUSE-")){t.next=16;break}return A=1e3*Number(n.split("PAUSE-")[1]),isNaN(A)&&(A=0),t.next=14,Er(A);case 14:t.next=60;break;case 16:if("string"!=typeof n||!n.length){t.next=48;break}l=o=3;case 19:if(!(u&&l>0)){t.next=46;break}return t.prev=20,t.next=23,Tr(n,s,e);case 23:l=0,t.next=44;break;case 26:if(t.prev=26,t.t0=t.catch(20),!(t.t0 instanceof SpeechSynthesisErrorEvent)){t.next=43;break}if("network"!==t.t0.error){t.next=36;break}return l--,console.warn("Speech synthesis network error. Retries left: ".concat(l)),t.next=34,Er(500*(o-l));case 34:t.next=41;break;case 36:if("canceled"!==t.t0.error&&"interrupted"!==t.t0.error){t.next=40;break}l=0,t.next=41;break;case 40:throw new Error("SpeechSynthesisErrorEvent: ".concat(t.t0.error));case 41:t.next=44;break;case 43:throw t.t0;case 44:t.next=19;break;case 46:t.next=60;break;case 48:if("function"!=typeof n){t.next=55;break}return c=Mr(n(),e,!1),a.push(c),t.next=53,c.series;case 53:t.next=60;break;case 55:if(!Array.isArray(n)){t.next=60;break}return d=Mr(n,e,!1),a.push(d),t.next=60,d.series;case 60:t.next=1;break;case 62:return t.prev=62,u=!1,t.finish(62);case 65:case"end":return t.stop()}}),t,null,[[0,,62,65],[20,26]])})))(),get active(){return u},append:function(t){i.push(t)},cancel:function(){u&&(n&&A.cancel(),a.forEach((function(t){t.cancel()})),u=!1)}}}function Lr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return mr&&mr.cancel(),mr=Mr(t,e)}var Br,kr,Sr=[],Nr=!1;function jr(t,e){var n,r=function(t,e){var n,r=function(){return clearTimeout(n)};return xt()&&mt(r),Object.assign((function(){for(var A=arguments.length,o=new Array(A),i=0;i<A;i++)o[i]=arguments[i];void 0!==n&&r(),n=setTimeout((function(){return t.apply(void 0,o)}),e)}),{clear:r})}(t,e),A=function(t){n=t,r(t)};return A.flush=function(){r.clear(),t(n)},A.clear=r.clear,A}function Dr(t){return t.id||t.name}function Qr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(zr.onFocusChange&&zr.enabled){var e=t.every((function(t){return!t.loading})),n=t.filter((function(t){return!Sr.includes(t)}));if(Br(),e||!zr.onFocusChange){Sr=t.slice(0);var r=[],A=n.reduce((function(t,e){return e.announce?(t.push([Dr(e),"Announce",e.announce]),r.push(e.announce)):e.title?(t.push([Dr(e),"Title",e.title]),r.push(e.title)):t.push([Dr(e),"No Announce",""]),t}),[]);return n.reverse().reduce((function(t,e){return e.announceContext?(t.push([Dr(e),"Context",e.announceContext]),r.push(e.announceContext)):t.push([Dr(e),"No Context",""]),t}),A),zr.debug&&console.table(A),r.length?zr.speak(r.reduce((function(t,e){return t.concat(e)}),[])):void 0}zr.onFocusChange([])}}var zr={debug:!1,enabled:!0,cancel:function(){kr&&kr.cancel()},clearPrevFocus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Sr=Sr.slice(0,t),Br()},speak:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.append,A=void 0!==r&&r,o=n.notification,i=void 0!==o&&o;zr.onFocusChange&&zr.enabled&&(zr.onFocusChange.flush(),A&&kr&&kr.active?kr.append(t):(zr.cancel(),function(t){if(!Nr)kr=Lr(t)}(t)),i&&(Nr=!0,null===(e=kr)||void 0===e||e.series.finally((function(){Nr=!1,zr.refresh()})).catch(console.error)));return kr},refresh:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;zr.clearPrevFocus(t),zr.onFocusChange&&zr.onFocusChange(gt((function(){return Ir()})))},setupTimers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.focusDebounce,n=void 0===e?400:e,r=t.focusChangeTimeout,A=void 0===r?3e5:r;zr.onFocusChange=jr(Qr,n),Br=jr((function(){Sr=[]}),A)}};function Rr(t){return function(){var e=this.children.length,n=this.wrap,r=this.selected;if("right"===t||"down"===t)do{var A;if(this.selected=(this.selected||0)%e+1,this.selected>=e){if(!n){this.selected=null;break}this.selected=0}}while(null!==(A=this.children[this.selected])&&void 0!==A&&A.skipFocus);else if("left"===t||"up"===t)do{var o;if(this.selected=(this.selected||0)%e-1,this.selected<0){if(!n){this.selected=null;break}this.selected=e-1}}while(null!==(o=this.children[this.selected])&&void 0!==o&&o.skipFocus);if(null===this.selected)return this.selected=r,!1;var i=this.children[this.selected];if(yr(i instanceof vn),this.onSelectedChanged&&this.onSelectedChanged.call(this,this,i,this.selected,r),this.plinko&&null!==r){var a=this.children[r];yr(a instanceof vn);var s=a.selected;i.selected=s}return te(i),!0}}function _r(t){var e,n=Rr("left"),r=Rr("right"),A={display:"flex",justifyContent:"flexStart"};return e=Mn("node"),kn(e,"onLeft",n),kn(e,"onRight",r),Bn(e,Sn({get selected(){return t.selected||0},get onFocus(){return t.onFocus||function(t){if(t&&null!==t.selected){for(var e=t.children[t.selected];null!==(n=e)&&void 0!==n&&n.skipFocus;){var n;t.selected++,e=t.children[t.selected]}e instanceof vn&&e.setFocus()}}},get style(){return t.style||A}},t),!0),Ln(e,(function(){return t.children})),e}function Pr(t){var e,n=Rr("up"),r=Rr("down"),A={display:"flex",flexDirection:"column",justifyContent:"flexStart"};return e=Mn("node"),kn(e,"onUp",n),kn(e,"onDown",r),Bn(e,Sn({get onFocus(){return t.onFocus||function(t){if(t&&null!==t.selected){for(var e=t.children[t.selected];null!==(n=e)&&void 0!==n&&n.skipFocus;){var n;t.selected++,e=t.children[t.selected]}e instanceof vn&&e.setFocus()}}},get selected(){return t.selected||0},get style(){return t.style||A}},t),!0),Ln(e,(function(){return t.children})),e}var Or=w(lt(""),2),Fr=Or[0],Yr=Or[1],Wr=w(lt(!1),2),Hr=Wr[0],Ur=Wr[1],Gr=w(lt(!1),2),Xr=(Gr[0],Gr[1]);function Zr(){var t,e,n=0,r={alpha:1,color:4294967295},A={duration:1e3,easing:"ease-in-out"};return ft(yt(Fr,(function(r){return r.startsWith("#")?(t.color=r,t.src="",t.alpha=1,n=1,void(e.alpha=0)):(t.color=4294967295,0===n?(t.src=r,void(n=1)):1===n?(e.src=r,n=2,e.alpha=[1],void(t.alpha=[0])):void(2===n&&(t.src=r,n=1,t.alpha=1,e.alpha=0)))}),{defer:!0})),Tn(yn,{width:1920,height:1080,zIndex:-5,get children(){return[Tn(yn,{ref:function(e){"function"==typeof t?t(e):t=e},animate:!0,animationSettings:A,style:r}),Tn(yn,{ref:function(t){"function"==typeof e?e(t):e=t},animate:!0,animationSettings:A,style:r,alpha:0}),Tn(yn,{get effects(){return{radialGradient:{colors:[jn("#3b3b3b"),jn("#272727"),jn("#181818")],stops:[0,.3,.8],height:800,width:1920,pivot:[.8,0]}}}})]}})}var Vr={display:"flex",flexDirection:"row",justifyContent:"flexStart"},qr={display:"flex",flexDirection:"column",justifyContent:"flexStart"},Jr={screenW:1920,screenH:1080,marginX:50,marginY:120,gutterX:24,gutterY:72,focusScale:1.1},Kr={primary:"#141414",focus:"#bdbdbd",container:"#4d4d4d",menuBg:"#2021242e"},$r={display1:{fontFamily:"Ubuntu",fontSize:72,lineHeight:88,fontStyle:"600",verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},display2:{fontFamily:"Ubuntu",fontSize:56,lineHeight:72},headline1:{fontFamily:"Ubuntu",fontSize:36,fontStyle:"600",lineHeight:48,verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},headline2:{fontFamily:"Ubuntu",fontSize:32,lineHeight:44},headline3:{fontFamily:"Ubuntu",fontSize:28,lineHeight:40},body1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40},body2:{fontFamily:"Ubuntu",fontSize:28,lineHeight:34},button1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40,background:"#ffff"}};jn("#000000"),Jr.screenH;var tA={width:50,height:50,x:0};jn("#ffffff"),jn("#ff0000");var eA,nA={Column:y(y({},qr),{},{width:320,height:600,y:220,gap:60,zIndex:101,colors:jn(Kr.primary),x:[20,{duration:250,easing:"ease-in-out"}]}),menuLineStyle:{width:50,height:0,x:0,y:58,selected:{height:6,color:jn("#ff0000")}},MenuWrapper:{zIndex:1e3,angle:(eA=270,eA*Math.PI/180),stops:[0,.4,.8],width:100,height:1080,color:jn(Kr.primary),active:{width:[380,{duration:250,easing:"ease-in-out",alpha:1}]},unactive:{width:[100,{duration:250,easing:"ease-in-out"}]}},MenuText:{zIndex:1,fontSize:30,x:86,y:10,height:50,alpha:0,color:jn("#5b5b5b"),scale:1,focus:{scale:[1.1,{duration:250,easing:"ease-in-out"}],color:jn("#ffffff")},active:{alpha:[1,{duration:250,easing:"ease-in-out"}]},unactive:{alpha:[0,{duration:250,easing:"ease-in-out"}]}}};function rA(t){var e,n,r=Vn(),A=qn();function o(){this.states.add("active"),this.children.forEach((function(t){t.states.add("active")})),this.children.selected.setFocus(),n.states.add("active"),n.states.remove("unactive")}function i(){this.states.add("unactive"),n.states.add("unactive"),n.states.remove("active"),this.children.forEach((function(t){return t.states.remove("active")})),this.children.forEach((function(t){return t.states.add("unactive")}))}return Tn(yn,{get style(){return nA.MenuWrapper},ref:function(t){"function"==typeof n?n(t):n=t},get children(){return[Tn(Pr,Sn(t,{onFocus:o,onBlur:i,get style(){return nA.Column},animate:!0,plinko:!0,get children(){return[Tn(yn,{get children(){return window.devicePixelRatio}}),En((function(){return((null==t?void 0:t.mennuItems)||[]).map((function(t){return Tn(yn,{get src(){return"./"+"".concat(t.icon)},style:tA,forwardStates:!0,onEnter:function(){return r("".concat(t.path))},animate:!0,get id(){return t.path},get states(){return A.pathname==t.path?["selected"]:[""]},get children(){return[Tn(yn,{get style(){return nA.menuLineStyle}}),Tn(gn,{get style(){return nA.MenuText},get children(){return t.name}})]}})}))}))]}})),Tn(yn,{ref:function(t){"function"==typeof e?e(t):e=t}})]}})}var AA={Page:{width:1920,height:1080},pageWrapper:{x:100},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:1920,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:Jr.screenW,height:600,y:350,x:0,zIndex:2},FocusRing:{borderRadius:0,width:194,height:286,y:-5,x:-5,zIndex:-1},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:jn("#000000")},RowTitle:{height:60,width:400,marginTop:20,fontSize:36,color:jn("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:290,gap:10},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:10,width:Jr.screenW-2*Jr.marginX,x:Jr.marginX+Jr.gutterX,y:100,zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:jn("#0000ff")},peopleBio:y(y({},$r.body1),{},{contain:"both",width:1500,height:400})};jn("#000000"),jn("#3333ff"),jn("#333333");jn("#00A699"),jn("#F6F6F9");jn("#715cab"),jn("#5a39a2"),jn("#291d43");jn("#000000"),jn("#FFFFFF"),jn("#909090");var oA=[{name:"Home",path:"/",icon:"assets/icon-home.png"},{name:"Search",path:"/search",icon:"assets/icon-search.png"},{name:"TV",path:"/tv",icon:"assets/icon-tivi.png"},{name:"List column",path:"/videos",icon:"assets/icon-video.png"},{name:"List Slider",path:"/list",icon:"assets/icon-list.png"}];lt(!1);var iA=function(t){(zr.setupTimers(),ft(yt(Ir,zr.onFocusChange,{defer:!0})),zr).enabled=!1;var e,n,r=Vn(),A=qn();Jn();var o,i=w(lt(A),2),a=i[0],s=i[1];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=vr();xr=y(y({},xr),t);var n=Object.entries(xr);ft(yt($t,(function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t,A=[];r;){var o;r.states.has("focus")||(r.states.add("focus"),gr(r.onFocus)&&r.onFocus.call(r,t,null!=e?e:null)),A.push(r),r=null!==(o=r.parent)&&void 0!==o?o:null}return n.forEach((function(n){A.includes(n)||(n.states.remove("focus"),gr(n.onBlur)&&n.onBlur.call(n,t,null!=e?e:null))})),Cr(A),A}),{defer:!0})),ft((function(){var t=e();if(t){var r=n.find((function(e){var n=w(e,2);return n[0],n[1]===t.key}));gt((function(){var e,n=I(Ir());try{for(n.s();!(e=n.n()).done;){var A=e.value,o=r?r[0]:void 0;if(o){var i=A["on".concat(o)];if(gr(i)&&!0===i.call(A,t,A))break}else console.log("Unhandled key event: ".concat(t.key));if(gr(A.onKeyPress)&&!0===A.onKeyPress.call(A,t,o,A))break}}catch(a){n.e(a)}finally{n.f()}return!1}))}}))}({Menu:"m",Escape:"Escape"}),o=function(){Ur(!0)},ft((function(){return gt(o)})),ft((function(){s(A.pathname)})),Tn(yn,{ref:function(t){var e=window.APP;"function"==typeof e?e(t):window.APP=t},onLast:function(){return history.back()},onMenu:function(){return r("/")},style:{width:1920,height:1080},onLeft:function(){if(e.states.has("focus")||0==Hr()&&"/search"==a())return!1;n=$t(),e.setFocus(),Xr(!0)},onRight:function(){return Ur(!1),Xr(!1),e.states.has("focus")&&n.setFocus()},plinko:!0,get children(){return[Tn(Zr,{}),Tn(yn,{get style(){return AA.pageWrapper},get children(){return t.children}}),Tn(rA,{ref:function(t){"function"==typeof e?e(t):e=t},mennuItems:oA})]}})},aA=new URL("AppCoreExtensions-legacy-d33893df.js",A.meta.url).href,sA=function(){var t={width:900,height:500,y:350,x:20,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart"},e={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart"},n={fontSize:42},r={width:t.width,fontSize:26,contain:"width"},A={fontSize:26};return Tn(yn,{autofocus:!0,style:t,get children(){return[Tn(gn,{style:n,children:"Title of the Page"}),Tn(gn,{style:r,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel tempor tellus. Sed eu leo purus. Vestibulum sollicitudin eget tellus a varius. Phasellus est turpis, volutpat sed blandit sit amet, rutrum sit amet mauris. In dignissim elit orci, a sollicitudin ipsum faucibus et. Quisque vel quam rutrum, faucibus augue sed, scelerisque nunc."}),Tn(yn,{style:e,get children(){return[Tn(gn,{style:A,children:"Subline Text"}),Tn(yn,{width:28,height:28,src:"/assets/rt-popcorn.png"}),Tn(gn,{style:A,children:"More Text"})]}})]}})},uA=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],lA={display:"flex",flexDirection:"column",gap:40,y:0,color:jn("#000000"),height:Jr.screenH,alpha:1},cA={display:"flex",flexDirection:"row",justifyContent:"flexStart",gap:16,x:40,zIndex:999,height:Jr.screenH},dA={display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:16,width:540,x:40,zIndex:999},fA={display:"flex",flexDirection:"row",justifyContent:"spaceBetween",gap:8,height:70,width:500},hA={color:jn("#000000"),alpha:.8,zIndex:998,x:0,y:0},pA={display:"flex",borderRadius:6,border:{width:0,color:jn("#ffffff")},justifyContent:"center",alignItems:"center",gap:6,width:70,height:70,color:jn("#2e3743"),focus:{border:{width:4,color:jn("#ffffff")},color:jn("#000000")}},vA={fontSize:40},gA={color:jn("#red"),width:500,x:40,height:70,alpha:1,backgroundColor:jn("#ffffff"),borderRadius:8,border:{width:4,color:jn("#ffffff")},display:"flex",alignItems:"center",justifyContent:"flexStart"},yA={width:500,display:"flex",flexDirection:"column",alignItems:"flexStart",justifyContent:"flexStart",gap:20,x:0},mA={height:70,width:240,color:jn("#2e3743"),display:"flex",alignItems:"center",justifyContent:"center",borderRadius:6,border:{width:0,color:jn("#ffffff")},focus:{border:{width:4,color:jn("#ffffff")},color:jn("#000000")}},xA={width:70,height:50},wA={height:10,x:0,y:0},IA={color:jn("#09121a"),y:-160,fontSize:30,x:40,width:Jr.screenW-696,height:Jr.screenH,zIndex:999,alignItems:"center",justifyContent:"center"},CA={display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20,width:Jr.screenW-(2*Jr.marginX+532+2*(Jr.marginX+Jr.gutterX)),x:48,y:48,zIndex:2},bA={display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20},EA={display:"flex",justifyContent:"center",alignItems:"center"},TA={Thumbnail:{borderRadius:0,width:187,height:294,scale:1,zIndex:2},FocusRing:{borderRadius:0,y:-2,x:-2,zIndex:-1,color:jn("#ffffff")}};function MA(t){var e;function n(){var t;null===(t=this.children.selected)||void 0===t||t.setFocus()}return ft(yt($t,(function(t){a(t),setTimeout((function(){t.heroContent?(e.parent=t.parent,e.alpha=1,e.scale=1,e.x=t.x-1.5,e.y=t.y-1.5,e.width=t.width+1.5,e.height=t.height+1.5,e.createAnimation({scale:1.03}).start()):e.alpha=0}),10)}),{defer:!0})),Tn(yn,Sn(t,{animate:!0,get style(){return TA.Thumbnail},get children(){return[Tn(yn,Sn({onFocus:n},t,{animate:!0,get style(){return TA.Thumbnail}})),Tn(yn,{ref:function(t){"function"==typeof e?e(t):e=t},get style(){return TA.FocusRing}})]}}))}function LA(t){var e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(V in t){var A=new Set(n.length>1?n.flat():n[0]),o=n.map((function(e){return new Proxy({get:function(n){return e.includes(n)?t[n]:void 0},has:function(n){return e.includes(n)&&n in t},keys:function(){return e.filter((function(e){return e in t}))}},Ht)}));return o.push(new Proxy({get:function(e){return A.has(e)?void 0:t[e]},has:function(e){return!A.has(e)&&e in t},keys:function(){return Object.keys(t).filter((function(t){return!A.has(t)}))}},Ht)),o}var i,a={},s=n.map((function(){return{}})),u=I(Object.getOwnPropertyNames(t));try{for(u.s();!(i=u.n()).done;){var l,c=i.value,d=Object.getOwnPropertyDescriptor(t,c),f=!d.get&&!d.set&&d.enumerable&&d.writable&&d.configurable,h=!1,p=0,g=I(n);try{for(g.s();!(l=g.n()).done;)l.value.includes(c)&&(h=!0,f?s[p][c]=d.value:Object.defineProperty(s[p],c,d)),++p}catch(y){g.e(y)}finally{g.f()}h||(f?a[c]=d.value:Object.defineProperty(a,c,d))}}catch(y){u.e(y)}finally{u.f()}return[].concat(v(s),[a])}(t,["items"]),n=w(e,2),r=n[0],A=n[1];return Tn(_r,Sn(A,{get style(){return AA.Row},get children(){return Tn(Vt,{get each(){return r.items},children:function(t){return Tn(MA,t)}})}}))}function BA(t){var e=w(lt([]),2),n=e[0],r=e[1],A=w(lt(1),2),o=A[0],i=A[1],a=w(lt(!1),2),s=a[0],u=a[1],l=w(pt(o,t),1)[0];return ct((function(){var t=l();t&&kt((function(){0===t.length&&u(!0),r((function(e){return[].concat(v(e),v(t))}))}),!1)})),{pages:n,page:o,setPage:i,setPages:r,end:s,setEnd:u}}var kA,SA,NA="e9e9d8da18ae29fc430845952232787c",jA="https://api.themoviedb.org/3",DA="w185",QA={headers:{"Content-Type":"application/json",Authorization:"Bearer 596e02522af6fe40f284e6de58fd0865f2cbaae3"}};function zA(t){return SA+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:DA)+t}function RA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(jA+t+(t.includes("?")?"&":"?")+"api_key="+NA,y(y({},QA),e)).then((function(t){return t.json()}))}function _A(){return RA("/configuration").then((function(t){var e;return kA=t,SA=null===(e=t.images)||void 0===e?void 0:e.secure_base_url,t}))}var PA={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return kA?RA(t,e):_A().then((function(){return RA(t,e)}))},loadConfig:_A};function OA(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=[],r=0,A=t.length;r<A;r+=e)n.push(t.slice(r,r+e));return n}function FA(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return{src:zA(t.poster_path||t.profile_path),tileSrc:zA(t.backdrop_path||t.profile_path,"w300"),backdrop:zA(t.backdrop_path,"w1280"),href:"/entity/".concat(t.media_type||"people","/").concat(t.id),shortTitle:(e=t.title||t.name,n=30,e.length>n?e.substring(0,n-3)+"...":e),title:t.title||t.name,data:t,entityInfo:{type:t.media_type||"people",id:t.id},heroContent:{title:t.title||t.name,description:t.overview}};var e,n}))}var YA=new Map,WA=new Map;function HA(t){var e,n,A,i,a,s,u,l,c,d=w(lt(""),2),f=d[0],h=d[1],p=w(lt(0),2),v=p[0],g=p[1],y=ht((function(){return BA((t=5,e=f(),function(){var n=o(r().mark((function n(A){var o,i,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o="/search/movie?include_adult=false&page=".concat(A,"&query==").concat(e),!YA.has(o)){n.next=3;break}return n.abrupt("return",YA.get(o));case 3:return i=t,n.next=6,PA.get(o).then((function(t){var e=t.results.filter((function(t){return!t.adult})),n=OA((WA.has("")?WA.get(""):[]).concat(FA(e)),i);return n[n.length-1].length<i?WA.set("",n.pop()):WA.delete(""),n}));case 6:return a=n.sent,console.log(a),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));var t,e}));ft(yt(f,(function(t){g(0),y().setPage(1)})));var m=vt((function(){return 0}));function x(){this.states.add("focus")}function I(){this.states.remove("focus")}var C=function(){for(var t=[],e=0;e<uA.length;e+=6){var n=uA.slice(e,e+6);t.push(n)}return Tn(Vt,{each:t,children:function(t,e){return Tn(_r,{style:fA,autofocus:!1,plinko:!0,get children(){return Tn(Vt,{each:t,children:function(t,e){return Tn(yn,{style:pA,get onEnter(){return function(t){return function(){h((function(e){return e+t}))}}(t)},animate:!0,onBlur:I,onFocus:x,forwardStates:!0,autofocus:!1,get children(){return Tn(gn,{style:vA,children:t})}})}})}})}})};function b(){var t;null===(t=this.children.selected)||void 0===t||t.setFocus(),g(-1*(this.y||0)+24);var e=y().pages().length;this.parent&&(0===e||this.parent.selected&&this.parent.selected>=e-2)&&y().setPage((function(t){return t+1}))}function E(){}return Tn(yn,{ref:function(t){"function"==typeof e?e(t):e=t},animate:!0,style:hA,autofocus:!0,get children(){return Tn(yn,{ref:function(t){"function"==typeof i?i(t):i=t},animate:!0,style:lA,autofocus:!0,plinko:!0,get children(){return[Tn(yn,{ref:function(t){"function"==typeof n?n(t):n=t},style:wA,skipFocus:!0}),Tn(yn,{ref:function(t){"function"==typeof n?n(t):n=t},style:gA,animate:!0,skipFocus:!0,get children(){return Tn(gn,{get style(){return{color:jn("#ffffff"),fontSize:30,marginLeft:20}},get children(){return f()}})}}),Tn(Pr,{style:cA,ref:function(t){"function"==typeof a?a(t):a=t},autofocus:!0,onDown:function(){if(u.states.has("focus"))return!1},plinko:!0,get children(){return[Tn(Pr,{style:dA,ref:function(t){"function"==typeof u?u(t):u=t},onRight:function(){s.setFocus(),y().pages().length>0&&l.setFocus()},onLeft:function(){Ur(!0)},get children(){return[Tn(_r,{style:fA,autofocus:!1,get children(){return[Tn(yn,{style:mA,ref:function(t){"function"==typeof c?c(t):c=t},get onEnter(){return function(){h((function(t){return t+" "}))}},animate:!0,autofocus:!1,get children(){return Tn(yn,{style:xA,src:"./assets/icon-space.png",forwardStates:!0,animate:!0})}}),Tn(yn,{style:mA,get onEnter(){return function(){h((function(t){return t.slice(0,-1)}))}},animate:!0,autofocus:!1,get children(){return Tn(yn,{style:xA,src:"./assets/icon-back-space.png",forwardStates:!0,animate:!0})}})]}}),Tn(Pr,{plinko:!0,style:bA,get children(){return C()}}),Tn(Pr,{ref:function(t){"function"==typeof A?A(t):A=t},animate:!0,style:yA,forwardStates:!0,get children(){return Tn(gn,{get style(){return{color:jn("#504d4d"),fontSize:30,focus:{color:jn("#ffffff")}}}})}})]}}),Tn(yn,{style:IA,ref:function(t){"function"==typeof s?s(t):s=t},onLeft:function(){u.setFocus()},get children(){return[Tn(qt,{get when(){return 0==y().pages().length},get children(){return Tn(yn,{style:EA,get children(){return Tn(gn,{style:{fontSize:40,display:"flex",justifyContent:"center",textAlign:"center"},children:"No Data"})}})}}),Tn(qt,{get when(){return y().pages().length>0},get children(){return Tn(Pr,{ref:function(t){"function"==typeof l?l(t):l=t},animate:!0,get y(){return v()},style:CA,plinko:!0,get children(){return Tn(Vt,{get each(){return y().pages()},children:function(t,e){return Tn(LA,{get autofocus(){return En((function(){return!!m(e())}))()&&s.states.has("focus")},items:t,onFocus:b,onEnter:E})}})}})}})]}})]}})]}})}})}function UA(t){var e,n=vt((function(){return 0})),r=w(lt(0),2),A=r[0],o=r[1],i=w(lt(0),2),s=i[0],u=i[1];function l(){var t=this.children.selected;s()||(e=$t(),a(t&&t.id),H(t.url),o(.9),u(1),f.setFocus())}var c=[{title:"Streaming Test",id:"vod",url:"https://live-par-2-cdn-alt.livepush.io/live/bigbuckbunnyclip/index.m3u8",description:"Streaming Implementation"},{title:"Bunny Video",id:"bunny",url:"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8",description:"VoD Implementation"}];function d(t){var e=w(lt(4294967295),2),n=e[0],r=e[1];return Tn(yn,Sn(t,{onFocus:function(){r(255)},onBlur:function(){r(4294967295)},animate:!0,style:{width:370,height:320,borderRadius:6,scale:1,color:405488895,focus:{scale:1.1,color:4294967295}},get children(){return Tn(yn,{x:30,get children(){return[Tn(gn,{y:30,fontSize:84,get color(){return n()},get children(){return t.index+1}}),Tn(gn,{y:140,fontSize:42,width:340,height:42,contain:"both",get color(){return n()},get children(){return t.title}}),Tn(gn,{y:200,fontSize:28,width:330,contain:"width",get color(){return n()},get children(){return t.description}})]}})}}))}var f,h=w(lt(140),2),p=h[0];h[1];function v(t){s()&&f.setFocus()}ft(yt($t,(function(t){s()&&f.setFocus()}),{defer:!0}));var g=function(){var t,e,n;s()&&(t=document.getElementById("video"),e=document.getElementById("live-indicator"),n=document.getElementById("current-time"),"video"===e.getAttribute("data-type")&&(t.currentTime=Math.max(t.currentTime-10,0),n.innerHTML=W(t.currentTime)))},y=function(){var t,e,n;s()&&(t=document.getElementById("video"),e=document.getElementById("live-indicator"),n=document.getElementById("current-time"),"video"===e.getAttribute("data-type")&&(t.currentTime=Math.min(t.currentTime+10,t.duration),n.innerHTML=W(t.currentTime)))},m=function(){s()&&function(){var t=document.activeElement.getAttribute("id");if(t)if("playpause"!==t)if("max"!==t)if("mute"!==t){if("quality-btn"!==t){if(t.includes("quality-")){var e,n=parseInt(G(t),10);(e=document.getElementById("quality-"+(n+1)))&&e.focus()}}else if("dropdown-content show"===(e=document.getElementById("quality")).className){var r=document.getElementById("quality-0");r&&r.focus()}}else document.getElementById("quality-btn").focus();else document.getElementById("mute").focus();else document.getElementById("max").focus();else document.getElementById("playpause").focus()}()},x=function(){s()&&function(){var t=document.activeElement.getAttribute("id");if(t)if("max"!==t)if("mute"!==t)if("quality-btn"!==t){if(t.includes("quality-")){var e=parseInt(G(t),10);0===e?document.getElementById("quality-btn").focus():document.getElementById("quality-"+(e-1)).focus()}}else document.getElementById("mute").focus();else document.getElementById("max").focus();else document.getElementById("playpause").focus();else document.getElementById("playpause").focus()}()};return Tn(yn,{onEscape:function(){U(),o(0),u(0),e.setFocus()},get children(){return[Tn(yn,{x:120,get children(){return[Tn(gn,{fontSize:90,x:110,y:40,children:"Videos"}),Tn(yn,{y:140,height:1,width:1800,color:3906468351})]}}),Tn(_r,{onSelectedChanged:v,onEnter:l,animationSettings:{delay:20,duration:300},animate:!0,get x(){return p()},y:300,width:4400,get style(){return AA.Row},justifyContent:"flexStart",gap:40,get children(){return[Tn(Vt,{each:c,children:function(t,e){return Tn(d,Sn({get skipFocus(){return s()},get autofocus(){return n(e())},get index(){return e()}},t))}}),Tn(yn,{y:240,height:1,width:1,color:3906468351,onLeft:g,onRight:y,onUp:m,onDown:x,ref:function(t){"function"==typeof f?f(t):f=t},skipFocus:!0})]}}),Tn(yn,{get alpha(){return A()},get color(){return jn("#000000")},zIndex:200})]}})}var GA=function(){return Tn(yn,{style:{width:1920,height:1080,color:868483072},get children(){return Tn(gn,{children:"Not Found"})}})},XA=new Map,ZA=new Map;function VA(t,e){return function(n){var r="/trending/".concat(t,"/week?page=").concat(n);if(XA.has(r))return XA.get(r);var A=e||7,o=PA.get(r).then((function(e){var n=e.results.filter((function(t){return!t.adult})),r=OA((ZA.has(t)?ZA.get(t):[]).concat(FA(n)),A);return r[r.length-1].length<A?ZA.set(t,r.pop()):ZA.delete(t),r}));return XA.set(r,o),o}}var qA=1100,JA=y(y({},$r.display2),{},{width:qA,height:58,contain:"both"}),KA=function(t){return Tn(gn,Sn(t,{style:JA,get children(){return t.children}}))},$A=y(y({},$r.body1),{},{width:qA,height:72,contain:"both"}),to={fontSize:20,lineHeight:20},eo=function(t){return Tn(gn,Sn(t,{style:$A,get children(){return t.children}}))};var no=function(t){return e=Mn("node"),Nn(br,e,(function(){return[8,15,13,15]})),Bn(e,Sn(t,{style:{color:"0x00000099",borderRadius:8,border:{width:3,color:"0xffffffff"}}}),!0),Ln(e,Tn(gn,{style:to,get children(){return t.children}})),e;var e},ro=$r.body2,Ao=function(t){return Tn(yn,{get style(){return y(y({},Vr),{},{gap:12,width:qA,height:48})},get children(){return[Tn(gn,{style:ro,get children(){return t.metaText}}),Tn(Vt,{get each(){return t.badges},children:function(t){return Tn(no,{y:-5,children:t})}}),En((function(){return e=t.reviews,[Tn(qt,{get when(){return(null==e?void 0:e.rtCrit)&&"0"!==(null==e?void 0:e.rtCrit)},get children(){return[Tn(yn,{src:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Tomato-Torrent-Icon.png",title:"Rotten Tomatoes Rating",style:{width:30,height:30,marginRight:-6}}),Tn(gn,{style:ro,get children(){return e.rtCrit+"%"}})]}}),Tn(qt,{get when(){return(null==e?void 0:e.rtFan)&&"0"!==(null==e?void 0:e.rtFan)},get children(){return[Tn(yn,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Rotten_Tomatoes_positive_audience.svg/80px-Rotten_Tomatoes_positive_audience.svg.png",title:"Rotten Tomatoes Rating",style:{width:24,height:30,marginRight:-6}}),Tn(gn,{style:ro,get children(){return e.rtFan+"%"}})]}})];var e}))]}})},oo=function(t){return console.log("badges",t.badges),Tn(yn,Sn(t,{get style(){return y(y({},qr),{},{width:qA,height:160,gap:16})},get children(){return[Tn(KA,{get children(){return t.title}}),Tn(eo,{get children(){return t.description}}),Tn(Ao,{get metaText(){return t.metaText},get badges(){return t.badges},get reviews(){return t.reviews}})]}}))};function io(t){return t.split("-")[0]}function ao(t){var e=t.type,n=t.id,r="movie"===e?{rtCrit:86,rtFan:92}:{};return PA.get("/".concat(e,"/").concat(n)).then((function(t){return y({backgroundImage:zA(t.backdrop_path,"original"),heroContent:{title:t.title||t.name,description:t.overview,badges:["HD"],metaText:"movie"===e?(n=t.runtime,A=n%60,Math.floor(n/60)+"h "+(A<10?"0":"")+A+"m - "+t.release_date):"".concat(io(t.first_air_date)," - ").concat(io(t.last_air_date)),reviews:r}},t);var n,A}))}var so={Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:15,width:Jr.screenW-2*Jr.marginX,x:Jr.marginX+Jr.gutterX,y:100,zIndex:2},itemsContainer:{width:Jr.screenW,height:600,y:350,x:0,zIndex:2}};function uo(t){console.log(t.type);var e=vt((function(){return 0}));return Tn(yn,{clipping:!0,get style(){return so.itemsContainer},get children(){return Tn(Pr,{plinko:!0,announce:"All Trending - Week",animate:!0,get y(){return t.y},get style(){return so.Column},get children(){return Tn(Vt,{get each(){return(null==t?void 0:t.data)||[]},children:function(n,r){return Tn(LA,{get autofocus(){return!!En((function(){return!!t.autofocus}))()&&e(r())},justifyContent:"flexStart",items:n,get onFocus(){return t.onFocus},get onEnter(){return t.onEnter}})}})}})}})}var lo=function(){var t=Jn(),e=w(lt(0),2),n=e[0],r=e[1],A=w(lt(),2),o=A[0];A[1];pt(o,ao);var i=w(lt({}),2),s=i[0],u=i[1],l=Vn();vt((function(){return 0}));var c=ht((function(){return BA(VA(t.filter||"all",8))}));function d(){var t;null===(t=this.children.selected)||void 0===t||t.setFocus(),r(-1*(this.y||0)+24);var e=c().pages().length;this.parent&&(0===e||this.parent.selected&&this.parent.selected>=e-2)&&c().setPage((function(t){return t+1}))}function f(){var t=this.children.selected;a(t&&t.href),l(t.href)}return ft(yt($t,(function(t){t.backdrop&&Yr(t.backdrop),t.heroContent&&u(t.heroContent)}),{defer:!0})),Tn(yn,{get children(){return Tn(qt,{get when(){return c().pages().length},get children(){return[Tn(oo,Sn({y:150,x:90},s)),Tn(uo,{type:"sliderList",onEnter:f,onFocus:d,get data(){return c().pages()},get y(){return n()},autofocus:!0})]}})}})},co={Row:{display:"flex",justifyContent:"spaceBetween",height:290},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:10,width:Jr.screenW-2*Jr.marginX,x:Jr.marginX+Jr.gutterX,y:100,zIndex:2},itemsContainer:{width:Jr.screenW,height:600,y:350,x:0,zIndex:2}};function fo(t){var e=vt((function(){return 0})),n=w(lt(t.x),2),r=n[0],A=n[1];function o(t){console.log("row",t),0===t.selected?A(90):A(t.selected*-t.children[0]._width+10)}return Tn(yn,{clipping:!0,get style(){return co.itemsContainer},get children(){return Tn(LA,{animate:!0,gap:10,get x(){return r()},get y(){return t.y},width:4400,get style(){return co.Row},justifyContent:"flexStart",get autofocus(){return e(0)},onSelectedChanged:o,get items(){return t.data},get onFocus(){return t.onFocus},get onEnter(){return t.onEnter}})}})}var ho=function(){var t=Jn();lt(0);var e=w(lt(),2),n=e[0];e[1];pt(n,ao);var r=w(lt({}),2),A=r[0],o=r[1],i=Vn();vt((function(){return 0}));var s=ht((function(){return BA(VA(t.filter||"all",8))}));function u(){var t=this.children.selected;a(t&&t.href),i(t.href)}return ft(yt($t,(function(t){t.backdrop&&Yr(t.backdrop),t.heroContent&&o(t.heroContent)}),{defer:!0})),Tn(qt,{get when(){return s().pages().length},get children(){return[Tn(oo,Sn({y:200,x:90},A)),Tn(fo,{x:90,y:50,onEnter:u,get data(){return v(s().pages()[0])}})]}})};sn.debug=!1,sn.fontSettings.fontFamily="Ubuntu",sn.fontSettings.color=4294967295,console.log("driver",window.innerHeight),console.log("driver",window.devicePixelRatio);var po=navigator.userAgent.toLowerCase().includes("android");bn((function(){return Tn(xn,{get options(){return{coreExtensionModule:aA,threadXCoreWorkerUrl:void 0,deviceLogicalPixelRatio:po?.5:1,appWidth:window.innerWidth?window.innerWidth:1920,appHeight:window.innerHeight?window.innerHeight:1080}},get children(){return Tn(fr,{root:iA,get children(){return[Tn(ar,{path:"/",component:sA}),Tn(ar,{path:"/search",component:HA}),Tn(ar,{path:"/videos",component:lo}),Tn(ar,{path:"/tv",component:UA}),Tn(ar,{path:"/*all",component:GA}),Tn(ar,{path:"/list",component:ho})]}})}})}))}}}))}();
//# sourceMappingURL=index-legacy-c291d5c9.js.map
